{"version":3,"file":"markdown-fd737277.js","sources":["../../../../../src/lib/utils/markdown.ts"],"sourcesContent":["import DOMPurify from 'dompurify';\nimport { marked } from 'marked';\nimport { browser } from '$app/env';\n\nlet resolver;\nconst sanitizer = new Promise<(string) => string>((r) => (resolver = r));\n\nif (!browser) {\n  (async () => {\n    const { JSDOM } = await import('jsdom');\n    resolver(DOMPurify(new JSDOM('').window).sanitize);\n  })();\n} else {\n  resolver(DOMPurify.sanitize);\n}\n\nexport const markdown = (md: string): Promise<string> => {\n  return sanitizer.then((s) => s(marked(md)));\n};\n"],"names":["DOMPurify"],"mappings":"kDAIA,GAAI,GACJ,KAAM,GAAY,GAAI,SAA4B,AAAC,GAAO,EAAW,KAQ1DA,EAAU,eAGR,GAAW,AAAC,GAChB,EAAU,KAAK,AAAC,GAAM,EAAE,EAAO"}