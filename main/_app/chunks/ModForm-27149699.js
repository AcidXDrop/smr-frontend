import{aP as Je,aQ as fe,aY as Ze,aZ as ht,a_ as vt,S as Ke,i as xe,s as et,l as Ie,g as q,Z as H,d as u,R as bt,P as tt,T as wt,aA as kt,e as p,t as R,c as $,a as b,h as F,b as g,X as o,k as I,m as S,j as y,aR as ce,M as de,N as _e,aS as me,aH as at,w as N,x as U,y as L,q as w,o as D,B as M,n as Se,p as Ae,O as ge,aF as Et,Y as ze,aT as Dt,aI as Vt,aU as It,aV as St,aW as At,a$ as Pt,al as st}from"./vendor-590cc875.js";import{t as qt}from"./forms-1eeadc34.js";import{m as lt}from"./markdown-33e389e6.js";import{g as Tt}from"./graphql-58c68975.js";import{a as nt}from"./paths-396f020f.js";const rt=Je({name:fe().min(3).max(32),mod_reference:fe().min(3).max(32).regex(/^([a-zA-Z][a-zA-Z0-9_]*)$/).refine(async()=>!0),short_description:fe().min(16).max(128),full_description:Ze(fe()),logo:Ze(ht().refine(l=>"name"in l&&"size"in l&&"type"in l)),source_url:fe().url().optional().or(vt("")),authors:Ze(Je({role:fe(),user_id:fe()}).array())});function Nt(l){let e,t;return{c(){e=p("p"),t=R("Unknown User ID"),this.h()},l(a){e=$(a,"P",{class:!0});var s=b(e);t=F(s,"Unknown User ID"),s.forEach(u),this.h()},h(){g(e,"class","mr-2 whitespace-nowrap")},m(a,s){q(a,e,s),o(e,t)},p:H,d(a){a&&u(e)}}}function Ut(l){let e,t,a,s,n,f,V=l[0].data.getUser.username+"",m;return{c(){e=p("div"),t=p("div"),s=I(),n=p("div"),f=p("span"),m=R(V),this.h()},l(k){e=$(k,"DIV",{class:!0});var i=b(e);t=$(i,"DIV",{class:!0,style:!0}),b(t).forEach(u),s=S(i),n=$(i,"DIV",{class:!0});var h=b(n);f=$(h,"SPAN",{class:!0});var c=b(f);m=F(c,V),c.forEach(u),h.forEach(u),i.forEach(u),this.h()},h(){g(t,"class","rounded-full bg-cover w-7 h-7"),g(t,"style",a=`background-image: url("${l[0].data.getUser.avatar||nt+"/images/no_image.png"}")`),g(f,"class","text-yellow-500"),g(n,"class","grid grid-flow-row"),g(e,"class","grid grid-flow-col auto-cols-max gap-x-2 mr-2")},m(k,i){q(k,e,i),o(e,t),o(e,s),o(e,n),o(n,f),o(f,m)},p(k,i){i&1&&a!==(a=`background-image: url("${k[0].data.getUser.avatar||nt+"/images/no_image.png"}")`)&&g(t,"style",a),i&1&&V!==(V=k[0].data.getUser.username+"")&&y(m,V)},d(k){k&&u(e)}}}function Lt(l){let e,t,a=l[0].error.message+"",s;return{c(){e=p("p"),t=R("Oh no... "),s=R(a),this.h()},l(n){e=$(n,"P",{class:!0});var f=b(e);t=F(f,"Oh no... "),s=F(f,a),f.forEach(u),this.h()},h(){g(e,"class","mr-2")},m(n,f){q(n,e,f),o(e,t),o(e,s)},p(n,f){f&1&&a!==(a=n[0].error.message+"")&&y(s,a)},d(n){n&&u(e)}}}function Mt(l){let e,t;return{c(){e=p("p"),t=R("Loading..."),this.h()},l(a){e=$(a,"P",{class:!0});var s=b(e);t=F(s,"Loading..."),s.forEach(u),this.h()},h(){g(e,"class","mr-2")},m(a,s){q(a,e,s),o(e,t)},p:H,d(a){a&&u(e)}}}function jt(l){let e;function t(n,f){return n[0].fetching?Mt:n[0].error?Lt:n[0].data.getUser?Ut:Nt}let a=t(l),s=a(l);return{c(){s.c(),e=Ie()},l(n){s.l(n),e=Ie()},m(n,f){s.m(n,f),q(n,e,f)},p(n,[f]){a===(a=t(n))&&s?s.p(n,f):(s.d(1),s=a(n),s&&(s.c(),s.m(e.parentNode,e)))},i:H,o:H,d(n){s.d(n),n&&u(e)}}}function Rt(l,e,t){let a,{id:s}=e;const n=bt(Tt,{user:s});return tt(l,n,f=>t(0,a=f)),wt(n),l.$$set=f=>{"id"in f&&t(2,s=f.id)},l.$$.update=()=>{l.$$.dirty&5&&(kt(n,a.variables.user=s,a),a.reexecute())},[a,n,s]}class Ft extends Ke{constructor(e){super();xe(this,e,Rt,jt,et,{id:2})}}function it(l,e,t){const a=l.slice();return a[17]=e[t],a[18]=e,a[19]=t,a}function Ht(l){let e,t=(l[20]||"")+"",a;return{c(){e=p("span"),a=R(t),this.h()},l(s){e=$(s,"SPAN",{class:!0});var n=b(e);a=F(n,t),n.forEach(u),this.h()},h(){g(e,"class","validation-message")},m(s,n){q(s,e,n),o(e,a)},p(s,n){n&1048576&&t!==(t=(s[20]||"")+"")&&y(a,t)},d(s){s&&u(e)}}}function ot(l){let e;return{c(){e=R(`Warning! You will not be able to change this after creating the mod! Please ensure this is a unique modifier
            that closely matches the name of your mod!`)},l(t){e=F(t,`Warning! You will not be able to change this after creating the mod! Please ensure this is a unique modifier
            that closely matches the name of your mod!`)},m(t,a){q(t,e,a)},d(t){t&&u(e)}}}function Bt(l){let e,t=!l[1]&&ot();return{c(){t&&t.c(),e=Ie()},l(a){t&&t.l(a),e=Ie()},m(a,s){t&&t.m(a,s),q(a,e,s)},p(a,s){a[1]?t&&(t.d(1),t=null):t||(t=ot(),t.c(),t.m(e.parentNode,e))},d(a){t&&t.d(a),a&&u(e)}}}function Ot(l){let e,t;return e=new Pt({props:{persistent:!l[1],slot:"helper",$$slots:{default:[Bt]},$$scope:{ctx:l}}}),{c(){N(e.$$.fragment)},l(a){U(e.$$.fragment,a)},m(a,s){L(e,a,s),t=!0},p(a,s){const n={};s&2&&(n.persistent=!a[1]),s&4194306&&(n.$$scope={dirty:s,ctx:a}),e.$set(n)},i(a){t||(w(e.$$.fragment,a),t=!0)},o(a){D(e.$$.fragment,a),t=!1},d(a){M(e,a)}}}function Yt(l){let e,t=(l[20]||"")+"",a;return{c(){e=p("span"),a=R(t),this.h()},l(s){e=$(s,"SPAN",{class:!0});var n=b(e);a=F(n,t),n.forEach(u),this.h()},h(){g(e,"class","validation-message")},m(s,n){q(s,e,n),o(e,a)},p(s,n){n&1048576&&t!==(t=(s[20]||"")+"")&&y(a,t)},d(s){s&&u(e)}}}function Zt(l){let e,t=(l[20]||"")+"",a;return{c(){e=p("span"),a=R(t),this.h()},l(s){e=$(s,"SPAN",{class:!0});var n=b(e);a=F(n,t),n.forEach(u),this.h()},h(){g(e,"class","validation-message")},m(s,n){q(s,e,n),o(e,a)},p(s,n){n&1048576&&t!==(t=(s[20]||"")+"")&&y(a,t)},d(s){s&&u(e)}}}function zt(l){let e,t=(l[20]||"")+"",a;return{c(){e=p("span"),a=R(t),this.h()},l(s){e=$(s,"SPAN",{class:!0});var n=b(e);a=F(n,t),n.forEach(u),this.h()},h(){g(e,"class","validation-message")},m(s,n){q(s,e,n),o(e,a)},p(s,n){n&1048576&&t!==(t=(s[20]||"")+"")&&y(a,t)},d(s){s&&u(e)}}}function Ct(l){return{c:H,l:H,m:H,p:H,d:H}}function Wt(l){let e,t=l[21]+"";return{c(){e=p("div"),this.h()},l(a){e=$(a,"DIV",{class:!0});var s=b(e);s.forEach(u),this.h()},h(){g(e,"class","markdown-content right svelte-k92wki")},m(a,s){q(a,e,s),e.innerHTML=t},p(a,s){s&8&&t!==(t=a[21]+"")&&(e.innerHTML=t)},d(a){a&&u(e)}}}function Gt(l){return{c:H,l:H,m:H,p:H,d:H}}function Qt(l){let e,t=(l[20]||"")+"",a;return{c(){e=p("span"),a=R(t),this.h()},l(s){e=$(s,"SPAN",{class:!0});var n=b(e);a=F(n,t),n.forEach(u),this.h()},h(){g(e,"class","validation-message")},m(s,n){q(s,e,n),o(e,a)},p(s,n){n&1048576&&t!==(t=(s[20]||"")+"")&&y(a,t)},d(s){s&&u(e)}}}function Xt(l){let e,t=(l[20]||"")+"",a;return{c(){e=p("span"),a=R(t),this.h()},l(s){e=$(s,"SPAN",{class:!0});var n=b(e);a=F(n,t),n.forEach(u),this.h()},h(){g(e,"class","validation-message")},m(s,n){q(s,e,n),o(e,a)},p(s,n){n&1048576&&t!==(t=(s[20]||"")+"")&&y(a,t)},d(s){s&&u(e)}}}function ft(l){let e,t,a,s,n,f,V,m;f=new ze({props:{type:"button",$$slots:{default:[Jt]},$$scope:{ctx:l}}}),f.$on("click",l[6]);let k=l[2].authors,i=[];for(let c=0;c<k.length;c+=1)i[c]=dt(it(l,k,c));const h=c=>D(i[c],1,1,()=>{i[c]=null});return{c(){e=p("div"),t=p("div"),a=p("h4"),s=R("Authors"),n=I(),N(f.$$.fragment),V=I();for(let c=0;c<i.length;c+=1)i[c].c();this.h()},l(c){e=$(c,"DIV",{class:!0});var d=b(e);t=$(d,"DIV",{class:!0});var A=b(t);a=$(A,"H4",{class:!0});var E=b(a);s=F(E,"Authors"),E.forEach(u),n=S(A),U(f.$$.fragment,A),A.forEach(u),V=S(d);for(let j=0;j<i.length;j+=1)i[j].l(d);d.forEach(u),this.h()},h(){g(a,"class","mr-4"),g(t,"class","flex items-baseline"),g(e,"class","grid grid-flow-row gap-2")},m(c,d){q(c,e,d),o(e,t),o(t,a),o(a,s),o(t,n),L(f,t,null),o(e,V);for(let A=0;A<i.length;A+=1)i[A].m(e,null);m=!0},p(c,d){const A={};if(d&4194304&&(A.$$scope={dirty:d,ctx:c}),f.$set(A),d&132){k=c[2].authors;let E;for(E=0;E<k.length;E+=1){const j=it(c,k,E);i[E]?(i[E].p(j,d),w(i[E],1)):(i[E]=dt(j),i[E].c(),w(i[E],1),i[E].m(e,null))}for(Se(),E=k.length;E<i.length;E+=1)h(E);Ae()}},i(c){if(!m){w(f.$$.fragment,c);for(let d=0;d<k.length;d+=1)w(i[d]);m=!0}},o(c){D(f.$$.fragment,c),i=i.filter(Boolean);for(let d=0;d<i.length;d+=1)D(i[d]);m=!1},d(c){c&&u(e),M(f),Et(i,c)}}}function yt(l){let e;return{c(){e=R("Add")},l(t){e=F(t,"Add")},m(t,a){q(t,e,a)},d(t){t&&u(e)}}}function Jt(l){let e,t;return e=new st({props:{$$slots:{default:[yt]},$$scope:{ctx:l}}}),{c(){N(e.$$.fragment)},l(a){U(e.$$.fragment,a)},m(a,s){L(e,a,s),t=!0},p(a,s){const n={};s&4194304&&(n.$$scope={dirty:s,ctx:a}),e.$set(n)},i(a){t||(w(e.$$.fragment,a),t=!0)},o(a){D(e.$$.fragment,a),t=!1},d(a){M(e,a)}}}function ut(l){let e,t;return e=new Ft({props:{id:l[2].authors[l[19]].user_id}}),{c(){N(e.$$.fragment)},l(a){U(e.$$.fragment,a)},m(a,s){L(e,a,s),t=!0},p(a,s){const n={};s&4&&(n.id=a[2].authors[a[19]].user_id),e.$set(n)},i(a){t||(w(e.$$.fragment,a),t=!0)},o(a){D(e.$$.fragment,a),t=!1},d(a){M(e,a)}}}function ct(l){let e,t;function a(){return l[16](l[19])}return e=new ze({props:{type:"button",variant:"raised",$$slots:{default:[xt]},$$scope:{ctx:l}}}),e.$on("click",a),{c(){N(e.$$.fragment)},l(s){U(e.$$.fragment,s)},m(s,n){L(e,s,n),t=!0},p(s,n){l=s;const f={};n&4194304&&(f.$$scope={dirty:n,ctx:l}),e.$set(f)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){D(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function Kt(l){let e;return{c(){e=R("Remove")},l(t){e=F(t,"Remove")},m(t,a){q(t,e,a)},d(t){t&&u(e)}}}function xt(l){let e,t;return e=new st({props:{$$slots:{default:[Kt]},$$scope:{ctx:l}}}),{c(){N(e.$$.fragment)},l(a){U(e.$$.fragment,a)},m(a,s){L(e,a,s),t=!0},p(a,s){const n={};s&4194304&&(n.$$scope={dirty:s,ctx:a}),e.$set(n)},i(a){t||(w(e.$$.fragment,a),t=!0)},o(a){D(e.$$.fragment,a),t=!1},d(a){M(e,a)}}}function dt(l){let e,t,a,s,n,f,V,m=l[2].authors[l[19]].user_id&&ut(l);function k(c){l[15](c,l[19])}let i={label:"User ID",class:"mr-4 w-full",disabled:l[17].role==="creator"};l[2].authors[l[19]].user_id!==void 0&&(i.value=l[2].authors[l[19]].user_id),a=new ce({props:i}),de.push(()=>_e(a,"value",k));let h=l[17].role!=="creator"&&ct(l);return{c(){e=p("div"),m&&m.c(),t=I(),N(a.$$.fragment),n=I(),h&&h.c(),f=I(),this.h()},l(c){e=$(c,"DIV",{class:!0});var d=b(e);m&&m.l(d),t=S(d),U(a.$$.fragment,d),n=S(d),h&&h.l(d),f=S(d),d.forEach(u),this.h()},h(){g(e,"class","flex items-baseline")},m(c,d){q(c,e,d),m&&m.m(e,null),o(e,t),L(a,e,null),o(e,n),h&&h.m(e,null),o(e,f),V=!0},p(c,d){l=c,l[2].authors[l[19]].user_id?m?(m.p(l,d),d&4&&w(m,1)):(m=ut(l),m.c(),w(m,1),m.m(e,t)):m&&(Se(),D(m,1,1,()=>{m=null}),Ae());const A={};d&4&&(A.disabled=l[17].role==="creator"),!s&&d&4&&(s=!0,A.value=l[2].authors[l[19]].user_id,ge(()=>s=!1)),a.$set(A),l[17].role!=="creator"?h?(h.p(l,d),d&4&&w(h,1)):(h=ct(l),h.c(),w(h,1),h.m(e,f)):h&&(Se(),D(h,1,1,()=>{h=null}),Ae())},i(c){V||(w(m),w(a.$$.fragment,c),w(h),V=!0)},o(c){D(m),D(a.$$.fragment,c),D(h),V=!1},d(c){c&&u(e),m&&m.d(),M(a),h&&h.d()}}}function ea(l){let e;return{c(){e=R(l[0])},l(t){e=F(t,l[0])},m(t,a){q(t,e,a)},p(t,a){a&1&&y(e,t[0])},d(t){t&&u(e)}}}function ta(l){let e,t,a,s,n,f,V,m,k,i,h,c,d,A,E,j,pe,$e,Y,_,O,J,z,Pe,qe,K,Te,C,he,Ne,Ue,Ee,Le,Z,ue,Me,je,W,Re,x,Fe,ee,G,He,Be,te,Oe,De,ve,ae,Ve,Ye,Ce;function _t(r){l[10](r)}let We={label:"Name",required:!0};l[2].name!==void 0&&(We.value=l[2].name),s=new ce({props:We}),de.push(()=>_e(s,"value",_t)),V=new me({props:{for:"name",$$slots:{default:[Ht,({messages:r})=>({20:r}),({messages:r})=>r?1048576:0]},$$scope:{ctx:l}}});function mt(r){l[11](r)}let Ge={label:"Mod Reference",required:!0,disabled:l[1],$$slots:{helper:[Ot]},$$scope:{ctx:l}};l[2].mod_reference!==void 0&&(Ge.value=l[2].mod_reference),i=new ce({props:Ge}),de.push(()=>_e(i,"value",mt)),d=new me({props:{for:"mod_reference",$$slots:{default:[Yt,({messages:r})=>({20:r}),({messages:r})=>r?1048576:0]},$$scope:{ctx:l}}});function gt(r){l[12](r)}let Qe={label:"Short Description",required:!0};l[2].short_description!==void 0&&(Qe.value=l[2].short_description),j=new ce({props:Qe}),de.push(()=>_e(j,"value",gt)),Y=new me({props:{for:"short_description",$$slots:{default:[Zt,({messages:r})=>({20:r}),({messages:r})=>r?1048576:0]},$$scope:{ctx:l}}});function pt(r){l[13](r)}let Xe={textarea:!0,class:"vertical-textarea",label:"Full Description",required:!0,input$rows:10};l[2].full_description!==void 0&&(Xe.value=l[2].full_description),z=new ce({props:Xe}),de.push(()=>_e(z,"value",pt)),K=new me({props:{for:"full_description",$$slots:{default:[zt,({messages:r})=>({20:r}),({messages:r})=>r?1048576:0]},$$scope:{ctx:l}}});let B={ctx:l,current:null,token:null,hasCatch:!1,pending:Gt,then:Wt,catch:Ct,value:21};at(Ee=lt(l[3]),B),x=new me({props:{for:"logo",$$slots:{default:[Qt,({messages:r})=>({20:r}),({messages:r})=>r?1048576:0]},$$scope:{ctx:l}}});function $t(r){l[14](r)}let ye={label:"Source URL"};l[2].source_url!==void 0&&(ye.value=l[2].source_url),G=new ce({props:ye}),de.push(()=>_e(G,"value",$t)),te=new me({props:{for:"source_url",$$slots:{default:[Xt,({messages:r})=>({20:r}),({messages:r})=>r?1048576:0]},$$scope:{ctx:l}}});let P=l[1]&&ft(l);return ae=new ze({props:{variant:"outlined",type:"submit",$$slots:{default:[ea]},$$scope:{ctx:l}}}),{c(){e=p("form"),t=p("div"),a=p("div"),N(s.$$.fragment),f=I(),N(V.$$.fragment),m=I(),k=p("div"),N(i.$$.fragment),c=I(),N(d.$$.fragment),A=I(),E=p("div"),N(j.$$.fragment),$e=I(),N(Y.$$.fragment),_=I(),O=p("div"),J=p("div"),N(z.$$.fragment),qe=I(),N(K.$$.fragment),Te=I(),C=p("div"),he=p("span"),Ne=R("Preview:"),Ue=I(),B.block.c(),Le=I(),Z=p("div"),ue=p("label"),Me=R("Logo:"),je=I(),W=p("input"),Re=I(),N(x.$$.fragment),Fe=I(),ee=p("div"),N(G.$$.fragment),Be=I(),N(te.$$.fragment),Oe=I(),P&&P.c(),De=I(),ve=p("div"),N(ae.$$.fragment),this.h()},l(r){e=$(r,"FORM",{});var v=b(e);t=$(v,"DIV",{class:!0});var T=b(t);a=$(T,"DIV",{class:!0});var se=b(a);U(s.$$.fragment,se),f=S(se),U(V.$$.fragment,se),se.forEach(u),m=S(T),k=$(T,"DIV",{class:!0});var Q=b(k);U(i.$$.fragment,Q),c=S(Q),U(d.$$.fragment,Q),Q.forEach(u),A=S(T),E=$(T,"DIV",{class:!0});var le=b(E);U(j.$$.fragment,le),$e=S(le),U(Y.$$.fragment,le),le.forEach(u),_=S(T),O=$(T,"DIV",{class:!0});var ne=b(O);J=$(ne,"DIV",{class:!0});var re=b(J);U(z.$$.fragment,re),qe=S(re),U(K.$$.fragment,re),re.forEach(u),Te=S(ne),C=$(ne,"DIV",{class:!0});var ie=b(C);he=$(ie,"SPAN",{});var be=b(he);Ne=F(be,"Preview:"),be.forEach(u),Ue=S(ie),B.block.l(ie),ie.forEach(u),ne.forEach(u),Le=S(T),Z=$(T,"DIV",{class:!0});var X=b(Z);ue=$(X,"LABEL",{for:!0});var we=b(ue);Me=F(we,"Logo:"),we.forEach(u),je=S(X),W=$(X,"INPUT",{id:!0,class:!0,name:!0,type:!0,accept:!0,placeholder:!0}),Re=S(X),U(x.$$.fragment,X),X.forEach(u),Fe=S(T),ee=$(T,"DIV",{class:!0});var oe=b(ee);U(G.$$.fragment,oe),Be=S(oe),U(te.$$.fragment,oe),oe.forEach(u),Oe=S(T),P&&P.l(T),De=S(T),ve=$(T,"DIV",{});var ke=b(ve);U(ae.$$.fragment,ke),ke.forEach(u),T.forEach(u),v.forEach(u),this.h()},h(){g(a,"class","grid grid-flow-row gap-2"),g(k,"class","grid grid-flow-row gap-2"),g(E,"class","grid grid-flow-row gap-2"),g(J,"class","grid grid-flow-row gap-2 auto-rows-max"),g(C,"class","grid grid-flow-row gap-2 auto-rows-max"),g(O,"class","grid gap-6 split svelte-k92wki"),g(ue,"for","logo"),g(W,"id","logo"),g(W,"class","base-input"),g(W,"name","logo"),g(W,"type","file"),g(W,"accept","image/png,image/jpeg,image/gif"),g(W,"placeholder","Logo"),g(Z,"class","grid grid-flow-row gap-2"),g(ee,"class","grid grid-flow-row gap-2"),g(t,"class","grid grid-flow-row gap-6")},m(r,v){q(r,e,v),o(e,t),o(t,a),L(s,a,null),o(a,f),L(V,a,null),o(t,m),o(t,k),L(i,k,null),o(k,c),L(d,k,null),o(t,A),o(t,E),L(j,E,null),o(E,$e),L(Y,E,null),o(t,_),o(t,O),o(O,J),L(z,J,null),o(J,qe),L(K,J,null),o(O,Te),o(O,C),o(C,he),o(he,Ne),o(C,Ue),B.block.m(C,B.anchor=null),B.mount=()=>C,B.anchor=null,o(t,Le),o(t,Z),o(Z,ue),o(ue,Me),o(Z,je),o(Z,W),o(Z,Re),L(x,Z,null),o(t,Fe),o(t,ee),L(G,ee,null),o(ee,Be),L(te,ee,null),o(t,Oe),P&&P.m(t,null),o(t,De),o(t,ve),L(ae,ve,null),Ve=!0,Ye||(Ce=Dt(l[4].call(null,e)),Ye=!0)},p(r,[v]){l=r;const T={};!n&&v&4&&(n=!0,T.value=l[2].name,ge(()=>n=!1)),s.$set(T);const se={};v&5242880&&(se.$$scope={dirty:v,ctx:l}),V.$set(se);const Q={};v&2&&(Q.disabled=l[1]),v&4194306&&(Q.$$scope={dirty:v,ctx:l}),!h&&v&4&&(h=!0,Q.value=l[2].mod_reference,ge(()=>h=!1)),i.$set(Q);const le={};v&5242880&&(le.$$scope={dirty:v,ctx:l}),d.$set(le);const ne={};!pe&&v&4&&(pe=!0,ne.value=l[2].short_description,ge(()=>pe=!1)),j.$set(ne);const re={};v&5242880&&(re.$$scope={dirty:v,ctx:l}),Y.$set(re);const ie={};!Pe&&v&4&&(Pe=!0,ie.value=l[2].full_description,ge(()=>Pe=!1)),z.$set(ie);const be={};v&5242880&&(be.$$scope={dirty:v,ctx:l}),K.$set(be),B.ctx=l,v&8&&Ee!==(Ee=lt(l[3]))&&at(Ee,B)||Vt(B,l,v);const X={};v&5242880&&(X.$$scope={dirty:v,ctx:l}),x.$set(X);const we={};!He&&v&4&&(He=!0,we.value=l[2].source_url,ge(()=>He=!1)),G.$set(we);const oe={};v&5242880&&(oe.$$scope={dirty:v,ctx:l}),te.$set(oe),l[1]?P?(P.p(l,v),v&2&&w(P,1)):(P=ft(l),P.c(),w(P,1),P.m(t,De)):P&&(Se(),D(P,1,1,()=>{P=null}),Ae());const ke={};v&4194305&&(ke.$$scope={dirty:v,ctx:l}),ae.$set(ke)},i(r){Ve||(w(s.$$.fragment,r),w(V.$$.fragment,r),w(i.$$.fragment,r),w(d.$$.fragment,r),w(j.$$.fragment,r),w(Y.$$.fragment,r),w(z.$$.fragment,r),w(K.$$.fragment,r),w(x.$$.fragment,r),w(G.$$.fragment,r),w(te.$$.fragment,r),w(P),w(ae.$$.fragment,r),Ve=!0)},o(r){D(s.$$.fragment,r),D(V.$$.fragment,r),D(i.$$.fragment,r),D(d.$$.fragment,r),D(j.$$.fragment,r),D(Y.$$.fragment,r),D(z.$$.fragment,r),D(K.$$.fragment,r),D(x.$$.fragment,r),D(G.$$.fragment,r),D(te.$$.fragment,r),D(P),D(ae.$$.fragment,r),Ve=!1},d(r){r&&u(e),M(s),M(V),M(i),M(d),M(j),M(Y),M(z),M(K),B.block.d(),B.token=null,B=null,M(x),M(G),M(te),P&&P.d(),M(ae),Ye=!1,Ce()}}}function aa(l,e,t){let a,s,{onSubmit:n}=e,{initialValues:f={full_description:"",mod_reference:"",name:"",short_description:"",source_url:""}}=e,{submitText:V="Create"}=e,{editing:m=!1}=e;const{form:k,data:i}=It({initialValues:f,extend:[St,At],validateSchema:rt,onSubmit:_=>n(qt(_,rt))});tt(l,i,_=>t(2,s=_));const h=()=>{s.authors.push({role:"editor",user_id:""}),i.set(s)},c=_=>{s.authors.splice(_,1),i.set(s)};function d(_){l.$$.not_equal(s.name,_)&&(s.name=_,i.set(s))}function A(_){l.$$.not_equal(s.mod_reference,_)&&(s.mod_reference=_,i.set(s))}function E(_){l.$$.not_equal(s.short_description,_)&&(s.short_description=_,i.set(s))}function j(_){l.$$.not_equal(s.full_description,_)&&(s.full_description=_,i.set(s))}function pe(_){l.$$.not_equal(s.source_url,_)&&(s.source_url=_,i.set(s))}function $e(_,O){l.$$.not_equal(s.authors[O].user_id,_)&&(s.authors[O].user_id=_,i.set(s))}const Y=_=>c(_);return l.$$set=_=>{"onSubmit"in _&&t(8,n=_.onSubmit),"initialValues"in _&&t(9,f=_.initialValues),"submitText"in _&&t(0,V=_.submitText),"editing"in _&&t(1,m=_.editing)},l.$$.update=()=>{l.$$.dirty&4&&t(3,a=s.full_description||"")},[V,m,s,a,k,i,h,c,n,f,d,A,E,j,pe,$e,Y]}class oa extends Ke{constructor(e){super();xe(this,e,aa,ta,et,{onSubmit:8,initialValues:9,submitText:0,editing:1})}}export{oa as M};
//# sourceMappingURL=ModForm-27149699.js.map
