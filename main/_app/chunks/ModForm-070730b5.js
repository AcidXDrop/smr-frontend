import{aO as Je,aP as oe,aX as Ue,aY as ct,aZ as _t,S as mt,i as $t,s as gt,aQ as de,M as ce,N as _e,aR as me,aG as Ke,e as v,t as B,k as V,w as T,c as b,a as w,h as F,d as u,m as D,x as q,b as g,g as R,X as o,y as P,q as p,O as $e,o as k,B as N,n as Ye,p as Ze,aE as pt,Y as ze,aS as ht,aH as vt,aT as bt,aU as wt,aV as kt,P as Et,j as fe,a_ as St,ai as ye,l as xe,Z as z}from"./vendor-7eb9e018.js";import{t as Vt}from"./forms-23812659.js";import{m as et}from"./markdown-e402d3eb.js";const tt=Je({name:oe().min(3).max(32),mod_reference:oe().min(3).max(32).regex(/^([a-zA-Z][a-zA-Z0-9_]*)$/).refine(async()=>!0),short_description:oe().min(16).max(128),full_description:Ue(oe()),logo:Ue(ct().refine(s=>"name"in s&&"size"in s&&"type"in s)),source_url:oe().url().optional().or(_t("")),authors:Ue(Je({role:oe(),user_id:oe()}).array())});function at(s,e,t){const n=s.slice();return n[17]=e[t],n[18]=e,n[19]=t,n}function Dt(s){let e,t=(s[20]||"")+"",n;return{c(){e=v("span"),n=B(t),this.h()},l(a){e=b(a,"SPAN",{class:!0});var l=w(e);n=F(l,t),l.forEach(u),this.h()},h(){g(e,"class","validation-message")},m(a,l){R(a,e,l),o(e,n)},p(a,l){l&1048576&&t!==(t=(a[20]||"")+"")&&fe(n,t)},d(a){a&&u(e)}}}function st(s){let e;return{c(){e=B(`Warning! You will not be able to change this after creating the mod! Please ensure this is a unique modifier
            that closely matches the name of your mod!`)},l(t){e=F(t,`Warning! You will not be able to change this after creating the mod! Please ensure this is a unique modifier
            that closely matches the name of your mod!`)},m(t,n){R(t,e,n)},d(t){t&&u(e)}}}function At(s){let e,t=!s[1]&&st();return{c(){t&&t.c(),e=xe()},l(n){t&&t.l(n),e=xe()},m(n,a){t&&t.m(n,a),R(n,e,a)},p(n,a){n[1]?t&&(t.d(1),t=null):t||(t=st(),t.c(),t.m(e.parentNode,e))},d(n){t&&t.d(n),n&&u(e)}}}function It(s){let e,t;return e=new St({props:{persistent:!s[1],slot:"helper",$$slots:{default:[At]},$$scope:{ctx:s}}}),{c(){T(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,a){P(e,n,a),t=!0},p(n,a){const l={};a&2&&(l.persistent=!n[1]),a&4194306&&(l.$$scope={dirty:a,ctx:n}),e.$set(l)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){N(e,n)}}}function Tt(s){let e,t=(s[20]||"")+"",n;return{c(){e=v("span"),n=B(t),this.h()},l(a){e=b(a,"SPAN",{class:!0});var l=w(e);n=F(l,t),l.forEach(u),this.h()},h(){g(e,"class","validation-message")},m(a,l){R(a,e,l),o(e,n)},p(a,l){l&1048576&&t!==(t=(a[20]||"")+"")&&fe(n,t)},d(a){a&&u(e)}}}function qt(s){let e,t=(s[20]||"")+"",n;return{c(){e=v("span"),n=B(t),this.h()},l(a){e=b(a,"SPAN",{class:!0});var l=w(e);n=F(l,t),l.forEach(u),this.h()},h(){g(e,"class","validation-message")},m(a,l){R(a,e,l),o(e,n)},p(a,l){l&1048576&&t!==(t=(a[20]||"")+"")&&fe(n,t)},d(a){a&&u(e)}}}function Pt(s){let e,t=(s[20]||"")+"",n;return{c(){e=v("span"),n=B(t),this.h()},l(a){e=b(a,"SPAN",{class:!0});var l=w(e);n=F(l,t),l.forEach(u),this.h()},h(){g(e,"class","validation-message")},m(a,l){R(a,e,l),o(e,n)},p(a,l){l&1048576&&t!==(t=(a[20]||"")+"")&&fe(n,t)},d(a){a&&u(e)}}}function Nt(s){return{c:z,l:z,m:z,p:z,d:z}}function Lt(s){let e,t=s[21]+"";return{c(){e=v("div"),this.h()},l(n){e=b(n,"DIV",{class:!0});var a=w(e);a.forEach(u),this.h()},h(){g(e,"class","markdown-content right svelte-k92wki")},m(n,a){R(n,e,a),e.innerHTML=t},p(n,a){a&8&&t!==(t=n[21]+"")&&(e.innerHTML=t)},d(n){n&&u(e)}}}function Mt(s){return{c:z,l:z,m:z,p:z,d:z}}function Rt(s){let e,t=(s[20]||"")+"",n;return{c(){e=v("span"),n=B(t),this.h()},l(a){e=b(a,"SPAN",{class:!0});var l=w(e);n=F(l,t),l.forEach(u),this.h()},h(){g(e,"class","validation-message")},m(a,l){R(a,e,l),o(e,n)},p(a,l){l&1048576&&t!==(t=(a[20]||"")+"")&&fe(n,t)},d(a){a&&u(e)}}}function jt(s){let e,t=(s[20]||"")+"",n;return{c(){e=v("span"),n=B(t),this.h()},l(a){e=b(a,"SPAN",{class:!0});var l=w(e);n=F(l,t),l.forEach(u),this.h()},h(){g(e,"class","validation-message")},m(a,l){R(a,e,l),o(e,n)},p(a,l){l&1048576&&t!==(t=(a[20]||"")+"")&&fe(n,t)},d(a){a&&u(e)}}}function nt(s){let e,t,n,a,l,h,L,j;h=new ze({props:{type:"button",$$slots:{default:[Bt]},$$scope:{ctx:s}}}),h.$on("click",s[6]);let f=s[2].authors,i=[];for(let c=0;c<f.length;c+=1)i[c]=rt(at(s,f,c));const E=c=>k(i[c],1,1,()=>{i[c]=null});return{c(){e=v("div"),t=v("div"),n=v("h4"),a=B("Authors"),l=V(),T(h.$$.fragment),L=V();for(let c=0;c<i.length;c+=1)i[c].c();this.h()},l(c){e=b(c,"DIV",{class:!0});var m=w(e);t=b(m,"DIV",{class:!0});var M=w(t);n=b(M,"H4",{class:!0});var $=w(n);a=F($,"Authors"),$.forEach(u),l=D(M),q(h.$$.fragment,M),M.forEach(u),L=D(m);for(let I=0;I<i.length;I+=1)i[I].l(m);m.forEach(u),this.h()},h(){g(n,"class","mr-4"),g(t,"class","flex items-baseline"),g(e,"class","grid grid-flow-row gap-2")},m(c,m){R(c,e,m),o(e,t),o(t,n),o(n,a),o(t,l),P(h,t,null),o(e,L);for(let M=0;M<i.length;M+=1)i[M].m(e,null);j=!0},p(c,m){const M={};if(m&4194304&&(M.$$scope={dirty:m,ctx:c}),h.$set(M),m&132){f=c[2].authors;let $;for($=0;$<f.length;$+=1){const I=at(c,f,$);i[$]?(i[$].p(I,m),p(i[$],1)):(i[$]=rt(I),i[$].c(),p(i[$],1),i[$].m(e,null))}for(Ye(),$=f.length;$<i.length;$+=1)E($);Ze()}},i(c){if(!j){p(h.$$.fragment,c);for(let m=0;m<f.length;m+=1)p(i[m]);j=!0}},o(c){k(h.$$.fragment,c),i=i.filter(Boolean);for(let m=0;m<i.length;m+=1)k(i[m]);j=!1},d(c){c&&u(e),N(h),pt(i,c)}}}function Ht(s){let e;return{c(){e=B("Add")},l(t){e=F(t,"Add")},m(t,n){R(t,e,n)},d(t){t&&u(e)}}}function Bt(s){let e,t;return e=new ye({props:{$$slots:{default:[Ht]},$$scope:{ctx:s}}}),{c(){T(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,a){P(e,n,a),t=!0},p(n,a){const l={};a&4194304&&(l.$$scope={dirty:a,ctx:n}),e.$set(l)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){N(e,n)}}}function lt(s){let e,t;function n(){return s[16](s[19])}return e=new ze({props:{type:"button",variant:"raised",$$slots:{default:[Ut]},$$scope:{ctx:s}}}),e.$on("click",n),{c(){T(e.$$.fragment)},l(a){q(e.$$.fragment,a)},m(a,l){P(e,a,l),t=!0},p(a,l){s=a;const h={};l&4194304&&(h.$$scope={dirty:l,ctx:s}),e.$set(h)},i(a){t||(p(e.$$.fragment,a),t=!0)},o(a){k(e.$$.fragment,a),t=!1},d(a){N(e,a)}}}function Ft(s){let e;return{c(){e=B("Remove")},l(t){e=F(t,"Remove")},m(t,n){R(t,e,n)},d(t){t&&u(e)}}}function Ut(s){let e,t;return e=new ye({props:{$$slots:{default:[Ft]},$$scope:{ctx:s}}}),{c(){T(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,a){P(e,n,a),t=!0},p(n,a){const l={};a&4194304&&(l.$$scope={dirty:a,ctx:n}),e.$set(l)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){N(e,n)}}}function rt(s){let e,t,n,a,l,h;function L(i){s[15](i,s[19])}let j={label:"User ID",class:"mr-4 w-full",disabled:s[17].role==="creator"};s[2].authors[s[19]].user_id!==void 0&&(j.value=s[2].authors[s[19]].user_id),t=new de({props:j}),ce.push(()=>_e(t,"value",L));let f=s[17].role!=="creator"&&lt(s);return{c(){e=v("div"),T(t.$$.fragment),a=V(),f&&f.c(),l=V(),this.h()},l(i){e=b(i,"DIV",{class:!0});var E=w(e);q(t.$$.fragment,E),a=D(E),f&&f.l(E),l=D(E),E.forEach(u),this.h()},h(){g(e,"class","flex items-baseline")},m(i,E){R(i,e,E),P(t,e,null),o(e,a),f&&f.m(e,null),o(e,l),h=!0},p(i,E){s=i;const c={};E&4&&(c.disabled=s[17].role==="creator"),!n&&E&4&&(n=!0,c.value=s[2].authors[s[19]].user_id,$e(()=>n=!1)),t.$set(c),s[17].role!=="creator"?f?(f.p(s,E),E&4&&p(f,1)):(f=lt(s),f.c(),p(f,1),f.m(e,l)):f&&(Ye(),k(f,1,1,()=>{f=null}),Ze())},i(i){h||(p(t.$$.fragment,i),p(f),h=!0)},o(i){k(t.$$.fragment,i),k(f),h=!1},d(i){i&&u(e),N(t),f&&f.d()}}}function Yt(s){let e;return{c(){e=B(s[0])},l(t){e=F(t,s[0])},m(t,n){R(t,e,n)},p(t,n){n&1&&fe(e,t[0])},d(t){t&&u(e)}}}function Zt(s){let e,t,n,a,l,h,L,j,f,i,E,c,m,M,$,I,ge,pe,Y,d,U,J,C,De,Ae,K,Ie,O,he,Te,qe,Ee,Pe,Z,ue,Ne,Le,W,Me,y,Re,x,X,je,He,ee,Be,Se,ve,te,Ve,Fe,Ce;function it(r){s[10](r)}let Oe={label:"Name",required:!0};s[2].name!==void 0&&(Oe.value=s[2].name),a=new de({props:Oe}),ce.push(()=>_e(a,"value",it)),L=new me({props:{for:"name",$$slots:{default:[Dt,({messages:r})=>({20:r}),({messages:r})=>r?1048576:0]},$$scope:{ctx:s}}});function ot(r){s[11](r)}let We={label:"Mod Reference",required:!0,disabled:s[1],$$slots:{helper:[It]},$$scope:{ctx:s}};s[2].mod_reference!==void 0&&(We.value=s[2].mod_reference),i=new de({props:We}),ce.push(()=>_e(i,"value",ot)),m=new me({props:{for:"mod_reference",$$slots:{default:[Tt,({messages:r})=>({20:r}),({messages:r})=>r?1048576:0]},$$scope:{ctx:s}}});function ft(r){s[12](r)}let Xe={label:"Short Description",required:!0};s[2].short_description!==void 0&&(Xe.value=s[2].short_description),I=new de({props:Xe}),ce.push(()=>_e(I,"value",ft)),Y=new me({props:{for:"short_description",$$slots:{default:[qt,({messages:r})=>({20:r}),({messages:r})=>r?1048576:0]},$$scope:{ctx:s}}});function ut(r){s[13](r)}let Ge={textarea:!0,label:"Full Description",required:!0,input$rows:10};s[2].full_description!==void 0&&(Ge.value=s[2].full_description),C=new de({props:Ge}),ce.push(()=>_e(C,"value",ut)),K=new me({props:{for:"full_description",$$slots:{default:[Pt,({messages:r})=>({20:r}),({messages:r})=>r?1048576:0]},$$scope:{ctx:s}}});let H={ctx:s,current:null,token:null,hasCatch:!1,pending:Mt,then:Lt,catch:Nt,value:21};Ke(Ee=et(s[3]),H),y=new me({props:{for:"logo",$$slots:{default:[Rt,({messages:r})=>({20:r}),({messages:r})=>r?1048576:0]},$$scope:{ctx:s}}});function dt(r){s[14](r)}let Qe={label:"Source URL"};s[2].source_url!==void 0&&(Qe.value=s[2].source_url),X=new de({props:Qe}),ce.push(()=>_e(X,"value",dt)),ee=new me({props:{for:"source_url",$$slots:{default:[jt,({messages:r})=>({20:r}),({messages:r})=>r?1048576:0]},$$scope:{ctx:s}}});let S=s[1]&&nt(s);return te=new ze({props:{variant:"outlined",type:"submit",$$slots:{default:[Yt]},$$scope:{ctx:s}}}),{c(){e=v("form"),t=v("div"),n=v("div"),T(a.$$.fragment),h=V(),T(L.$$.fragment),j=V(),f=v("div"),T(i.$$.fragment),c=V(),T(m.$$.fragment),M=V(),$=v("div"),T(I.$$.fragment),pe=V(),T(Y.$$.fragment),d=V(),U=v("div"),J=v("div"),T(C.$$.fragment),Ae=V(),T(K.$$.fragment),Ie=V(),O=v("div"),he=v("span"),Te=B("Preview:"),qe=V(),H.block.c(),Pe=V(),Z=v("div"),ue=v("label"),Ne=B("Logo:"),Le=V(),W=v("input"),Me=V(),T(y.$$.fragment),Re=V(),x=v("div"),T(X.$$.fragment),He=V(),T(ee.$$.fragment),Be=V(),S&&S.c(),Se=V(),ve=v("div"),T(te.$$.fragment),this.h()},l(r){e=b(r,"FORM",{});var _=w(e);t=b(_,"DIV",{class:!0});var A=w(t);n=b(A,"DIV",{class:!0});var ae=w(n);q(a.$$.fragment,ae),h=D(ae),q(L.$$.fragment,ae),ae.forEach(u),j=D(A),f=b(A,"DIV",{class:!0});var G=w(f);q(i.$$.fragment,G),c=D(G),q(m.$$.fragment,G),G.forEach(u),M=D(A),$=b(A,"DIV",{class:!0});var se=w($);q(I.$$.fragment,se),pe=D(se),q(Y.$$.fragment,se),se.forEach(u),d=D(A),U=b(A,"DIV",{class:!0});var ne=w(U);J=b(ne,"DIV",{class:!0});var le=w(J);q(C.$$.fragment,le),Ae=D(le),q(K.$$.fragment,le),le.forEach(u),Ie=D(ne),O=b(ne,"DIV",{class:!0});var re=w(O);he=b(re,"SPAN",{});var be=w(he);Te=F(be,"Preview:"),be.forEach(u),qe=D(re),H.block.l(re),re.forEach(u),ne.forEach(u),Pe=D(A),Z=b(A,"DIV",{class:!0});var Q=w(Z);ue=b(Q,"LABEL",{for:!0});var we=w(ue);Ne=F(we,"Logo:"),we.forEach(u),Le=D(Q),W=b(Q,"INPUT",{id:!0,class:!0,name:!0,type:!0,accept:!0,placeholder:!0}),Me=D(Q),q(y.$$.fragment,Q),Q.forEach(u),Re=D(A),x=b(A,"DIV",{class:!0});var ie=w(x);q(X.$$.fragment,ie),He=D(ie),q(ee.$$.fragment,ie),ie.forEach(u),Be=D(A),S&&S.l(A),Se=D(A),ve=b(A,"DIV",{});var ke=w(ve);q(te.$$.fragment,ke),ke.forEach(u),A.forEach(u),_.forEach(u),this.h()},h(){g(n,"class","grid grid-flow-row gap-2"),g(f,"class","grid grid-flow-row gap-2"),g($,"class","grid grid-flow-row gap-2"),g(J,"class","grid grid-flow-row gap-2 auto-rows-max"),g(O,"class","grid grid-flow-row gap-2 auto-rows-max"),g(U,"class","grid gap-6 split svelte-k92wki"),g(ue,"for","logo"),g(W,"id","logo"),g(W,"class","base-input"),g(W,"name","logo"),g(W,"type","file"),g(W,"accept","image/png,image/jpeg,image/gif"),g(W,"placeholder","Logo"),g(Z,"class","grid grid-flow-row gap-2"),g(x,"class","grid grid-flow-row gap-2"),g(t,"class","grid grid-flow-row gap-6")},m(r,_){R(r,e,_),o(e,t),o(t,n),P(a,n,null),o(n,h),P(L,n,null),o(t,j),o(t,f),P(i,f,null),o(f,c),P(m,f,null),o(t,M),o(t,$),P(I,$,null),o($,pe),P(Y,$,null),o(t,d),o(t,U),o(U,J),P(C,J,null),o(J,Ae),P(K,J,null),o(U,Ie),o(U,O),o(O,he),o(he,Te),o(O,qe),H.block.m(O,H.anchor=null),H.mount=()=>O,H.anchor=null,o(t,Pe),o(t,Z),o(Z,ue),o(ue,Ne),o(Z,Le),o(Z,W),o(Z,Me),P(y,Z,null),o(t,Re),o(t,x),P(X,x,null),o(x,He),P(ee,x,null),o(t,Be),S&&S.m(t,null),o(t,Se),o(t,ve),P(te,ve,null),Ve=!0,Fe||(Ce=ht(s[4].call(null,e)),Fe=!0)},p(r,[_]){s=r;const A={};!l&&_&4&&(l=!0,A.value=s[2].name,$e(()=>l=!1)),a.$set(A);const ae={};_&5242880&&(ae.$$scope={dirty:_,ctx:s}),L.$set(ae);const G={};_&2&&(G.disabled=s[1]),_&4194306&&(G.$$scope={dirty:_,ctx:s}),!E&&_&4&&(E=!0,G.value=s[2].mod_reference,$e(()=>E=!1)),i.$set(G);const se={};_&5242880&&(se.$$scope={dirty:_,ctx:s}),m.$set(se);const ne={};!ge&&_&4&&(ge=!0,ne.value=s[2].short_description,$e(()=>ge=!1)),I.$set(ne);const le={};_&5242880&&(le.$$scope={dirty:_,ctx:s}),Y.$set(le);const re={};!De&&_&4&&(De=!0,re.value=s[2].full_description,$e(()=>De=!1)),C.$set(re);const be={};_&5242880&&(be.$$scope={dirty:_,ctx:s}),K.$set(be),H.ctx=s,_&8&&Ee!==(Ee=et(s[3]))&&Ke(Ee,H)||vt(H,s,_);const Q={};_&5242880&&(Q.$$scope={dirty:_,ctx:s}),y.$set(Q);const we={};!je&&_&4&&(je=!0,we.value=s[2].source_url,$e(()=>je=!1)),X.$set(we);const ie={};_&5242880&&(ie.$$scope={dirty:_,ctx:s}),ee.$set(ie),s[1]?S?(S.p(s,_),_&2&&p(S,1)):(S=nt(s),S.c(),p(S,1),S.m(t,Se)):S&&(Ye(),k(S,1,1,()=>{S=null}),Ze());const ke={};_&4194305&&(ke.$$scope={dirty:_,ctx:s}),te.$set(ke)},i(r){Ve||(p(a.$$.fragment,r),p(L.$$.fragment,r),p(i.$$.fragment,r),p(m.$$.fragment,r),p(I.$$.fragment,r),p(Y.$$.fragment,r),p(C.$$.fragment,r),p(K.$$.fragment,r),p(y.$$.fragment,r),p(X.$$.fragment,r),p(ee.$$.fragment,r),p(S),p(te.$$.fragment,r),Ve=!0)},o(r){k(a.$$.fragment,r),k(L.$$.fragment,r),k(i.$$.fragment,r),k(m.$$.fragment,r),k(I.$$.fragment,r),k(Y.$$.fragment,r),k(C.$$.fragment,r),k(K.$$.fragment,r),k(y.$$.fragment,r),k(X.$$.fragment,r),k(ee.$$.fragment,r),k(S),k(te.$$.fragment,r),Ve=!1},d(r){r&&u(e),N(a),N(L),N(i),N(m),N(I),N(Y),N(C),N(K),H.block.d(),H.token=null,H=null,N(y),N(X),N(ee),S&&S.d(),N(te),Fe=!1,Ce()}}}function zt(s,e,t){let n,a,{onSubmit:l}=e,{initialValues:h={full_description:"",mod_reference:"",name:"",short_description:"",source_url:""}}=e,{submitText:L="Create"}=e,{editing:j=!1}=e;const{form:f,data:i}=bt({initialValues:h,extend:[wt,kt],validateSchema:tt,onSubmit:d=>l(Vt(d,tt))});Et(s,i,d=>t(2,a=d));const E=()=>{a.authors.push({role:"editor",user_id:""}),i.set(a)},c=d=>{a.authors.splice(d,1),i.set(a)};function m(d){s.$$.not_equal(a.name,d)&&(a.name=d,i.set(a))}function M(d){s.$$.not_equal(a.mod_reference,d)&&(a.mod_reference=d,i.set(a))}function $(d){s.$$.not_equal(a.short_description,d)&&(a.short_description=d,i.set(a))}function I(d){s.$$.not_equal(a.full_description,d)&&(a.full_description=d,i.set(a))}function ge(d){s.$$.not_equal(a.source_url,d)&&(a.source_url=d,i.set(a))}function pe(d,U){s.$$.not_equal(a.authors[U].user_id,d)&&(a.authors[U].user_id=d,i.set(a))}const Y=d=>c(d);return s.$$set=d=>{"onSubmit"in d&&t(8,l=d.onSubmit),"initialValues"in d&&t(9,h=d.initialValues),"submitText"in d&&t(0,L=d.submitText),"editing"in d&&t(1,j=d.editing)},s.$$.update=()=>{s.$$.dirty&4&&t(3,n=a.full_description||"")},[L,j,a,n,f,i,E,c,l,h,m,M,$,I,ge,pe,Y]}class Xt extends mt{constructor(e){super();$t(this,e,zt,Zt,gt,{onSubmit:8,initialValues:9,submitText:0,editing:1})}}export{Xt as M};
//# sourceMappingURL=ModForm-070730b5.js.map
