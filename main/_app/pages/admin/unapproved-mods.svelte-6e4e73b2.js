import{S as _e,i as ve,s as me,e as g,j as Q,c as b,a as k,m as W,d as u,b as y,f as U,o as X,x as q,u as A,v as Y,k as w,l as te,$ as he,n as V,w as se,N as ge,M as be,ak as ke,Q as ae,O as $e,r as re,C as Me,t as P,g as j,R as c,W as oe,h as S,Y as De,ad as Ee,X as ye}from"../../chunks/vendor-bd04eeb5.js";import{j as we,k as Ve,l as Ie}from"../../chunks/graphql-44245247.js";import{P as le}from"../../chunks/PageControls-2044f4ba.js";import{b as ne}from"../../chunks/paths-6758d194.js";import{M as Pe}from"../../chunks/MetaDescriptors-99b66b31.js";import"../../chunks/stores-44ecde00.js";function ie(n,e,a){const r=n.slice();return r[10]=e[a],r}function ce(n){let e,a,r;return a=new le({props:{totalPages:Math.ceil(n[1]/T),currentPage:n[3]}}),{c(){e=g("div"),Q(a.$$.fragment),this.h()},l(t){e=b(t,"DIV",{class:!0});var o=k(e);W(a.$$.fragment,o),o.forEach(u),this.h()},h(){y(e,"class","mt-5 ml-auto flex justify-end")},m(t,o){U(t,e,o),X(a,e,null),r=!0},p(t,o){const d={};o&2&&(d.totalPages=Math.ceil(t[1]/T)),a.$set(d)},i(t){r||(q(a.$$.fragment,t),r=!0)},o(t){A(a.$$.fragment,t),r=!1},d(t){t&&u(e),Y(a)}}}function je(n){let e,a,r,t,o,d,f,$,D,v,i,s,l=n[0].data.getUnapprovedMods.mods,p=[];for(let _=0;_<l.length;_+=1)p[_]=de(ie(n,l,_));return{c(){e=g("div"),a=g("div"),r=P("Mod"),t=w(),o=g("div"),d=P("Description"),f=w(),$=g("div"),D=P("Release Date"),v=w(),i=g("div"),s=w();for(let _=0;_<p.length;_+=1)p[_].c();this.h()},l(_){e=b(_,"DIV",{class:!0});var h=k(e);a=b(h,"DIV",{});var m=k(a);r=j(m,"Mod"),m.forEach(u),t=V(h),o=b(h,"DIV",{});var E=k(o);d=j(E,"Description"),E.forEach(u),f=V(h),$=b(h,"DIV",{});var O=k($);D=j(O,"Release Date"),O.forEach(u),v=V(h),i=b(h,"DIV",{});var L=k(i);L.forEach(u),s=V(h);for(let I=0;I<p.length;I+=1)p[I].l(h);h.forEach(u),this.h()},h(){y(e,"class","grid grid-cols-6 itemList svelte-1aa0t7w")},m(_,h){U(_,e,h),c(e,a),c(a,r),c(e,t),c(e,o),c(o,d),c(e,f),c(e,$),c($,D),c(e,v),c(e,i),c(e,s);for(let m=0;m<p.length;m+=1)p[m].m(e,null)},p(_,h){if(h&49){l=_[0].data.getUnapprovedMods.mods;let m;for(m=0;m<l.length;m+=1){const E=ie(_,l,m);p[m]?p[m].p(E,h):(p[m]=de(E),p[m].c(),p[m].m(e,null))}for(;m<p.length;m+=1)p[m].d(1);p.length=l.length}},d(_){_&&u(e),Ee(p,_)}}}function Ue(n){let e,a,r=n[0].error.message+"",t;return{c(){e=g("p"),a=P("Oh no... "),t=P(r)},l(o){e=b(o,"P",{});var d=k(e);a=j(d,"Oh no... "),t=j(d,r),d.forEach(u)},m(o,d){U(o,e,d),c(e,a),c(e,t)},p(o,d){d&1&&r!==(r=o[0].error.message+"")&&S(t,r)},d(o){o&&u(e)}}}function qe(n){let e,a;return{c(){e=g("p"),a=P("Loading...")},l(r){e=b(r,"P",{});var t=k(e);a=j(t,"Loading..."),t.forEach(u)},m(r,t){U(r,e,t),c(e,a)},p:ye,d(r){r&&u(e)}}}function de(n){let e,a,r=n[10].name+"",t,o,d,f=n[10].short_description+"",$,D,v,i=n[10].created_at+"",s,l,p,_,h,m,E,O,L,I,B,R,G,H,z;function ue(){return n[6](n[10])}function pe(){return n[7](n[10])}return{c(){e=g("div"),a=g("div"),t=P(r),o=w(),d=g("div"),$=P(f),D=w(),v=g("div"),s=P(i),l=w(),p=g("div"),_=g("button"),h=P("Approve"),m=w(),E=g("button"),O=P("Deny"),L=w(),I=g("a"),B=P("View"),G=w(),this.h()},l(N){e=b(N,"DIV",{class:!0});var M=k(e);a=b(M,"DIV",{class:!0});var F=k(a);t=j(F,r),F.forEach(u),o=V(M),d=b(M,"DIV",{class:!0});var J=k(d);$=j(J,f),J.forEach(u),D=V(M),v=b(M,"DIV",{class:!0});var K=k(v);s=j(K,i),K.forEach(u),l=V(M),p=b(M,"DIV",{class:!0});var C=k(p);_=b(C,"BUTTON",{class:!0});var Z=k(_);h=j(Z,"Approve"),Z.forEach(u),m=V(C),E=b(C,"BUTTON",{class:!0});var x=k(E);O=j(x,"Deny"),x.forEach(u),L=V(C),I=b(C,"A",{href:!0,class:!0});var ee=k(I);B=j(ee,"View"),ee.forEach(u),C.forEach(u),G=V(M),M.forEach(u),this.h()},h(){y(a,"class","svelte-1aa0t7w"),y(d,"class","svelte-1aa0t7w"),y(v,"class","svelte-1aa0t7w"),y(_,"class","py-1 px-4 rounded text-base bg-green-600 text-center cursor-pointer"),y(E,"class","py-1 px-4 rounded text-base bg-red-600 text-center cursor-pointer"),y(I,"href",R=ne+"/mod/"+n[10].id),y(I,"class","py-1 px-4 rounded text-base bg-blue-500 text-center cursor-pointer"),y(p,"class","grid grid-flow-col gap-4 svelte-1aa0t7w"),y(e,"class","contents itemHeader svelte-1aa0t7w")},m(N,M){U(N,e,M),c(e,a),c(a,t),c(e,o),c(e,d),c(d,$),c(e,D),c(e,v),c(v,s),c(e,l),c(e,p),c(p,_),c(_,h),c(p,m),c(p,E),c(E,O),c(p,L),c(p,I),c(I,B),c(e,G),H||(z=[oe(_,"click",ue),oe(E,"click",pe)],H=!0)},p(N,M){n=N,M&1&&r!==(r=n[10].name+"")&&S(t,r),M&1&&f!==(f=n[10].short_description+"")&&S($,f),M&1&&i!==(i=n[10].created_at+"")&&S(s,i),M&1&&R!==(R=ne+"/mod/"+n[10].id)&&y(I,"href",R)},d(N){N&&u(e),H=!1,De(z)}}}function fe(n){let e,a,r;return a=new le({props:{totalPages:Math.ceil(n[1]/T),currentPage:n[3]}}),{c(){e=g("div"),Q(a.$$.fragment),this.h()},l(t){e=b(t,"DIV",{class:!0});var o=k(e);W(a.$$.fragment,o),o.forEach(u),this.h()},h(){y(e,"class","mt-5 ml-auto flex justify-end")},m(t,o){U(t,e,o),X(a,e,null),r=!0},p(t,o){const d={};o&2&&(d.totalPages=Math.ceil(t[1]/T)),a.$set(d)},i(t){r||(q(a.$$.fragment,t),r=!0)},o(t){A(a.$$.fragment,t),r=!1},d(t){t&&u(e),Y(a)}}}function Ne(n){let e,a,r,t,o,d;e=new Pe({props:{description:"Unapproved mods",title:"Admin: Unapproved Mods"}});let f=n[1]&&ce(n);function $(s,l){return s[0].fetching?qe:s[0].error?Ue:je}let D=$(n),v=D(n),i=n[1]&&fe(n);return{c(){Q(e.$$.fragment),a=w(),f&&f.c(),r=w(),v.c(),t=w(),i&&i.c(),o=te()},l(s){const l=he('[data-svelte="svelte-g9j975"]',document.head);W(e.$$.fragment,l),l.forEach(u),a=V(s),f&&f.l(s),r=V(s),v.l(s),t=V(s),i&&i.l(s),o=te()},m(s,l){X(e,document.head,null),U(s,a,l),f&&f.m(s,l),U(s,r,l),v.m(s,l),U(s,t,l),i&&i.m(s,l),U(s,o,l),d=!0},p(s,[l]){s[1]?f?(f.p(s,l),l&2&&q(f,1)):(f=ce(s),f.c(),q(f,1),f.m(r.parentNode,r)):f&&(re(),A(f,1,1,()=>{f=null}),se()),D===(D=$(s))&&v?v.p(s,l):(v.d(1),v=D(s),v&&(v.c(),v.m(t.parentNode,t))),s[1]?i?(i.p(s,l),l&2&&q(i,1)):(i=fe(s),i.c(),q(i,1),i.m(o.parentNode,o)):i&&(re(),A(i,1,1,()=>{i=null}),se())},i(s){d||(q(e.$$.fragment,s),q(f),q(i),d=!0)},o(s){A(e.$$.fragment,s),A(f),A(i),d=!1},d(s){Y(e),s&&u(a),f&&f.d(s),s&&u(r),v.d(s),s&&u(t),i&&i.d(s),s&&u(o)}}}const T=20;function Ae(n,e,a){let r;const t=ge(we,{filter:{offset:0,limit:T}});be(n,t,l=>a(0,r=l));const o=Me(1);let d;o.subscribe(l=>ke(t,r.variables.filter.offset=(l-1)*T,r));const f=ae({query:Ve}),$=l=>{f({modId:l}).then(()=>{t.reexecute()})},D=ae({query:Ie}),v=l=>{D({modId:l}).then(()=>{t.reexecute()})};$e(t);const i=l=>$(l.id),s=l=>v(l.id);return n.$$.update=()=>{n.$$.dirty&1&&a(1,d=r?.data?.getUnapprovedMods?.count)},[r,d,t,o,$,v,i,s]}class Be extends _e{constructor(e){super();ve(this,e,Ae,Ne,me,{})}}export{Be as default};
//# sourceMappingURL=unapproved-mods.svelte-6e4e73b2.js.map
