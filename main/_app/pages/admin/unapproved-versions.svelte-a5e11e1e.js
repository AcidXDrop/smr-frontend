import{S as ke,i as Ve,s as $e,e as g,j as z,c as b,a as k,m as F,d as p,b as D,f as U,o as J,x as A,u as T,v as K,k as w,l as le,$ as De,n as y,w as ne,N as Ee,M as we,ak as ye,Q as ie,O as Ie,r as ce,C as Pe,t as P,g as M,R as i,W as de,h as G,Y as Me,ad as je,X as Ue}from"../../chunks/vendor-bd04eeb5.js";import{i as Ae,A as qe,D as Ne}from"../../chunks/graphql-44245247.js";import{P as fe}from"../../chunks/PageControls-2044f4ba.js";import{b as ue}from"../../chunks/api-82c76902.js";import"../../chunks/user-3938001f.js";import{b as pe}from"../../chunks/paths-6758d194.js";import{M as Oe}from"../../chunks/MetaDescriptors-99b66b31.js";import"../../chunks/stores-44ecde00.js";function _e(o,e,r){const a=o.slice();return a[10]=e[r],a}function ve(o){let e,r,a;return r=new fe({props:{totalPages:Math.ceil(o[1]/R),currentPage:o[3]}}),{c(){e=g("div"),z(r.$$.fragment),this.h()},l(t){e=b(t,"DIV",{class:!0});var l=k(e);F(r.$$.fragment,l),l.forEach(p),this.h()},h(){D(e,"class","mt-5 ml-auto flex justify-end")},m(t,l){U(t,e,l),J(r,e,null),a=!0},p(t,l){const d={};l&2&&(d.totalPages=Math.ceil(t[1]/R)),r.$set(d)},i(t){a||(A(r.$$.fragment,t),a=!0)},o(t){T(r.$$.fragment,t),a=!1},d(t){t&&p(e),K(r)}}}function Te(o){let e,r,a,t,l,d,f,$,E,v,c,s,n=o[0].data.getUnapprovedVersions.versions,u=[];for(let _=0;_<n.length;_+=1)u[_]=me(_e(o,n,_));return{c(){e=g("div"),r=g("div"),a=P("Mod"),t=w(),l=g("div"),d=P("Version"),f=w(),$=g("div"),E=P("Release Date"),v=w(),c=g("div"),s=w();for(let _=0;_<u.length;_+=1)u[_].c();this.h()},l(_){e=b(_,"DIV",{class:!0});var h=k(e);r=b(h,"DIV",{});var m=k(r);a=M(m,"Mod"),m.forEach(p),t=y(h),l=b(h,"DIV",{});var I=k(l);d=M(I,"Version"),I.forEach(p),f=y(h),$=b(h,"DIV",{});var C=k($);E=M(C,"Release Date"),C.forEach(p),v=y(h),c=b(h,"DIV",{});var S=k(c);S.forEach(p),s=y(h);for(let j=0;j<u.length;j+=1)u[j].l(h);h.forEach(p),this.h()},h(){D(e,"class","grid grid-cols-6 itemList svelte-1aa0t7w")},m(_,h){U(_,e,h),i(e,r),i(r,a),i(e,t),i(e,l),i(l,d),i(e,f),i(e,$),i($,E),i(e,v),i(e,c),i(e,s);for(let m=0;m<u.length;m+=1)u[m].m(e,null)},p(_,h){if(h&49){n=_[0].data.getUnapprovedVersions.versions;let m;for(m=0;m<n.length;m+=1){const I=_e(_,n,m);u[m]?u[m].p(I,h):(u[m]=me(I),u[m].c(),u[m].m(e,null))}for(;m<u.length;m+=1)u[m].d(1);u.length=n.length}},d(_){_&&p(e),je(u,_)}}}function Ce(o){let e,r,a=o[0].error.message+"",t;return{c(){e=g("p"),r=P("Oh no... "),t=P(a)},l(l){e=b(l,"P",{});var d=k(e);r=M(d,"Oh no... "),t=M(d,a),d.forEach(p)},m(l,d){U(l,e,d),i(e,r),i(e,t)},p(l,d){d&1&&a!==(a=l[0].error.message+"")&&G(t,a)},d(l){l&&p(e)}}}function Re(o){let e,r;return{c(){e=g("p"),r=P("Loading...")},l(a){e=b(a,"P",{});var t=k(e);r=M(t,"Loading..."),t.forEach(p)},m(a,t){U(a,e,t),i(e,r)},p:Ue,d(a){a&&p(e)}}}function me(o){let e,r,a=o[10].mod.name+"",t,l,d,f=o[10].version+"",$,E,v,c=o[10].created_at+"",s,n,u,_,h,m,I,C,S,j,H,L,Q,q,W,B,X,Y,Z;function ge(){return o[6](o[10])}function be(){return o[7](o[10])}return{c(){e=g("div"),r=g("div"),t=P(a),l=w(),d=g("div"),$=P(f),E=w(),v=g("div"),s=P(c),n=w(),u=g("div"),_=g("button"),h=P("Approve"),m=w(),I=g("button"),C=P("Deny"),S=w(),j=g("a"),H=P("Download"),Q=w(),q=g("a"),W=P("View"),X=w(),this.h()},l(O){e=b(O,"DIV",{class:!0});var V=k(e);r=b(V,"DIV",{class:!0});var x=k(r);t=M(x,a),x.forEach(p),l=y(V),d=b(V,"DIV",{class:!0});var ee=k(d);$=M(ee,f),ee.forEach(p),E=y(V),v=b(V,"DIV",{class:!0});var te=k(v);s=M(te,c),te.forEach(p),n=y(V),u=b(V,"DIV",{class:!0});var N=k(u);_=b(N,"BUTTON",{class:!0});var se=k(_);h=M(se,"Approve"),se.forEach(p),m=y(N),I=b(N,"BUTTON",{class:!0});var re=k(I);C=M(re,"Deny"),re.forEach(p),S=y(N),j=b(N,"A",{href:!0,class:!0});var ae=k(j);H=M(ae,"Download"),ae.forEach(p),Q=y(N),q=b(N,"A",{href:!0,class:!0});var oe=k(q);W=M(oe,"View"),oe.forEach(p),N.forEach(p),X=y(V),V.forEach(p),this.h()},h(){D(r,"class","svelte-1aa0t7w"),D(d,"class","svelte-1aa0t7w"),D(v,"class","svelte-1aa0t7w"),D(_,"class","py-1 px-4 rounded text-base bg-green-600 text-center cursor-pointer"),D(I,"class","py-1 px-4 rounded text-base bg-red-600 text-center cursor-pointer"),D(j,"href",L=ue+"/mod/"+o[10].mod_id+"/versions/"+o[10].id+"/download"),D(j,"class","py-1 px-4 rounded text-base bg-yellow-600 text-center cursor-pointer"),D(q,"href",B=pe+"/mod/"+o[10].mod_id+"/version/"+o[10].id),D(q,"class","py-1 px-4 rounded text-base bg-blue-500 text-center cursor-pointer"),D(u,"class","grid grid-flow-col gap-4 svelte-1aa0t7w"),D(e,"class","contents itemHeader svelte-1aa0t7w")},m(O,V){U(O,e,V),i(e,r),i(r,t),i(e,l),i(e,d),i(d,$),i(e,E),i(e,v),i(v,s),i(e,n),i(e,u),i(u,_),i(_,h),i(u,m),i(u,I),i(I,C),i(u,S),i(u,j),i(j,H),i(u,Q),i(u,q),i(q,W),i(e,X),Y||(Z=[de(_,"click",ge),de(I,"click",be)],Y=!0)},p(O,V){o=O,V&1&&a!==(a=o[10].mod.name+"")&&G(t,a),V&1&&f!==(f=o[10].version+"")&&G($,f),V&1&&c!==(c=o[10].created_at+"")&&G(s,c),V&1&&L!==(L=ue+"/mod/"+o[10].mod_id+"/versions/"+o[10].id+"/download")&&D(j,"href",L),V&1&&B!==(B=pe+"/mod/"+o[10].mod_id+"/version/"+o[10].id)&&D(q,"href",B)},d(O){O&&p(e),Y=!1,Me(Z)}}}function he(o){let e,r,a;return r=new fe({props:{totalPages:Math.ceil(o[1]/R),currentPage:o[3]}}),{c(){e=g("div"),z(r.$$.fragment),this.h()},l(t){e=b(t,"DIV",{class:!0});var l=k(e);F(r.$$.fragment,l),l.forEach(p),this.h()},h(){D(e,"class","mt-5 ml-auto flex justify-end")},m(t,l){U(t,e,l),J(r,e,null),a=!0},p(t,l){const d={};l&2&&(d.totalPages=Math.ceil(t[1]/R)),r.$set(d)},i(t){a||(A(r.$$.fragment,t),a=!0)},o(t){T(r.$$.fragment,t),a=!1},d(t){t&&p(e),K(r)}}}function Se(o){let e,r,a,t,l,d;e=new Oe({props:{description:"Unapproved mod versions",title:"Admin: Unapproved Versions"}});let f=o[1]&&ve(o);function $(s,n){return s[0].fetching?Re:s[0].error?Ce:Te}let E=$(o),v=E(o),c=o[1]&&he(o);return{c(){z(e.$$.fragment),r=w(),f&&f.c(),a=w(),v.c(),t=w(),c&&c.c(),l=le()},l(s){const n=De('[data-svelte="svelte-c87g9p"]',document.head);F(e.$$.fragment,n),n.forEach(p),r=y(s),f&&f.l(s),a=y(s),v.l(s),t=y(s),c&&c.l(s),l=le()},m(s,n){J(e,document.head,null),U(s,r,n),f&&f.m(s,n),U(s,a,n),v.m(s,n),U(s,t,n),c&&c.m(s,n),U(s,l,n),d=!0},p(s,[n]){s[1]?f?(f.p(s,n),n&2&&A(f,1)):(f=ve(s),f.c(),A(f,1),f.m(a.parentNode,a)):f&&(ce(),T(f,1,1,()=>{f=null}),ne()),E===(E=$(s))&&v?v.p(s,n):(v.d(1),v=E(s),v&&(v.c(),v.m(t.parentNode,t))),s[1]?c?(c.p(s,n),n&2&&A(c,1)):(c=he(s),c.c(),A(c,1),c.m(l.parentNode,l)):c&&(ce(),T(c,1,1,()=>{c=null}),ne())},i(s){d||(A(e.$$.fragment,s),A(f),A(c),d=!0)},o(s){T(e.$$.fragment,s),T(f),T(c),d=!1},d(s){K(e),s&&p(r),f&&f.d(s),s&&p(a),v.d(s),s&&p(t),c&&c.d(s),s&&p(l)}}}const R=20;function Le(o,e,r){let a;const t=Ee(Ae,{filter:{offset:0,limit:R}});we(o,t,n=>r(0,a=n));const l=Pe(1);let d;l.subscribe(n=>ye(t,a.variables.filter.offset=(n-1)*R,a));const f=ie({query:qe}),$=n=>{f({versionId:n}).then(()=>{t.reexecute()})},E=ie({query:Ne}),v=n=>{E({versionId:n}).then(()=>{t.reexecute()})};Ie(t);const c=n=>$(n.id),s=n=>v(n.id);return o.$$.update=()=>{o.$$.dirty&1&&r(1,d=a?.data?.getUnapprovedVersions?.count)},[a,d,t,l,$,v,c,s]}class Fe extends ke{constructor(e){super();Ve(this,e,Le,Se,$e,{})}}export{Fe as default};
//# sourceMappingURL=unapproved-versions.svelte-a5e11e1e.js.map
