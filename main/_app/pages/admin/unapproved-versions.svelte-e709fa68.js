import{S as y,i as x,s as ee,e as q,j as v,c as E,a as I,m as h,d as m,b as z,f as g,V as N,o as b,x as p,u as _,v as w,as as te,k,l as M,a0 as ne,n as V,w as R,P as se,N as re,au as le,O as G,Q as oe,r as S,C as ae,av as $e,at as H,aw as fe,ax as ue,t as D,g as P,h as B,ay as Q,az as ce,aA as j,W as O}from"../../chunks/vendor-b958012e.js";import{h as ie,A as me,D as pe}from"../../chunks/graphql-06a000cd.js";import{P as W}from"../../chunks/PageControls-c7c9c7a5.js";import{b as F}from"../../chunks/api-82c76902.js";import"../../chunks/user-a69361c0.js";import{b as J}from"../../chunks/paths-6758d194.js";import{M as _e}from"../../chunks/MetaDescriptors-e50bf57a.js";import"../../chunks/stores-21c16f73.js";function K(o,e,n){const t=o.slice();return t[10]=e[n],t}function X(o){let e,n,t,s;return t=new W({props:{totalPages:Math.ceil(o[1]/A),currentPage:o[3]}}),{c(){e=q("div"),n=q("div"),v(t.$$.fragment),this.h()},l(l){e=E(l,"DIV",{class:!0});var $=I(e);n=E($,"DIV",{});var u=I(n);h(t.$$.fragment,u),u.forEach(m),$.forEach(m),this.h()},h(){z(e,"class","mb-5 ml-auto flex justify-end")},m(l,$){g(l,e,$),N(e,n),b(t,n,null),s=!0},p(l,$){const u={};$&2&&(u.totalPages=Math.ceil(l[1]/A)),t.$set(u)},i(l){s||(p(t.$$.fragment,l),s=!0)},o(l){_(t.$$.fragment,l),s=!1},d(l){l&&m(e),w(t)}}}function ge(o){let e,n;return e=new $e({props:{class:"max-w-full",$$slots:{default:[Ne]},$$scope:{ctx:o}}}),{c(){v(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,s){b(e,t,s),n=!0},p(t,s){const l={};s&8193&&(l.$$scope={dirty:s,ctx:t}),e.$set(l)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){w(e,t)}}}function de(o){let e,n;return e=new H({props:{$$slots:{default:[Re]},$$scope:{ctx:o}}}),{c(){v(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,s){b(e,t,s),n=!0},p(t,s){const l={};s&8193&&(l.$$scope={dirty:s,ctx:t}),e.$set(l)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){w(e,t)}}}function ve(o){let e,n;return e=new H({props:{$$slots:{default:[Se]},$$scope:{ctx:o}}}),{c(){v(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,s){b(e,t,s),n=!0},p(t,s){const l={};s&8192&&(l.$$scope={dirty:s,ctx:t}),e.$set(l)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){w(e,t)}}}function he(o){let e;return{c(){e=D("Mod")},l(n){e=P(n,"Mod")},m(n,t){g(n,e,t)},d(n){n&&m(e)}}}function be(o){let e;return{c(){e=D("Version")},l(n){e=P(n,"Version")},m(n,t){g(n,e,t)},d(n){n&&m(e)}}}function we(o){let e;return{c(){e=D("Release Date")},l(n){e=P(n,"Release Date")},m(n,t){g(n,e,t)},d(n){n&&m(e)}}}function ke(o){let e,n,t,s,l,$,u,a;return e=new j({props:{$$slots:{default:[he]},$$scope:{ctx:o}}}),t=new j({props:{$$slots:{default:[be]},$$scope:{ctx:o}}}),l=new j({props:{$$slots:{default:[we]},$$scope:{ctx:o}}}),u=new j({}),{c(){v(e.$$.fragment),n=k(),v(t.$$.fragment),s=k(),v(l.$$.fragment),$=k(),v(u.$$.fragment)},l(f){h(e.$$.fragment,f),n=V(f),h(t.$$.fragment,f),s=V(f),h(l.$$.fragment,f),$=V(f),h(u.$$.fragment,f)},m(f,r){b(e,f,r),g(f,n,r),b(t,f,r),g(f,s,r),b(l,f,r),g(f,$,r),b(u,f,r),a=!0},p(f,r){const c={};r&8192&&(c.$$scope={dirty:r,ctx:f}),e.$set(c);const d={};r&8192&&(d.$$scope={dirty:r,ctx:f}),t.$set(d);const i={};r&8192&&(i.$$scope={dirty:r,ctx:f}),l.$set(i)},i(f){a||(p(e.$$.fragment,f),p(t.$$.fragment,f),p(l.$$.fragment,f),p(u.$$.fragment,f),a=!0)},o(f){_(e.$$.fragment,f),_(t.$$.fragment,f),_(l.$$.fragment,f),_(u.$$.fragment,f),a=!1},d(f){w(e,f),f&&m(n),w(t,f),f&&m(s),w(l,f),f&&m($),w(u,f)}}}function Ve(o){let e,n;return e=new Q({props:{$$slots:{default:[ke]},$$scope:{ctx:o}}}),{c(){v(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,s){b(e,t,s),n=!0},p(t,s){const l={};s&8192&&(l.$$scope={dirty:s,ctx:t}),e.$set(l)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){w(e,t)}}}function De(o){let e=o[10].mod.name+"",n;return{c(){n=D(e)},l(t){n=P(t,e)},m(t,s){g(t,n,s)},p(t,s){s&1&&e!==(e=t[10].mod.name+"")&&B(n,e)},d(t){t&&m(n)}}}function Pe(o){let e=o[10].version+"",n;return{c(){n=D(e)},l(t){n=P(t,e)},m(t,s){g(t,n,s)},p(t,s){s&1&&e!==(e=t[10].version+"")&&B(n,e)},d(t){t&&m(n)}}}function je(o){let e=o[10].created_at+"",n;return{c(){n=D(e)},l(t){n=P(t,e)},m(t,s){g(t,n,s)},p(t,s){s&1&&e!==(e=t[10].created_at+"")&&B(n,e)},d(t){t&&m(n)}}}function Me(o){let e;return{c(){e=D("Approve")},l(n){e=P(n,"Approve")},m(n,t){g(n,e,t)},d(n){n&&m(e)}}}function Ae(o){let e;return{c(){e=D("Deny")},l(n){e=P(n,"Deny")},m(n,t){g(n,e,t)},d(n){n&&m(e)}}}function Ce(o){let e;return{c(){e=D("Download")},l(n){e=P(n,"Download")},m(n,t){g(n,e,t)},d(n){n&&m(e)}}}function Ue(o){let e;return{c(){e=D("View")},l(n){e=P(n,"View")},m(n,t){g(n,e,t)},d(n){n&&m(e)}}}function qe(o){let e,n,t,s,l,$,u,a,f;function r(){return o[6](o[10])}n=new O({props:{variant:"outlined",$$slots:{default:[Me]},$$scope:{ctx:o}}}),n.$on("click",r);function c(){return o[7](o[10])}return s=new O({props:{variant:"outlined",$$slots:{default:[Ae]},$$scope:{ctx:o}}}),s.$on("click",c),$=new O({props:{variant:"outlined",href:F+"/mod/"+o[10].mod_id+"/versions/"+o[10].id+"/download",$$slots:{default:[Ce]},$$scope:{ctx:o}}}),a=new O({props:{variant:"outlined",href:J+"/mod/"+o[10].mod_id+"/version/"+o[10].id,$$slots:{default:[Ue]},$$scope:{ctx:o}}}),{c(){e=q("div"),v(n.$$.fragment),t=k(),v(s.$$.fragment),l=k(),v($.$$.fragment),u=k(),v(a.$$.fragment),this.h()},l(d){e=E(d,"DIV",{class:!0});var i=I(e);h(n.$$.fragment,i),t=V(i),h(s.$$.fragment,i),l=V(i),h($.$$.fragment,i),u=V(i),h(a.$$.fragment,i),i.forEach(m),this.h()},h(){z(e,"class","grid grid-flow-col gap-4")},m(d,i){g(d,e,i),b(n,e,null),N(e,t),b(s,e,null),N(e,l),b($,e,null),N(e,u),b(a,e,null),f=!0},p(d,i){o=d;const C={};i&8192&&(C.$$scope={dirty:i,ctx:o}),n.$set(C);const U={};i&8192&&(U.$$scope={dirty:i,ctx:o}),s.$set(U);const L={};i&1&&(L.href=F+"/mod/"+o[10].mod_id+"/versions/"+o[10].id+"/download"),i&8192&&(L.$$scope={dirty:i,ctx:o}),$.$set(L);const T={};i&1&&(T.href=J+"/mod/"+o[10].mod_id+"/version/"+o[10].id),i&8192&&(T.$$scope={dirty:i,ctx:o}),a.$set(T)},i(d){f||(p(n.$$.fragment,d),p(s.$$.fragment,d),p($.$$.fragment,d),p(a.$$.fragment,d),f=!0)},o(d){_(n.$$.fragment,d),_(s.$$.fragment,d),_($.$$.fragment,d),_(a.$$.fragment,d),f=!1},d(d){d&&m(e),w(n),w(s),w($),w(a)}}}function Ee(o){let e,n,t,s,l,$,u,a,f;return e=new j({props:{$$slots:{default:[De]},$$scope:{ctx:o}}}),t=new j({props:{$$slots:{default:[Pe]},$$scope:{ctx:o}}}),l=new j({props:{$$slots:{default:[je]},$$scope:{ctx:o}}}),u=new j({props:{$$slots:{default:[qe]},$$scope:{ctx:o}}}),{c(){v(e.$$.fragment),n=k(),v(t.$$.fragment),s=k(),v(l.$$.fragment),$=k(),v(u.$$.fragment),a=k()},l(r){h(e.$$.fragment,r),n=V(r),h(t.$$.fragment,r),s=V(r),h(l.$$.fragment,r),$=V(r),h(u.$$.fragment,r),a=V(r)},m(r,c){b(e,r,c),g(r,n,c),b(t,r,c),g(r,s,c),b(l,r,c),g(r,$,c),b(u,r,c),g(r,a,c),f=!0},p(r,c){const d={};c&8193&&(d.$$scope={dirty:c,ctx:r}),e.$set(d);const i={};c&8193&&(i.$$scope={dirty:c,ctx:r}),t.$set(i);const C={};c&8193&&(C.$$scope={dirty:c,ctx:r}),l.$set(C);const U={};c&8193&&(U.$$scope={dirty:c,ctx:r}),u.$set(U)},i(r){f||(p(e.$$.fragment,r),p(t.$$.fragment,r),p(l.$$.fragment,r),p(u.$$.fragment,r),f=!0)},o(r){_(e.$$.fragment,r),_(t.$$.fragment,r),_(l.$$.fragment,r),_(u.$$.fragment,r),f=!1},d(r){w(e,r),r&&m(n),w(t,r),r&&m(s),w(l,r),r&&m($),w(u,r),r&&m(a)}}}function Y(o){let e,n;return e=new Q({props:{$$slots:{default:[Ee]},$$scope:{ctx:o}}}),{c(){v(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,s){b(e,t,s),n=!0},p(t,s){const l={};s&8193&&(l.$$scope={dirty:s,ctx:t}),e.$set(l)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){w(e,t)}}}function Ie(o){let e,n,t=o[0].data.getUnapprovedVersions.versions,s=[];for(let $=0;$<t.length;$+=1)s[$]=Y(K(o,t,$));const l=$=>_(s[$],1,1,()=>{s[$]=null});return{c(){for(let $=0;$<s.length;$+=1)s[$].c();e=M()},l($){for(let u=0;u<s.length;u+=1)s[u].l($);e=M()},m($,u){for(let a=0;a<s.length;a+=1)s[a].m($,u);g($,e,u),n=!0},p($,u){if(u&49){t=$[0].data.getUnapprovedVersions.versions;let a;for(a=0;a<t.length;a+=1){const f=K($,t,a);s[a]?(s[a].p(f,u),p(s[a],1)):(s[a]=Y(f),s[a].c(),p(s[a],1),s[a].m(e.parentNode,e))}for(S(),a=t.length;a<s.length;a+=1)l(a);R()}},i($){if(!n){for(let u=0;u<t.length;u+=1)p(s[u]);n=!0}},o($){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)_(s[u]);n=!1},d($){ce(s,$),$&&m(e)}}}function Ne(o){let e,n,t,s;return e=new fe({props:{$$slots:{default:[Ve]},$$scope:{ctx:o}}}),t=new ue({props:{$$slots:{default:[Ie]},$$scope:{ctx:o}}}),{c(){v(e.$$.fragment),n=k(),v(t.$$.fragment)},l(l){h(e.$$.fragment,l),n=V(l),h(t.$$.fragment,l)},m(l,$){b(e,l,$),g(l,n,$),b(t,l,$),s=!0},p(l,$){const u={};$&8192&&(u.$$scope={dirty:$,ctx:l}),e.$set(u);const a={};$&8193&&(a.$$scope={dirty:$,ctx:l}),t.$set(a)},i(l){s||(p(e.$$.fragment,l),p(t.$$.fragment,l),s=!0)},o(l){_(e.$$.fragment,l),_(t.$$.fragment,l),s=!1},d(l){w(e,l),l&&m(n),w(t,l)}}}function Re(o){let e,n=o[0].error.message+"",t;return{c(){e=D("Oh no... "),t=D(n)},l(s){e=P(s,"Oh no... "),t=P(s,n)},m(s,l){g(s,e,l),g(s,t,l)},p(s,l){l&1&&n!==(n=s[0].error.message+"")&&B(t,n)},d(s){s&&m(e),s&&m(t)}}}function Se(o){let e;return{c(){e=D("Loading...")},l(n){e=P(n,"Loading...")},m(n,t){g(n,e,t)},d(n){n&&m(e)}}}function Be(o){let e,n,t,s;const l=[ve,de,ge],$=[];function u(a,f){return a[0].fetching?0:a[0].error?1:2}return e=u(o),n=$[e]=l[e](o),{c(){n.c(),t=M()},l(a){n.l(a),t=M()},m(a,f){$[e].m(a,f),g(a,t,f),s=!0},p(a,f){let r=e;e=u(a),e===r?$[e].p(a,f):(S(),_($[r],1,1,()=>{$[r]=null}),R(),n=$[e],n?n.p(a,f):(n=$[e]=l[e](a),n.c()),p(n,1),n.m(t.parentNode,t))},i(a){s||(p(n),s=!0)},o(a){_(n),s=!1},d(a){$[e].d(a),a&&m(t)}}}function Z(o){let e,n,t;return n=new W({props:{totalPages:Math.ceil(o[1]/A),currentPage:o[3]}}),{c(){e=q("div"),v(n.$$.fragment),this.h()},l(s){e=E(s,"DIV",{class:!0});var l=I(e);h(n.$$.fragment,l),l.forEach(m),this.h()},h(){z(e,"class","mt-5 ml-auto flex justify-end")},m(s,l){g(s,e,l),b(n,e,null),t=!0},p(s,l){const $={};l&2&&($.totalPages=Math.ceil(s[1]/A)),n.$set($)},i(s){t||(p(n.$$.fragment,s),t=!0)},o(s){_(n.$$.fragment,s),t=!1},d(s){s&&m(e),w(n)}}}function Oe(o){let e,n,t,s,l,$,u;e=new _e({props:{description:"Unapproved mod versions",title:"Admin: Unapproved Versions"}});let a=o[1]&&X(o);s=new te({props:{$$slots:{default:[Be]},$$scope:{ctx:o}}});let f=o[1]&&Z(o);return{c(){v(e.$$.fragment),n=k(),a&&a.c(),t=k(),v(s.$$.fragment),l=k(),f&&f.c(),$=M()},l(r){const c=ne('[data-svelte="svelte-c87g9p"]',document.head);h(e.$$.fragment,c),c.forEach(m),n=V(r),a&&a.l(r),t=V(r),h(s.$$.fragment,r),l=V(r),f&&f.l(r),$=M()},m(r,c){b(e,document.head,null),g(r,n,c),a&&a.m(r,c),g(r,t,c),b(s,r,c),g(r,l,c),f&&f.m(r,c),g(r,$,c),u=!0},p(r,[c]){r[1]?a?(a.p(r,c),c&2&&p(a,1)):(a=X(r),a.c(),p(a,1),a.m(t.parentNode,t)):a&&(S(),_(a,1,1,()=>{a=null}),R());const d={};c&8193&&(d.$$scope={dirty:c,ctx:r}),s.$set(d),r[1]?f?(f.p(r,c),c&2&&p(f,1)):(f=Z(r),f.c(),p(f,1),f.m($.parentNode,$)):f&&(S(),_(f,1,1,()=>{f=null}),R())},i(r){u||(p(e.$$.fragment,r),p(a),p(s.$$.fragment,r),p(f),u=!0)},o(r){_(e.$$.fragment,r),_(a),_(s.$$.fragment,r),_(f),u=!1},d(r){w(e),r&&m(n),a&&a.d(r),r&&m(t),w(s,r),r&&m(l),f&&f.d(r),r&&m($)}}}const A=20;function Le(o,e,n){let t;const s=se(ie,{filter:{offset:0,limit:A}});re(o,s,i=>n(0,t=i));const l=ae(1);let $;l.subscribe(i=>le(s,t.variables.filter.offset=(i-1)*A,t));const u=G({query:me}),a=i=>{u({versionId:i}).then(()=>{s.reexecute()})},f=G({query:pe}),r=i=>{f({versionId:i}).then(()=>{s.reexecute()})};oe(s);const c=i=>a(i.id),d=i=>r(i.id);return o.$$.update=()=>{o.$$.dirty&1&&n(1,$=t?.data?.getUnapprovedVersions?.count)},[t,$,s,l,a,r,c,d]}class Ke extends y{constructor(e){super();x(this,e,Le,Oe,ee,{})}}export{Ke as default};
//# sourceMappingURL=unapproved-versions.svelte-e709fa68.js.map
