import{S as C,i as G,s as H,J,K,j as D,k as I,e as L,t as k,_ as Q,m as T,d as u,n as q,c as E,a as v,g as V,b as R,o as w,f as _,R as $,u as S,w as U,x as M,L as z,v as P,N as B,M as W,Q as X,O as Y,r as Z,h as O,V as j}from"../../../../chunks/vendor-5e5b2079.js";import{p as x}from"../../../../chunks/routing-1d144003.js";import{o as ee,p as se}from"../../../../chunks/graphql-8fe081d6.js";import{T as te}from"../../../../chunks/Toast-c7c36427.js";import{g as ne}from"../../../../chunks/navigation-51f4a605.js";import{S as re}from"../../../../chunks/SMLVersionForm-c85ad42e.js";import{b as oe}from"../../../../chunks/paths-6758d194.js";import{M as ie}from"../../../../chunks/MetaDescriptors-20105bba.js";import"../../../../chunks/singletons-12a22614.js";import"../../../../chunks/forms-8d025218.js";import"../../../../chunks/markdown-e6b630bd.js";import"../../../../chunks/stores-0968c272.js";function ae(i){let e,n;return e=new re({props:{onSubmit:i[5],initialValues:i[3],submitText:"Save"}}),{c(){D(e.$$.fragment)},l(s){T(e.$$.fragment,s)},m(s,r){w(e,s,r),n=!0},p(s,r){const a={};r&8&&(a.initialValues=s[3]),e.$set(a)},i(s){n||(M(e.$$.fragment,s),n=!0)},o(s){S(e.$$.fragment,s),n=!1},d(s){P(e,s)}}}function le(i){let e,n,s=i[1].error.message+"",r;return{c(){e=L("p"),n=k("Oh no... "),r=k(s)},l(a){e=E(a,"P",{});var o=v(e);n=V(o,"Oh no... "),r=V(o,s),o.forEach(u)},m(a,o){_(a,e,o),$(e,n),$(e,r)},p(a,o){o&2&&s!==(s=a[1].error.message+"")&&O(r,s)},i:j,o:j,d(a){a&&u(e)}}}function me(i){let e,n;return{c(){e=L("p"),n=k("Loading...")},l(s){e=E(s,"P",{});var r=v(e);n=V(r,"Loading..."),r.forEach(u)},m(s,r){_(s,e,r),$(e,n)},p:j,i:j,o:j,d(s){s&&u(e)}}}function ce(i){let e,n;return{c(){e=L("span"),n=k(i[2])},l(s){e=E(s,"SPAN",{});var r=v(e);n=V(r,i[2]),r.forEach(u)},m(s,r){_(s,e,r),$(e,n)},p(s,r){r&4&&O(n,s[2])},d(s){s&&u(e)}}}function ue(i){let e,n,s,r,a,o,l,d,f,b,h;e=new ie({props:{description:"Edit SML Version",title:"Admin: Edit SML Version"}});const p=[me,le,ae],c=[];function A(t,m){return t[1].fetching?0:t[1].error?1:2}o=A(i),l=c[o]=p[o](i);function F(t){i[7](t)}let N={$$slots:{default:[ce]},$$scope:{ctx:i}};return i[0]!==void 0&&(N.running=i[0]),f=new te({props:N}),J.push(()=>K(f,"running",F)),{c(){D(e.$$.fragment),n=I(),s=L("h1"),r=k("Edit SMLVersion"),a=I(),l.c(),d=I(),D(f.$$.fragment),this.h()},l(t){const m=Q('[data-svelte="svelte-7e9nlv"]',document.head);T(e.$$.fragment,m),m.forEach(u),n=q(t),s=E(t,"H1",{class:!0});var g=v(s);r=V(g,"Edit SMLVersion"),g.forEach(u),a=q(t),l.l(t),d=q(t),T(f.$$.fragment,t),this.h()},h(){R(s,"class","text-4xl my-4 font-bold")},m(t,m){w(e,document.head,null),_(t,n,m),_(t,s,m),$(s,r),_(t,a,m),c[o].m(t,m),_(t,d,m),w(f,t,m),h=!0},p(t,[m]){let g=o;o=A(t),o===g?c[o].p(t,m):(Z(),S(c[g],1,1,()=>{c[g]=null}),U(),l=c[o],l?l.p(t,m):(l=c[o]=p[o](t),l.c()),M(l,1),l.m(d.parentNode,d));const y={};m&516&&(y.$$scope={dirty:m,ctx:t}),!b&&m&1&&(b=!0,y.running=t[0],z(()=>b=!1)),f.$set(y)},i(t){h||(M(e.$$.fragment,t),M(l),M(f.$$.fragment,t),h=!0)},o(t){S(e.$$.fragment,t),S(l),S(f.$$.fragment,t),h=!1},d(t){P(e),t&&u(n),t&&u(s),t&&u(a),c[o].d(t),t&&u(d),P(f,t)}}}const Le=x();function fe(i,e,n){let s,r,{smlVersionId:a}=e,o="",l=!1;const d=B(ee,{smlVersionID:a});W(i,d,p=>n(1,r=p));const f=X({query:se}),b=p=>{f({smlVersionID:a,smlVersion:p}).then(c=>{c.error?(console.error(c.error.message),n(2,o="Error editing sMLVersion: "+c.error.message),n(0,l=!0)):ne(oe+"/admin/sml-versions")})};Y(d);function h(p){l=p,n(0,l)}return i.$$set=p=>{"smlVersionId"in p&&n(6,a=p.smlVersionId)},i.$$.update=()=>{i.$$.dirty&1&&(l||n(2,o="")),i.$$.dirty&2&&n(3,s=r.data?{...r.data.getSMLVersion,logo:void 0}:void 0)},[l,r,o,s,d,b,a,h]}class Ee extends C{constructor(e){super();G(this,e,fe,ue,H,{smlVersionId:6})}}export{Ee as default,Le as load};
//# sourceMappingURL=edit.svelte-31b8fa53.js.map
