import{S as C,i as G,s as H,J,K,j as q,k as D,e as L,t as k,$ as Q,m as I,d as c,n as T,c as E,a as v,g as V,b as R,o as w,f as _,R as $,u as S,w as U,x as M,L as X,v as P,N as z,M as B,Q as W,O as Y,r as Z,h as O,X as j}from"../../../../chunks/vendor-bd04eeb5.js";import{p as x}from"../../../../chunks/routing-1d144003.js";import{p as ee,q as se}from"../../../../chunks/graphql-44245247.js";import{T as te}from"../../../../chunks/Toast-cf8cd1a0.js";import{g as ne}from"../../../../chunks/navigation-51f4a605.js";import{S as re}from"../../../../chunks/SMLVersionForm-287e0998.js";import{b as oe}from"../../../../chunks/paths-6758d194.js";import{M as ie}from"../../../../chunks/MetaDescriptors-99b66b31.js";import"../../../../chunks/singletons-12a22614.js";import"../../../../chunks/forms-8d025218.js";import"../../../../chunks/markdown-b0181a82.js";import"../../../../chunks/stores-44ecde00.js";function ae(i){let e,n;return e=new re({props:{onSubmit:i[5],initialValues:i[3],submitText:"Save"}}),{c(){q(e.$$.fragment)},l(s){I(e.$$.fragment,s)},m(s,r){w(e,s,r),n=!0},p(s,r){const a={};r&8&&(a.initialValues=s[3]),e.$set(a)},i(s){n||(M(e.$$.fragment,s),n=!0)},o(s){S(e.$$.fragment,s),n=!1},d(s){P(e,s)}}}function le(i){let e,n,s=i[1].error.message+"",r;return{c(){e=L("p"),n=k("Oh no... "),r=k(s)},l(a){e=E(a,"P",{});var o=v(e);n=V(o,"Oh no... "),r=V(o,s),o.forEach(c)},m(a,o){_(a,e,o),$(e,n),$(e,r)},p(a,o){o&2&&s!==(s=a[1].error.message+"")&&O(r,s)},i:j,o:j,d(a){a&&c(e)}}}function me(i){let e,n;return{c(){e=L("p"),n=k("Loading...")},l(s){e=E(s,"P",{});var r=v(e);n=V(r,"Loading..."),r.forEach(c)},m(s,r){_(s,e,r),$(e,n)},p:j,i:j,o:j,d(s){s&&c(e)}}}function ue(i){let e,n;return{c(){e=L("span"),n=k(i[2])},l(s){e=E(s,"SPAN",{});var r=v(e);n=V(r,i[2]),r.forEach(c)},m(s,r){_(s,e,r),$(e,n)},p(s,r){r&4&&O(n,s[2])},d(s){s&&c(e)}}}function ce(i){let e,n,s,r,a,o,l,d,f,b,h;e=new ie({props:{description:"Edit SML Version",title:"Admin: Edit SML Version"}});const p=[me,le,ae],u=[];function A(t,m){return t[1].fetching?0:t[1].error?1:2}o=A(i),l=u[o]=p[o](i);function F(t){i[7](t)}let N={$$slots:{default:[ue]},$$scope:{ctx:i}};return i[0]!==void 0&&(N.running=i[0]),f=new te({props:N}),J.push(()=>K(f,"running",F)),{c(){q(e.$$.fragment),n=D(),s=L("h1"),r=k("Edit SMLVersion"),a=D(),l.c(),d=D(),q(f.$$.fragment),this.h()},l(t){const m=Q('[data-svelte="svelte-7e9nlv"]',document.head);I(e.$$.fragment,m),m.forEach(c),n=T(t),s=E(t,"H1",{class:!0});var g=v(s);r=V(g,"Edit SMLVersion"),g.forEach(c),a=T(t),l.l(t),d=T(t),I(f.$$.fragment,t),this.h()},h(){R(s,"class","text-4xl my-4 font-bold")},m(t,m){w(e,document.head,null),_(t,n,m),_(t,s,m),$(s,r),_(t,a,m),u[o].m(t,m),_(t,d,m),w(f,t,m),h=!0},p(t,[m]){let g=o;o=A(t),o===g?u[o].p(t,m):(Z(),S(u[g],1,1,()=>{u[g]=null}),U(),l=u[o],l?l.p(t,m):(l=u[o]=p[o](t),l.c()),M(l,1),l.m(d.parentNode,d));const y={};m&516&&(y.$$scope={dirty:m,ctx:t}),!b&&m&1&&(b=!0,y.running=t[0],X(()=>b=!1)),f.$set(y)},i(t){h||(M(e.$$.fragment,t),M(l),M(f.$$.fragment,t),h=!0)},o(t){S(e.$$.fragment,t),S(l),S(f.$$.fragment,t),h=!1},d(t){P(e),t&&c(n),t&&c(s),t&&c(a),u[o].d(t),t&&c(d),P(f,t)}}}const Le=x();function fe(i,e,n){let s,r,{smlVersionId:a}=e,o="",l=!1;const d=z(ee,{smlVersionID:a});B(i,d,p=>n(1,r=p));const f=W({query:se}),b=p=>{f({smlVersionID:a,smlVersion:p}).then(u=>{u.error?(console.error(u.error.message),n(2,o="Error editing sMLVersion: "+u.error.message),n(0,l=!0)):ne(oe+"/admin/sml-versions")})};Y(d);function h(p){l=p,n(0,l)}return i.$$set=p=>{"smlVersionId"in p&&n(6,a=p.smlVersionId)},i.$$.update=()=>{i.$$.dirty&1&&(l||n(2,o="")),i.$$.dirty&2&&n(3,s=r.data?{...r.data.getSMLVersion,logo:void 0}:void 0)},[l,r,o,s,d,b,a,h]}class Ee extends C{constructor(e){super();G(this,e,fe,ce,H,{smlVersionId:6})}}export{Ee as default,Le as load};
//# sourceMappingURL=edit.svelte-e8ae2dae.js.map
