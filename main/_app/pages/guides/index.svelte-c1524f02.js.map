{"version":3,"file":"index.svelte-c1524f02.js","sources":["../../../../../../src/lib/components/guides/GuideGrid.svelte","../../../../../../src/routes/guides/index.svelte"],"sourcesContent":["<script lang=\"ts\">\n  import {operationStore, query} from '@urql/svelte';\n  import {GetGuidesDocument} from '$lib/generated';\n  import GuideCard from \"./GuideCard.svelte\";\n  import PageControls from \"$lib/components/utils/PageControls.svelte\";\n  import {writable} from \"svelte/store\";\n  import FakeCard from \"../general/FakeCard.svelte\";\n\n  export let colCount: 4 | 5 = 4;\n\n  // TODO Selectable\n  const perPage = 40;\n\n  const guides = operationStore(\n    GetGuidesDocument,\n    {offset: 0, limit: perPage}\n  );\n\n  const page = writable(1);\n  let totalGuides: number;\n\n  page.subscribe(p => {\n    $guides.variables.offset = (p - 1) * perPage;\n    $guides.reexecute();\n  });\n\n  $: totalGuides = $guides?.data?.getGuides?.count || 0;\n\n  query(guides);\n\n  $: gridClasses = colCount == 4 ?\n    '2xl:grid-cols-4 xl:grid-cols-3 lg:grid-cols-2 grid-cols-1' :\n    '2xl:grid-cols-5 xl:grid-cols-4 lg:grid-cols-3 grid-cols-1';\n</script>\n\n<div class=\"mb-5 ml-auto flex justify-end\">\n  <PageControls totalPages={Math.ceil(totalGuides / perPage)} currentPage={page}/>\n</div>\n\n{#if $guides.fetching}\n  <div class=\"grid {gridClasses} gap-4\">\n    {#each Array(perPage) as _}\n      <FakeCard/>\n    {/each}\n  </div>\n{:else if $guides.error}\n  <p>Oh no... {$guides.error.message}</p>\n{:else}\n  <div class=\"grid {gridClasses} gap-4\">\n    {#each $guides.data.getGuides.guides as guide}\n      <GuideCard guide={guide} logo={guide.user.avatar}/>\n    {/each}\n  </div>\n{/if}\n\n<div class=\"mt-5 ml-auto flex justify-end\">\n  <PageControls totalPages={Math.ceil(totalGuides / perPage)} currentPage={page}/>\n</div>\n","<svelte:head>\n  <MetaDescriptors \n    description=\"Guides for Satisfactory and modding Satisfactory\"\n    title=\"Guides\" \n  />\n</svelte:head>\n\n<script lang=\"ts\">\n  import GuideGrid from \"$lib/components/guides/GuideGrid.svelte\";\n  import {base} from \"$app/paths\";\n  import MetaDescriptors from \"$lib/components/utils/MetaDescriptors.svelte\";\n</script>\n\n<div class=\"flex justify-between items-center\">\n  <h1 class=\"text-4xl my-4 font-bold\">Guides</h1>\n  <a href=\"{base}/new-guide\" class=\"rounded text-base bg-blue-500 py-2 px-4 h-fit\">New Guide</a>\n</div>\n<GuideGrid colCount={5}/>\n"],"names":["ctx","data","getGuides","guides","length","ctx2","error","message","Array","perPage","user","avatar","Math","ceil","fetching","_a","_b","colCount","operationStore","GetGuidesDocument","offset","limit","page","writable","totalGuides","subscribe","$guides","variables","reexecute","count","gridClasses"],"mappings":"kyBAiDWA,KAAQC,KAAKC,UAAUC,4BAA5BC,0QADcJ,4GACTK,KAAQJ,KAAKC,UAAUC,eAA5BC,qHAAAA,yDADcC,6DACdD,8IAHSJ,KAAQM,MAAMC,mCAAxB,yDAAA,sFAAUF,KAAQC,MAAMC,sEALlBC,MAAMC,wBAAXL,iOADcJ,iHAAAK,6DACdD,uKASkBJ,WAAaA,MAAMU,KAAKC,gHAAxBN,oBAAaA,MAAMK,KAAKC,+VAdpBC,KAAKC,KAAKb,KAAcS,eAAuBT,oDAGtEK,KAAQS,WAMHT,KAAQC,kEAWUM,KAAKC,KAAKb,KAAcS,eAAuBT,seApB/CY,KAAKC,KAAKR,KAAcI,yLAoBxBG,KAAKC,KAAKR,KAAcI,iMA7C5CA,EAAU,iCAXDM,EAAAC,eAQJC,EAAkB,WAKvBd,EAASe,EACbC,GACCC,OAAQ,EAAGC,MAAOZ,+BAGfa,EAAOC,EAAS,OAClBC,WAECC,mBACHC,EAAQC,UAAUP,UAAc,GAAKX,OAC7BmB,iBAKJzB,uFAFHqB,GAAsC,WAAxBR,EAAa,WAAbD,EAAAW,MAAAA,SAAAA,EAASzB,gBAAIc,SAAAA,EAAEb,qBAASc,SAAAA,EAAEa,QAAS,sBAIjDC,EAA0B,GAAZb,EACf,4DACA,gUCfiB,0DAHiB,6BAC6C,+NAD7C,6EAC6C"}