{"version":3,"file":"index.svelte-664f1557.js","sources":["../../../../../../../src/lib/components/users/UserInfo.svelte","../../../../../../../src/lib/components/users/UserAvatar.svelte","../../../../../../../src/routes/user/[userId]/index.svelte"],"sourcesContent":["<script lang=\"ts\">\n  import type { User } from '$lib/generated';\n\n  export let user!: Pick<User, 'created_at'>;\n</script>\n\n<div class=\"text-lg\">\n  <h3 class=\"text-2xl my-4 font-bold\">Info</h3>\n  <!-- TODO Nice Date -->\n  <span><strong>Created:</strong> {user.created_at}</span><br />\n</div>\n","<script lang=\"ts\">\n  import { assets } from '$app/paths';\n\n  export let avatar!: string;\n  export let username!: string;\n\n  $: userAvatar = avatar || assets + '/images/no_image.png';\n\n  // TODO Outdated Flag\n</script>\n\n<div>\n  <!-- TODO Fallback to default Logo -->\n  <img class=\"rounded-lg max-w-lg\" src={userAvatar} alt=\"Avatar for {username}\" />\n</div>\n","<script lang=\"ts\" context=\"module\">\n  import { paramsToProps } from '$lib/utils/routing';\n  import { operationStore } from '@urql/svelte';\n  import { GetUserDocument } from '$lib/generated';\n  import { loadWaitForNoFetch } from '$lib/utils/gql';\n  import MetaDescriptors from '$lib/components/utils/MetaDescriptors.svelte';\n\n  const userQ = operationStore(GetUserDocument, { user: undefined });\n\n  export const load = paramsToProps(async (input) => {\n    userQ.variables.user = input.page.params.userId;\n    return loadWaitForNoFetch({\n      user: userQ\n    })(input);\n  });\n</script>\n\n<script lang=\"ts\">\n  import { query } from '@urql/svelte';\n  import UserInfo from '$lib/components/users/UserInfo.svelte';\n  import UserAvatar from '$lib/components/users/UserAvatar.svelte';\n  import ModCard from '$lib/components/mods/ModCard.svelte';\n  import GuideCard from '$lib/components/guides/GuideCard.svelte';\n  import { user as me } from '$lib/stores/user';\n  import { base } from '$app/paths';\n  import { browser } from '$app/env';\n\n  export let user: typeof userQ;\n\n  let guidesTab = false;\n\n  if (browser) {\n    query(user);\n  }\n</script>\n\n<svelte:head>\n  {#if !$user.fetching && !$user.error && $user.data.getUser}\n    <MetaDescriptors\n      description=\"{$user.data.getUser.username} profile\"\n      title=\"{$user.data.getUser.username} profile\" />\n  {/if}\n</svelte:head>\n\n{#if $user.fetching}\n  <p>Loading...</p>\n{:else if $user.error}\n  <p>Oh no... {$user.error.message}</p>\n{:else if $user.data.getUser}\n  <div class=\"grid gap-8 grid-auto-max\">\n    <div class=\"grid grid-cols-1 auto-rows-min gap-8\">\n      <div class=\"grid grid-flow-col grid-auto-max h-auto gap-4 items-center\">\n        <h1 class=\"text-4xl my-4 font-bold\">{$user.data.getUser.username}</h1>\n\n        {#if $me && $user.data.getUser.id === $me.id}\n          <a href=\"{base}/settings\" class=\"py-2 px-4 rounded text-base bg-yellow-600\">Settings</a>\n        {/if}\n\n        <button class=\"py-2 px-4 rounded text-base bg-blue-500\" on:click={() => (guidesTab = !guidesTab)}>\n          {#if !guidesTab}\n            Guides\n          {:else}\n            Mods\n          {/if}\n        </button>\n      </div>\n      {#if !guidesTab}\n        <div class=\"grid 2xl:grid-cols-4 xl:grid-cols-3 lg:grid-cols-2 grid-cols-1 gap-4\">\n          {#each $user.data.getUser.mods as mod}\n            <ModCard mod={mod.mod} />\n          {/each}\n\n          {#if $user.data.getUser.mods.length === 0}\n            <!-- TODO Prettier -->\n            User has no mods\n          {/if}\n        </div>\n      {:else}\n        <div class=\"grid 2xl:grid-cols-4 xl:grid-cols-3 lg:grid-cols-2 grid-cols-1 gap-4\">\n          {#each $user.data.getUser.guides as guide}\n            <GuideCard {guide} logo={$user.data.getUser.avatar} />\n          {/each}\n\n          {#if $user.data.getUser.guides.length === 0}\n            <!-- TODO Prettier -->\n            User has no guides\n          {/if}\n        </div>\n      {/if}\n    </div>\n    <div class=\"grid grid-cols-1 auto-rows-min gap-8\">\n      <UserAvatar avatar={$user.data.getUser.avatar} username={$user.data.getUser.username} />\n      <UserInfo user={$user.data.getUser} />\n    </div>\n  </div>\n{:else}\n  <!-- TODO Better 404 -->\n  404\n{/if}\n\n<style lang=\"postcss\">\n  .grid-auto-max {\n    grid-template-columns: auto max-content max-content;\n  }\n</style>\n"],"names":["ctx","created_at","ctx2","user","avatar","username","userAvatar","assets","data","getUser","id","error","message","guides","length","mods","mod","fetching","__awaiter","thisArg","_arguments","P","generator","userQ","operationStore","GetUserDocument","load","paramsToProps","variables","input","page","params","userId","loadWaitForNoFetch","guidesTab"],"mappings":"+1BASmCA,KAAKC,kDAFF,4CAEtB,6HAFsB,4FAEtB,oQAAmBC,KAAKD,qEAN3BE,kVCU2BH,8CAA6BA,wDAA7BE,8CAA6BA,4EAVxDE,eACAC,4HAERC,EAAaF,GAAUG,EAAS,6RCiCXC,KAAKC,QAAQJ,+BACnBG,KAAKC,QAAQJ,wIADPG,KAAKC,QAAQJ,wCACnBG,KAAKC,QAAQJ,kJAwDR,mBAAA,8GA5CoBL,KAAMQ,KAAKC,QAAQJ,cAEnDL,MAAOA,KAAMQ,KAAKC,QAAQC,KAAOV,KAAIU,gCAKlCR,yEAOJA,6DAyBcF,KAAMQ,KAAKC,QAAQL,gBAAkBJ,KAAMQ,KAAKC,QAAQJ,iCAC5DL,KAAMQ,KAAKC,4oCAxCYP,KAAMM,KAAKC,QAAQJ,qBAEnDH,MAAOA,KAAMM,KAAKC,QAAQC,KAAOR,KAAIQ,6QAqCxBR,KAAMM,KAAKC,QAAQL,yBAAkBF,KAAMM,KAAKC,QAAQJ,4CAC5DH,KAAMM,KAAKC,yNA7ClBT,KAAMW,MAAMC,mCAAtB,yDAAA,sFAAUV,KAAMS,MAAMC,2FAFtB,mDAAA,gIAUiF,0EAAA,4MAMtE,oBAAA,6EAFS,sBAAA,sEAoBRZ,KAAMQ,KAAKC,QAAQI,4BAAxBC,6EAIwC,IAArCd,KAAMQ,KAAKC,QAAQI,OAAOC,kaAJxBZ,KAAMM,KAAKC,QAAQI,eAAxBC,mHAAAA,gCAIwC,IAArCZ,KAAMM,KAAKC,QAAQI,OAAOC,qFAJ7BA,wJAXKd,KAAMQ,KAAKC,QAAQM,0BAAxBD,6EAIsC,IAAnCd,KAAMQ,KAAKC,QAAQM,KAAKD,kaAJtBZ,KAAMM,KAAKC,QAAQM,aAAxBD,mHAAAA,gCAIsC,IAAnCZ,KAAMM,KAAKC,QAAQM,KAAKD,qFAJ3BA,2LAYyBd,KAAMQ,KAAKC,QAAQL,mIAAnBF,KAAMM,KAAKC,QAAQL,sIAIvB,kCAAA,yGAfPJ,KAAIgB,2GAAJd,KAAIc,mIAIG,gCAAA,uFApCzBhB,KAAMiB,WAAajB,KAAMW,OAASX,KAAMQ,KAAKC,6DAOhDP,KAAMe,WAEDf,KAAMS,QAENT,KAAMM,KAAKC,kSAXbP,KAAMe,UAAaf,KAAMS,QAAST,KAAMM,KAAKC,iWArCnBS,YAAAC,EAAAC,EAAAC,EAAAC,2RAO1BC,GAAQC,EAAeC,GAAmBtB,UAAM,IAEzCuB,GAAOC,MAA8BT,+CAC1CU,UAAUzB,KAAO0B,EAAMC,KAAKC,OAAOC,OAClCC,GACL9B,KAAMoB,IADDU,CAEJJ,wIAcM1B,aAEP+B,GAAY,IAGR/B,qEA0BuE+B,GAAaA"}