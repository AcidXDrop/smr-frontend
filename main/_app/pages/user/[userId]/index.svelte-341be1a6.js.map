{"version":3,"file":"index.svelte-341be1a6.js","sources":["../../../../../../../src/lib/components/users/UserInfo.svelte","../../../../../../../src/lib/components/users/UserAvatar.svelte","../../../../../../../src/routes/user/[userId]/index.svelte"],"sourcesContent":["<script lang=\"ts\">\n  import type {User} from \"$lib/generated\";\n\n  export let user!: Pick<User, 'created_at'>;\n</script>\n\n<div class=\"text-lg\">\n  <h3 class=\"text-2xl my-4 font-bold\">Info</h3>\n  <!-- TODO Nice Date -->\n  <span><strong>Created:</strong> {user.created_at}</span><br/>\n</div>\n","<script lang=\"ts\">\n  export let avatar!: string;\n  export let username!: string;\n\n  // TODO Outdated Flag\n</script>\n\n<div>\n  <!-- TODO Fallback to default Logo -->\n  <img class=\"rounded-lg max-w-lg\" src={avatar} alt=\"Avatar for {username}\"/>\n</div>\n","<svelte:head>\n  {#if !$user.fetching && !$user.error && $user.data.getUser}\n    <MetaDescriptors \n      description=\"{$user.data.getUser.username} profile\"\n      title=\"{$user.data.getUser.username} profile\" \n    />\n  {/if}\n</svelte:head>\n\n<script lang=\"ts\" context=\"module\">\n  import {paramsToProps} from \"$lib/utils/routing\";\n  import {operationStore} from \"@urql/svelte\";\n  import {GetUserDocument} from \"$lib/generated\";\n  import {loadWaitForNoFetch} from \"$lib/utils/gql\";\n  import MetaDescriptors from \"$lib/components/utils/MetaDescriptors.svelte\";\n\n  const userQ = operationStore(\n    GetUserDocument,\n    {user: undefined}\n  );\n\n  export const load = paramsToProps(async (input) => {\n    userQ.variables.user = input.page.params.userId;\n    return loadWaitForNoFetch({\n      user: userQ,\n    })(input);\n  });\n</script>\n\n<script lang=\"ts\">\n  import {query} from \"@urql/svelte\";\n  import UserInfo from \"$lib/components/users/UserInfo.svelte\";\n  import UserAvatar from \"$lib/components/users/UserAvatar.svelte\";\n  import ModCard from \"$lib/components/mods/ModCard.svelte\";\n  import GuideCard from \"$lib/components/guides/GuideCard.svelte\";\n  import {user as me} from \"$lib/stores/user\";\n  import {base} from \"$app/paths\";\n  import {browser} from \"$app/env\";\n\n  export let user: typeof userQ;\n\n  let guidesTab = false;\n\n  if (browser) {\n    query(user);\n  }\n</script>\n\n{#if $user.fetching}\n  <p>Loading...</p>\n{:else if $user.error}\n  <p>Oh no... {$user.error.message}</p>\n{:else}\n  {#if $user.data.getUser}\n    <div class=\"grid gap-8 grid-auto-max\">\n      <div class=\"grid grid-cols-1 auto-rows-min gap-8\">\n        <div class=\"grid grid-flow-col grid-auto-max h-auto gap-4 items-center\">\n          <h1 class=\"text-4xl my-4 font-bold\">{ $user.data.getUser.username }</h1>\n\n          {#if $me && $user.data.getUser.id === $me.id}\n            <a href=\"{base}/settings\" class=\"py-2 px-4 rounded text-base bg-yellow-600\">Settings</a>\n          {/if}\n\n          <button class=\"py-2 px-4 rounded text-base bg-blue-500\" on:click={() => guidesTab = !guidesTab}>\n            {#if !guidesTab}\n              Guides\n            {:else}\n              Mods\n            {/if}\n          </button>\n        </div>\n        {#if !guidesTab}\n          <div class=\"grid 2xl:grid-cols-4 xl:grid-cols-3 lg:grid-cols-2 grid-cols-1 gap-4\">\n            {#each $user.data.getUser.mods as mod}\n              <ModCard mod=\"{mod.mod}\"/>\n            {/each}\n\n            {#if $user.data.getUser.mods.length === 0}\n              <!-- TODO Prettier -->\n              User has no mods\n            {/if}\n          </div>\n        {:else}\n          <div class=\"grid 2xl:grid-cols-4 xl:grid-cols-3 lg:grid-cols-2 grid-cols-1 gap-4\">\n            {#each $user.data.getUser.guides as guide}\n              <GuideCard guide=\"{guide}\" logo={$user.data.getUser.avatar}/>\n            {/each}\n\n            {#if $user.data.getUser.guides.length === 0}\n              <!-- TODO Prettier -->\n              User has no guides\n            {/if}\n          </div>\n        {/if}\n      </div>\n      <div class=\"grid grid-cols-1 auto-rows-min gap-8\">\n        <UserAvatar avatar={$user.data.getUser.avatar} username={$user.data.getUser.username}/>\n        <UserInfo user={$user.data.getUser}/>\n      </div>\n    </div>\n  {:else }\n    <!-- TODO Better 404 -->\n    404\n  {/if}\n{/if}\n\n<style lang=\"postcss\">\n  .grid-auto-max {\n    grid-template-columns: auto max-content max-content;\n  }\n</style>\n"],"names":["ctx","created_at","ctx2","user","avatar","username","data","getUser","id","error","message","guides","length","mods","mod","fetching","__awaiter","thisArg","_arguments","P","generator","userQ","operationStore","GetUserDocument","load","paramsToProps","variables","input","page","params","userId","loadWaitForNoFetch","guidesTab"],"mappings":"m1BASmCA,KAAKC,kDAFF,4CAEtB,6HAFsB,4FAEtB,oQAAmBC,KAAKD,qEAN3BE,kVCM2BH,8CAAyBA,wDAAzBE,8CAAyBA,yEARpDE,eACAC,2VCCaC,KAAKC,QAAQF,+BACnBC,KAAKC,QAAQF,wIADPC,KAAKC,QAAQF,wCACnBC,KAAKC,QAAQF,kJAiGN,mBAAA,8GA5CqBL,KAAMM,KAAKC,QAAQF,cAEpDL,MAAOA,KAAMM,KAAKC,QAAQC,KAAOR,KAAIQ,gCAKlCN,yEAOJA,6DAyBcF,KAAMM,KAAKC,QAAQH,gBAAkBJ,KAAMM,KAAKC,QAAQF,iCAC5DL,KAAMM,KAAKC,4oCAxCaL,KAAMI,KAAKC,QAAQF,qBAEpDH,MAAOA,KAAMI,KAAKC,QAAQC,KAAON,KAAIM,6QAqCxBN,KAAMI,KAAKC,QAAQH,yBAAkBF,KAAMI,KAAKC,QAAQF,4CAC5DH,KAAMI,KAAKC,yNA9CpBP,KAAMS,MAAMC,mCAAtB,yDAAA,sFAAUR,KAAMO,MAAMC,0FAFtB,mDAAA,gIAWmF,0EAAA,4MAMtE,oBAAA,6EAFS,sBAAA,sEAoBRV,KAAMM,KAAKC,QAAQI,4BAAxBC,6EAIwC,IAArCZ,KAAMM,KAAKC,QAAQI,OAAOC,kaAJxBV,KAAMI,KAAKC,QAAQI,eAAxBC,mHAAAA,gCAIwC,IAArCV,KAAMI,KAAKC,QAAQI,OAAOC,qFAJ7BA,wJAXKZ,KAAMM,KAAKC,QAAQM,0BAAxBD,6EAIsC,IAAnCZ,KAAMM,KAAKC,QAAQM,KAAKD,kaAJtBV,KAAMI,KAAKC,QAAQM,aAAxBD,mHAAAA,gCAIsC,IAAnCV,KAAMI,KAAKC,QAAQM,KAAKD,qFAJ3BA,iLAYmBZ,UAAcA,KAAMM,KAAKC,QAAQH,gHAAjCF,mBAAcA,KAAMI,KAAKC,QAAQH,sIAI/B,kCAAA,yGAfNJ,KAAIc,2GAAJZ,KAAIY,mIAIE,gCAAA,uFA7E3Bd,KAAMe,WAAaf,KAAMS,OAAST,KAAMM,KAAKC,4DA+ChDL,KAAMa,WAEDb,KAAMO,QAGTP,KAAMI,KAAKC,kSApDVL,KAAMa,UAAab,KAAMO,QAASP,KAAMI,KAAKC,iWAQnBS,YAAAC,EAAAC,EAAAC,EAAAC,2RAO1BC,GAAQC,EACZC,GACCpB,UAAM,IAGIqB,GAAOC,MAA8BT,+CAC1CU,UAAUvB,KAAOwB,EAAMC,KAAKC,OAAOC,OAClCC,GACL5B,KAAMkB,IADDU,CAEJJ,wIAcMxB,aAEP6B,GAAY,IAGR7B,qEAmBwE6B,GAAaA"}