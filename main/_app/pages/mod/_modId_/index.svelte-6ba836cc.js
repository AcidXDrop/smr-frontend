import{S as $e,i as we,s as Ee,e as m,t as D,k as N,c as v,a as p,g as I,d as c,n as T,b as w,f as R,R as a,h as Y,X as j,l as ne,x as z,j as ie,m as de,o as fe,u as Q,v as ce,r as Ve,w as De,ad as ye,T as Oe,af as He,aE as nt,aF as it,aG as dt,ah as Ge,am as Le,an as qe,N as ze,M as je,O as Fe,W as Ie,ao as ft,ap as ct,$ as ut,ac as _t,Q as ht,C as mt,Y as Qe,J as We,K as Je,L as Ke}from"../../../chunks/vendor-bd04eeb5.js";import{M as vt}from"../../../chunks/MetaDescriptors-99b66b31.js";import{l as gt}from"../../../chunks/gql-eaa81b41.js";import{u as pt,v as bt,w as kt}from"../../../chunks/graphql-44245247.js";import{p as $t}from"../../../chunks/routing-1d144003.js";import{b as Ae}from"../../../chunks/api-82c76902.js";import{a as wt}from"../../../chunks/user-3938001f.js";import{b as me,a as Pe}from"../../../chunks/paths-6758d194.js";import{m as Re}from"../../../chunks/markdown-b0181a82.js";import{g as Be}from"../../../chunks/navigation-51f4a605.js";import{D as Et}from"../../../chunks/Dialog-12b5db89.js";import{T as Vt}from"../../../chunks/Toast-cf8cd1a0.js";import"../../../chunks/stores-44ecde00.js";import"../../../chunks/singletons-12a22614.js";function Dt(o){let e,l,t,s,r,i,d,u,f,_=o[0].source_url+"",n,h,L,V,g,b,O,B,C=o[0].created_at+"",q,S,A,k,y,E,F,W=o[0].views+"",X,Z,se,U,oe,re,ee,le=o[0].downloads+"",x,he,ae,J,ue,ve,$,M=o[0].mod_reference+"",G,P;return{c(){e=m("div"),l=m("h3"),t=D("Info"),s=N(),r=m("span"),i=m("strong"),d=D("Source:"),u=N(),f=m("a"),n=D(_),L=m("br"),V=N(),g=m("span"),b=m("strong"),O=D("Created:"),B=N(),q=D(C),S=m("br"),A=N(),k=m("span"),y=m("strong"),E=D("Views:"),F=N(),X=D(W),Z=m("br"),se=N(),U=m("span"),oe=m("strong"),re=D("Downloads:"),ee=N(),x=D(le),he=m("br"),ae=N(),J=m("span"),ue=m("strong"),ve=D("Reference:"),$=N(),G=D(M),P=m("br"),this.h()},l(K){e=v(K,"DIV",{class:!0});var H=p(e);l=v(H,"H3",{class:!0});var te=p(l);t=I(te,"Info"),te.forEach(c),s=T(H),r=v(H,"SPAN",{});var _e=p(r);i=v(_e,"STRONG",{});var ge=p(i);d=I(ge,"Source:"),ge.forEach(c),u=T(_e),f=v(_e,"A",{class:!0,href:!0});var pe=p(f);n=I(pe,_),pe.forEach(c),_e.forEach(c),L=v(H,"BR",{}),V=T(H),g=v(H,"SPAN",{});var ke=p(g);b=v(ke,"STRONG",{});var Me=p(b);O=I(Me,"Created:"),Me.forEach(c),B=T(ke),q=I(ke,C),ke.forEach(c),S=v(H,"BR",{}),A=T(H),k=v(H,"SPAN",{});var be=p(k);y=v(be,"STRONG",{});var Ne=p(y);E=I(Ne,"Views:"),Ne.forEach(c),F=T(be),X=I(be,W),be.forEach(c),Z=v(H,"BR",{}),se=T(H),U=v(H,"SPAN",{});var Te=p(U);oe=v(Te,"STRONG",{});var Ce=p(oe);re=I(Ce,"Downloads:"),Ce.forEach(c),ee=T(Te),x=I(Te,le),Te.forEach(c),he=v(H,"BR",{}),ae=T(H),J=v(H,"SPAN",{});var Se=p(J);ue=v(Se,"STRONG",{});var Ue=p(ue);ve=I(Ue,"Reference:"),Ue.forEach(c),$=T(Se),G=I(Se,M),Se.forEach(c),P=v(H,"BR",{}),H.forEach(c),this.h()},h(){w(l,"class","text-2xl my-4 font-bold"),w(f,"class","underline text-yellow-500"),w(f,"href",h=o[0].source_url),w(e,"class","text-lg")},m(K,H){R(K,e,H),a(e,l),a(l,t),a(e,s),a(e,r),a(r,i),a(i,d),a(r,u),a(r,f),a(f,n),a(e,L),a(e,V),a(e,g),a(g,b),a(b,O),a(g,B),a(g,q),a(e,S),a(e,A),a(e,k),a(k,y),a(y,E),a(k,F),a(k,X),a(e,Z),a(e,se),a(e,U),a(U,oe),a(oe,re),a(U,ee),a(U,x),a(e,he),a(e,ae),a(e,J),a(J,ue),a(ue,ve),a(J,$),a(J,G),a(e,P)},p(K,[H]){H&1&&_!==(_=K[0].source_url+"")&&Y(n,_),H&1&&h!==(h=K[0].source_url)&&w(f,"href",h),H&1&&C!==(C=K[0].created_at+"")&&Y(q,C),H&1&&W!==(W=K[0].views+"")&&Y(X,W),H&1&&le!==(le=K[0].downloads+"")&&Y(x,le),H&1&&M!==(M=K[0].mod_reference+"")&&Y(G,M)},i:j,o:j,d(K){K&&c(e)}}}function It(o,e,l){let{mod:t}=e;return o.$$set=s=>{"mod"in s&&l(0,t=s.mod)},[t]}class Mt extends $e{constructor(e){super();we(this,e,It,Dt,Ee,{mod:0})}}function Xe(o,e,l){const t=o.slice();return t[3]=e[l],t}function Ye(o){let e,l,t,s,r,i,d,u=o[0][o[3]].version+"",f,_,n,h,L=o[0][o[3]].created_at+"",V,g,b,O,B,C,q,S;return t=new Oe({props:{icon:o[2][o[3]],inline:!0,class:"inline-block"}}),B=new Oe({props:{icon:He,inline:!0,class:"inline-block"}}),{c(){e=m("div"),l=m("div"),ie(t.$$.fragment),s=N(),r=m("div"),i=m("a"),d=D("Version "),f=D(u),n=N(),h=m("div"),V=D(L),g=N(),b=m("div"),O=m("a"),ie(B.$$.fragment),q=N(),this.h()},l(A){e=v(A,"DIV",{class:!0});var k=p(e);l=v(k,"DIV",{class:!0});var y=p(l);de(t.$$.fragment,y),y.forEach(c),s=T(k),r=v(k,"DIV",{class:!0});var E=p(r);i=v(E,"A",{href:!0,class:!0});var F=p(i);d=I(F,"Version "),f=I(F,u),F.forEach(c),n=T(E),h=v(E,"DIV",{});var W=p(h);V=I(W,L),W.forEach(c),E.forEach(c),g=T(k),b=v(k,"DIV",{class:!0});var X=p(b);O=v(X,"A",{href:!0,class:!0});var Z=p(O);de(B.$$.fragment,Z),Z.forEach(c),X.forEach(c),q=T(k),k.forEach(c),this.h()},h(){w(l,"class","text-4xl w-14 h-14 p-2.5"),w(i,"href",_=""+(me+"/mod/"+o[1]+"/version/"+o[0][o[3]].id+"/")),w(i,"class","text-yellow-500 underline"),w(r,"class","grid grid-flow-row"),w(O,"href",C=Ae+"/mod/"+o[1]+"/versions/"+o[0][o[3]].id+"/download"),w(O,"class","text-yellow-500 underline"),w(b,"class","text-3xl w-14 h-14 p-2.5"),w(e,"class","version svelte-m0mv1c")},m(A,k){R(A,e,k),a(e,l),fe(t,l,null),a(e,s),a(e,r),a(r,i),a(i,d),a(i,f),a(r,n),a(r,h),a(h,V),a(e,g),a(e,b),a(b,O),fe(B,O,null),a(e,q),S=!0},p(A,k){(!S||k&1)&&u!==(u=A[0][A[3]].version+"")&&Y(f,u),(!S||k&3&&_!==(_=""+(me+"/mod/"+A[1]+"/version/"+A[0][A[3]].id+"/")))&&w(i,"href",_),(!S||k&1)&&L!==(L=A[0][A[3]].created_at+"")&&Y(V,L),(!S||k&3&&C!==(C=Ae+"/mod/"+A[1]+"/versions/"+A[0][A[3]].id+"/download"))&&w(O,"href",C)},i(A){S||(z(t.$$.fragment,A),z(B.$$.fragment,A),S=!0)},o(A){Q(t.$$.fragment,A),Q(B.$$.fragment,A),S=!1},d(A){A&&c(e),ce(t),ce(B)}}}function Ze(o){let e,l,t=o[0][o[3]]&&Ye(o);return{c(){t&&t.c(),e=ne()},l(s){t&&t.l(s),e=ne()},m(s,r){t&&t.m(s,r),R(s,e,r),l=!0},p(s,r){s[0][s[3]]?t?(t.p(s,r),r&1&&z(t,1)):(t=Ye(s),t.c(),z(t,1),t.m(e.parentNode,e)):t&&(Ve(),Q(t,1,1,()=>{t=null}),De())},i(s){l||(z(t),l=!0)},o(s){Q(t),l=!1},d(s){t&&t.d(s),s&&c(e)}}}function Nt(o){let e,l,t,s,r,i=Object.keys(o[2]),d=[];for(let f=0;f<i.length;f+=1)d[f]=Ze(Xe(o,i,f));const u=f=>Q(d[f],1,1,()=>{d[f]=null});return{c(){e=m("div"),l=m("h3"),t=D("Latest Versions"),s=N();for(let f=0;f<d.length;f+=1)d[f].c();this.h()},l(f){e=v(f,"DIV",{class:!0});var _=p(e);l=v(_,"H3",{class:!0});var n=p(l);t=I(n,"Latest Versions"),n.forEach(c),s=T(_);for(let h=0;h<d.length;h+=1)d[h].l(_);_.forEach(c),this.h()},h(){w(l,"class","text-2xl my-4 font-bold"),w(e,"class","grid grid-flow-row gap-y-6")},m(f,_){R(f,e,_),a(e,l),a(l,t),a(e,s);for(let n=0;n<d.length;n+=1)d[n].m(e,null);r=!0},p(f,[_]){if(_&7){i=Object.keys(f[2]);let n;for(n=0;n<i.length;n+=1){const h=Xe(f,i,n);d[n]?(d[n].p(h,_),z(d[n],1)):(d[n]=Ze(h),d[n].c(),z(d[n],1),d[n].m(e,null))}for(Ve(),n=i.length;n<d.length;n+=1)u(n);De()}},i(f){if(!r){for(let _=0;_<i.length;_+=1)z(d[_]);r=!0}},o(f){d=d.filter(Boolean);for(let _=0;_<d.length;_+=1)Q(d[_]);r=!1},d(f){f&&c(e),ye(d,f)}}}function Tt(o,e,l){const t={alpha:nt,beta:it,release:dt};let{latestVersions:s}=e,{modId:r}=e;return o.$$set=i=>{"latestVersions"in i&&l(0,s=i.latestVersions),"modId"in i&&l(1,r=i.modId)},[s,r,t]}class St extends $e{constructor(e){super();we(this,e,Tt,Nt,Ee,{latestVersions:0,modId:1})}}function xe(o,e,l){const t=o.slice();return t[1]=e[l],t}function et(o){let e,l,t,s,r,i,d=o[1].user.username+"",u,f,_,n,h=o[1].role.charAt(0).toUpperCase()+o[1].role.slice(1).toLowerCase()+"",L,V;return{c(){e=m("div"),l=m("div"),s=N(),r=m("div"),i=m("a"),u=D(d),_=N(),n=m("div"),L=D(h),V=N(),this.h()},l(g){e=v(g,"DIV",{class:!0});var b=p(e);l=v(b,"DIV",{class:!0,style:!0}),p(l).forEach(c),s=T(b),r=v(b,"DIV",{class:!0});var O=p(r);i=v(O,"A",{href:!0,class:!0});var B=p(i);u=I(B,d),B.forEach(c),_=T(O),n=v(O,"DIV",{});var C=p(n);L=I(C,h),C.forEach(c),O.forEach(c),V=T(b),b.forEach(c),this.h()},h(){w(l,"class","rounded-full bg-cover w-14 h-14"),w(l,"style",t=`background-image: url("${o[1].user.avatar||Pe+"/images/no_image.png"}")`),w(i,"href",f=""+(me+"/user/"+o[1].user.id+"/")),w(i,"class","text-yellow-500 underline"),w(r,"class","grid grid-flow-row"),w(e,"class","grid grid-flow-col auto-cols-max gap-x-4")},m(g,b){R(g,e,b),a(e,l),a(e,s),a(e,r),a(r,i),a(i,u),a(r,_),a(r,n),a(n,L),a(e,V)},p(g,b){b&1&&t!==(t=`background-image: url("${g[1].user.avatar||Pe+"/images/no_image.png"}")`)&&w(l,"style",t),b&1&&d!==(d=g[1].user.username+"")&&Y(u,d),b&1&&f!==(f=""+(me+"/user/"+g[1].user.id+"/"))&&w(i,"href",f),b&1&&h!==(h=g[1].role.charAt(0).toUpperCase()+g[1].role.slice(1).toLowerCase()+"")&&Y(L,h)},d(g){g&&c(e)}}}function Lt(o){let e,l,t,s,r,i=o[0],d=[];for(let u=0;u<i.length;u+=1)d[u]=et(xe(o,i,u));return{c(){e=m("div"),l=m("h3"),t=D("Authors"),s=N(),r=m("div");for(let u=0;u<d.length;u+=1)d[u].c();this.h()},l(u){e=v(u,"DIV",{class:!0});var f=p(e);l=v(f,"H3",{class:!0});var _=p(l);t=I(_,"Authors"),_.forEach(c),s=T(f),r=v(f,"DIV",{class:!0});var n=p(r);for(let h=0;h<d.length;h+=1)d[h].l(n);n.forEach(c),f.forEach(c),this.h()},h(){w(l,"class","text-2xl my-4 font-bold"),w(r,"class","grid auto-rows-min text-lg gap-y-4"),w(e,"class","grid grid-flow-row gap-y-6")},m(u,f){R(u,e,f),a(e,l),a(l,t),a(e,s),a(e,r);for(let _=0;_<d.length;_+=1)d[_].m(r,null)},p(u,[f]){if(f&1){i=u[0];let _;for(_=0;_<i.length;_+=1){const n=xe(u,i,_);d[_]?d[_].p(n,f):(d[_]=et(n),d[_].c(),d[_].m(r,null))}for(;_<d.length;_+=1)d[_].d(1);d.length=i.length}},i:j,o:j,d(u){u&&c(e),ye(d,u)}}}function At(o,e,l){let{authors:t}=e;return o.$$set=s=>{"authors"in s&&l(0,t=s.authors)},[t]}class yt extends $e{constructor(e){super();we(this,e,At,Lt,Ee,{authors:0})}}function Ot(o){let e,l,t,s;return{c(){e=m("div"),l=m("img"),this.h()},l(r){e=v(r,"DIV",{});var i=p(e);l=v(i,"IMG",{class:!0,src:!0,alt:!0}),i.forEach(c),this.h()},h(){w(l,"class","rounded-lg max-w-lg"),Ge(l.src,t=o[1])||w(l,"src",t),w(l,"alt",s="Logo for "+o[0])},m(r,i){R(r,e,i),a(e,l)},p(r,[i]){i&2&&!Ge(l.src,t=r[1])&&w(l,"src",t),i&1&&s!==(s="Logo for "+r[0])&&w(l,"alt",s)},i:j,o:j,d(r){r&&c(e)}}}function jt(o,e,l){let t,{modLogo:s}=e,{modName:r}=e;return o.$$set=i=>{"modLogo"in i&&l(2,s=i.modLogo),"modName"in i&&l(0,r=i.modName)},o.$$.update=()=>{o.$$.dirty&4&&l(1,t=s||Pe+"/images/no_image.png")},[r,t,s]}class Pt extends $e{constructor(e){super();we(this,e,jt,Ot,Ee,{modLogo:2,modName:0})}}function Rt(o){return{c:j,l:j,m:j,p:j,d:j}}function Bt(o){let e,l=o[2]+"";return{c(){e=m("p")},l(t){e=v(t,"P",{});var s=p(e);s.forEach(c)},m(t,s){R(t,e,s),e.innerHTML=l},p(t,s){s&1&&l!==(l=t[2]+"")&&(e.innerHTML=l)},d(t){t&&c(e)}}}function Ct(o){return{c:j,l:j,m:j,p:j,d:j}}function Ut(o){let e,l,t={ctx:o,current:null,token:null,hasCatch:!1,pending:Ct,then:Bt,catch:Rt,value:2};return Le(l=o[0],t),{c(){e=m("div"),t.block.c(),this.h()},l(s){e=v(s,"DIV",{class:!0});var r=p(e);t.block.l(r),r.forEach(c),this.h()},h(){w(e,"class","markdown-content")},m(s,r){R(s,e,r),t.block.m(e,t.anchor=null),t.mount=()=>e,t.anchor=null},p(s,[r]){o=s,t.ctx=o,r&1&&l!==(l=o[0])&&Le(l,t)||qe(t,o,r)},i:j,o:j,d(s){s&&c(e),t.block.d(),t.token=null,t=null}}}function Ht(o,e,l){let t,{mod:s}=e;return o.$$set=r=>{"mod"in r&&l(1,s=r.mod)},o.$$.update=()=>{o.$$.dirty&2&&l(0,t=s.full_description?Re(s.full_description):s.short_description)},[t,s]}class Gt extends $e{constructor(e){super();we(this,e,Ht,Ut,Ee,{mod:1})}}function tt(o,e,l){const t=o.slice();return t[6]=e[l],t}function qt(o){let e,l,t,s,r,i,d,u,f,_,n,h,L,V,g,b,O,B,C,q=o[2].data.getMod.versions,S=[];for(let k=0;k<q.length;k+=1)S[k]=ot(tt(o,q,k));const A=k=>Q(S[k],1,1,()=>{S[k]=null});return{c(){e=m("div"),l=m("div"),t=D("Version"),s=N(),r=m("div"),i=D("Stability"),d=N(),u=m("div"),f=D("SML Version"),_=N(),n=m("div"),h=D("Downloads"),L=N(),V=m("div"),g=D("Upload Date"),b=N(),O=m("div"),B=N();for(let k=0;k<S.length;k+=1)S[k].c();this.h()},l(k){e=v(k,"DIV",{class:!0});var y=p(e);l=v(y,"DIV",{});var E=p(l);t=I(E,"Version"),E.forEach(c),s=T(y),r=v(y,"DIV",{});var F=p(r);i=I(F,"Stability"),F.forEach(c),d=T(y),u=v(y,"DIV",{});var W=p(u);f=I(W,"SML Version"),W.forEach(c),_=T(y),n=v(y,"DIV",{});var X=p(n);h=I(X,"Downloads"),X.forEach(c),L=T(y),V=v(y,"DIV",{});var Z=p(V);g=I(Z,"Upload Date"),Z.forEach(c),b=T(y),O=v(y,"DIV",{});var se=p(O);se.forEach(c),B=T(y);for(let U=0;U<S.length;U+=1)S[U].l(y);y.forEach(c),this.h()},h(){w(e,"class","grid grid-cols-6 versions svelte-h7s0if")},m(k,y){R(k,e,y),a(e,l),a(l,t),a(e,s),a(e,r),a(r,i),a(e,d),a(e,u),a(u,f),a(e,_),a(e,n),a(n,h),a(e,L),a(e,V),a(V,g),a(e,b),a(e,O),a(e,B);for(let E=0;E<S.length;E+=1)S[E].m(e,null);C=!0},p(k,y){if(y&23){q=k[2].data.getMod.versions;let E;for(E=0;E<q.length;E+=1){const F=tt(k,q,E);S[E]?(S[E].p(F,y),z(S[E],1)):(S[E]=ot(F),S[E].c(),z(S[E],1),S[E].m(e,null))}for(Ve(),E=q.length;E<S.length;E+=1)A(E);De()}},i(k){if(!C){for(let y=0;y<q.length;y+=1)z(S[y]);C=!0}},o(k){S=S.filter(Boolean);for(let y=0;y<S.length;y+=1)Q(S[y]);C=!1},d(k){k&&c(e),ye(S,k)}}}function zt(o){let e,l,t=o[2].error.message+"",s;return{c(){e=m("p"),l=D("Oh no... "),s=D(t)},l(r){e=v(r,"P",{});var i=p(e);l=I(i,"Oh no... "),s=I(i,t),i.forEach(c)},m(r,i){R(r,e,i),a(e,l),a(e,s)},p(r,i){i&4&&t!==(t=r[2].error.message+"")&&Y(s,t)},i:j,o:j,d(r){r&&c(e)}}}function Ft(o){let e,l;return{c(){e=m("p"),l=D("Loading...")},l(t){e=v(t,"P",{});var s=p(e);l=I(s,"Loading..."),s.forEach(c)},m(t,s){R(t,e,s),a(e,l)},p:j,i:j,o:j,d(t){t&&c(e)}}}function lt(o){let e,l,t=o[6].size+"",s,r,i,d,u=o[6].hash+"",f,_,n,h,L,V={ctx:o,current:null,token:null,hasCatch:!1,pending:Jt,then:Wt,catch:Qt,value:9};return Le(h=Re(o[6].changelog),V),{c(){e=m("div"),l=D("Size: "),s=D(t),r=N(),i=m("div"),d=D("Hash: "),f=D(u),_=N(),n=m("div"),V.block.c(),L=N(),this.h()},l(g){e=v(g,"DIV",{class:!0});var b=p(e);l=I(b,"Size: "),s=I(b,t),b.forEach(c),r=T(g),i=v(g,"DIV",{class:!0});var O=p(i);d=I(O,"Hash: "),f=I(O,u),O.forEach(c),_=T(g),n=v(g,"DIV",{class:!0});var B=p(n);V.block.l(B),L=T(B),B.forEach(c),this.h()},h(){w(e,"class","col-span-3 p-2"),w(i,"class","col-span-3 p-2"),w(n,"class","col-span-6 p-2 markdown-content")},m(g,b){R(g,e,b),a(e,l),a(e,s),R(g,r,b),R(g,i,b),a(i,d),a(i,f),R(g,_,b),R(g,n,b),V.block.m(n,V.anchor=null),V.mount=()=>n,V.anchor=L,a(n,L)},p(g,b){o=g,b&4&&t!==(t=o[6].size+"")&&Y(s,t),b&4&&u!==(u=o[6].hash+"")&&Y(f,u),V.ctx=o,b&4&&h!==(h=Re(o[6].changelog))&&Le(h,V)||qe(V,o,b)},d(g){g&&c(e),g&&c(r),g&&c(i),g&&c(_),g&&c(n),V.block.d(),V.token=null,V=null}}}function Qt(o){return{c:j,l:j,m:j,p:j,d:j}}function Wt(o){let e,l=o[9]+"",t;return{c(){e=new ft,t=ne(),this.h()},l(s){e=ct(s),t=ne(),this.h()},h(){e.a=t},m(s,r){e.m(l,s,r),R(s,t,r)},p(s,r){r&4&&l!==(l=s[9]+"")&&e.p(l)},d(s){s&&c(t),s&&e.d()}}}function Jt(o){return{c:j,l:j,m:j,p:j,d:j}}function ot(o){let e,l,t=o[6].version+"",s,r,i,d=o[6].stability+"",u,f,_,n=o[6].sml_version+"",h,L,V,g=o[6].downloads+"",b,O,B,C=o[6].created_at+"",q,S,A,k,y,E,F,W,X,Z,se,U,oe,re,ee,le,x,he=o[1].has(o[6].id),ae,J,ue,ve;le=new Oe({props:{icon:He,inline:!0,class:"inline-block"}});function $(){return o[5](o[6])}let M=he&&lt(o);return{c(){e=m("div"),l=m("div"),s=D(t),r=N(),i=m("div"),u=D(d),f=N(),_=m("div"),h=D(n),L=N(),V=m("div"),b=D(g),O=N(),B=m("div"),q=D(C),S=N(),A=m("div"),k=m("a"),y=D("View"),F=N(),W=m("a"),X=D("Download"),se=N(),U=m("a"),oe=m("span"),re=D("Install"),ee=N(),ie(le.$$.fragment),x=N(),M&&M.c(),ae=ne(),this.h()},l(G){e=v(G,"DIV",{class:!0});var P=p(e);l=v(P,"DIV",{class:!0});var K=p(l);s=I(K,t),K.forEach(c),r=T(P),i=v(P,"DIV",{class:!0});var H=p(i);u=I(H,d),H.forEach(c),f=T(P),_=v(P,"DIV",{class:!0});var te=p(_);h=I(te,n),te.forEach(c),L=T(P),V=v(P,"DIV",{class:!0});var _e=p(V);b=I(_e,g),_e.forEach(c),O=T(P),B=v(P,"DIV",{class:!0});var ge=p(B);q=I(ge,C),ge.forEach(c),S=T(P),A=v(P,"DIV",{class:!0});var pe=p(A);k=v(pe,"A",{href:!0,class:!0});var ke=p(k);y=I(ke,"View"),ke.forEach(c),F=T(pe),W=v(pe,"A",{href:!0,class:!0});var Me=p(W);X=I(Me,"Download"),Me.forEach(c),se=T(pe),U=v(pe,"A",{href:!0,class:!0});var be=p(U);oe=v(be,"SPAN",{});var Ne=p(oe);re=I(Ne,"Install"),Ne.forEach(c),ee=T(be),de(le.$$.fragment,be),be.forEach(c),pe.forEach(c),P.forEach(c),x=T(G),M&&M.l(G),ae=ne(),this.h()},h(){w(l,"class","svelte-h7s0if"),w(i,"class","svelte-h7s0if"),w(_,"class","svelte-h7s0if"),w(V,"class","svelte-h7s0if"),w(B,"class","svelte-h7s0if"),w(k,"href",E=me+"/mod/"+o[0]+"/version/"+o[6].id),w(k,"class","py-1 px-4 rounded text-base bg-blue-500 text-center"),w(W,"href",Z=Ae+"/mod/"+o[0]+"/versions/"+o[6].id+"/download"),w(W,"class","py-1 px-4 rounded text-base bg-green-600 text-center"),w(U,"href",me),w(U,"class","py-1 px-4 rounded text-base bg-yellow-600 text-center"),w(A,"class","grid grid-flow-col gap-4 svelte-h7s0if"),w(e,"class","contents version-header svelte-h7s0if")},m(G,P){R(G,e,P),a(e,l),a(l,s),a(e,r),a(e,i),a(i,u),a(e,f),a(e,_),a(_,h),a(e,L),a(e,V),a(V,b),a(e,O),a(e,B),a(B,q),a(e,S),a(e,A),a(A,k),a(k,y),a(A,F),a(A,W),a(W,X),a(A,se),a(A,U),a(U,oe),a(oe,re),a(U,ee),fe(le,U,null),R(G,x,P),M&&M.m(G,P),R(G,ae,P),J=!0,ue||(ve=Ie(e,"click",$),ue=!0)},p(G,P){o=G,(!J||P&4)&&t!==(t=o[6].version+"")&&Y(s,t),(!J||P&4)&&d!==(d=o[6].stability+"")&&Y(u,d),(!J||P&4)&&n!==(n=o[6].sml_version+"")&&Y(h,n),(!J||P&4)&&g!==(g=o[6].downloads+"")&&Y(b,g),(!J||P&4)&&C!==(C=o[6].created_at+"")&&Y(q,C),(!J||P&5&&E!==(E=me+"/mod/"+o[0]+"/version/"+o[6].id))&&w(k,"href",E),(!J||P&5&&Z!==(Z=Ae+"/mod/"+o[0]+"/versions/"+o[6].id+"/download"))&&w(W,"href",Z),P&6&&(he=o[1].has(o[6].id)),he?M?M.p(o,P):(M=lt(o),M.c(),M.m(ae.parentNode,ae)):M&&(M.d(1),M=null)},i(G){J||(z(le.$$.fragment,G),J=!0)},o(G){Q(le.$$.fragment,G),J=!1},d(G){G&&c(e),ce(le),G&&c(x),M&&M.d(G),G&&c(ae),ue=!1,ve()}}}function Kt(o){let e,l,t,s;const r=[Ft,zt,qt],i=[];function d(u,f){return u[2].fetching?0:u[2].error?1:2}return e=d(o),l=i[e]=r[e](o),{c(){l.c(),t=ne()},l(u){l.l(u),t=ne()},m(u,f){i[e].m(u,f),R(u,t,f),s=!0},p(u,[f]){let _=e;e=d(u),e===_?i[e].p(u,f):(Ve(),Q(i[_],1,1,()=>{i[_]=null}),De(),l=i[e],l?l.p(u,f):(l=i[e]=r[e](u),l.c()),z(l,1),l.m(t.parentNode,t))},i(u){s||(z(l),s=!0)},o(u){Q(l),s=!1},d(u){i[e].d(u),u&&c(t)}}}function Xt(o,e,l){let t,{modId:s}=e,r=new Set;const i=ze(pt,{mod:s,limit:100,offset:0});je(o,i,f=>l(2,t=f)),Fe(i);const d=f=>{r.has(f)?r.delete(f):r.add(f),l(1,r)},u=f=>d(f.id);return o.$$set=f=>{"modId"in f&&l(0,s=f.modId)},[s,r,t,i,d,u]}class Yt extends $e{constructor(e){super();we(this,e,Xt,Kt,Ee,{modId:0})}}function st(o){let e,l;return e=new vt({props:{description:o[2].data.getMod.short_description,title:o[2].data.getMod.name,image:o[2].data.getMod.logo}}),{c(){ie(e.$$.fragment)},l(t){de(e.$$.fragment,t)},m(t,s){fe(e,t,s),l=!0},p(t,s){const r={};s&4&&(r.description=t[2].data.getMod.short_description),s&4&&(r.title=t[2].data.getMod.name),s&4&&(r.image=t[2].data.getMod.logo),e.$set(r)},i(t){l||(z(e.$$.fragment,t),l=!0)},o(t){Q(e.$$.fragment,t),l=!1},d(t){ce(e,t)}}}function Zt(o){let e;return{c(){e=D("404")},l(l){e=I(l,"404")},m(l,t){R(l,e,t)},p:j,i:j,o:j,d(l){l&&c(e)}}}function xt(o){let e,l,t,s,r=o[2].data.getMod.name+"",i,d,u,f,_,n,h,L,V,g,b,O,B,C,q,S,A,k,y,E,F,W,X,Z,se,U=o[6]&&rt(o);function oe($,M){return $[3]?ll:ol}let re=oe(o),ee=re(o);const le=[rl,sl],x=[];function he($,M){return $[3]?1:0}n=he(o),h=x[n]=le[n](o),g=new Pt({props:{modLogo:o[2].data.getMod.logo,modName:o[2].data.getMod.name}}),O=new Mt({props:{mod:o[2].data.getMod}}),C=new St({props:{modId:o[2].data.getMod.id,latestVersions:o[2].data.getMod.latestVersions}}),S=new yt({props:{authors:o[2].data.getMod.authors}});function ae($){o[17]($)}let J={$$slots:{default:[al]},$$scope:{ctx:o}};o[7]!==void 0&&(J.open=o[7]),k=new Et({props:J}),We.push(()=>Je(k,"open",ae));function ue($){o[18]($)}let ve={$$slots:{default:[nl]},$$scope:{ctx:o}};return o[5]!==void 0&&(ve.running=o[5]),F=new Vt({props:ve}),We.push(()=>Je(F,"running",ue)),{c(){e=m("div"),l=m("div"),t=m("div"),s=m("h1"),i=D(r),d=N(),U&&U.c(),u=N(),f=m("button"),ee.c(),_=N(),h.c(),L=N(),V=m("div"),ie(g.$$.fragment),b=N(),ie(O.$$.fragment),B=N(),ie(C.$$.fragment),q=N(),ie(S.$$.fragment),A=N(),ie(k.$$.fragment),E=N(),ie(F.$$.fragment),this.h()},l($){e=v($,"DIV",{class:!0});var M=p(e);l=v(M,"DIV",{class:!0});var G=p(l);t=v(G,"DIV",{class:!0});var P=p(t);s=v(P,"H1",{class:!0});var K=p(s);i=I(K,r),K.forEach(c),d=T(P),U&&U.l(P),u=T(P),f=v(P,"BUTTON",{class:!0});var H=p(f);ee.l(H),H.forEach(c),P.forEach(c),_=T(G),h.l(G),G.forEach(c),L=T(M),V=v(M,"DIV",{class:!0});var te=p(V);de(g.$$.fragment,te),b=T(te),de(O.$$.fragment,te),B=T(te),de(C.$$.fragment,te),q=T(te),de(S.$$.fragment,te),te.forEach(c),M.forEach(c),A=T($),de(k.$$.fragment,$),E=T($),de(F.$$.fragment,$),this.h()},h(){w(s,"class","text-4xl my-4 font-bold"),w(f,"class","py-2 px-4 rounded text-base bg-blue-500"),w(t,"class","grid grid-flow-col grid-auto-max h-auto gap-4 items-center svelte-2pmst8"),w(l,"class","grid grid-cols-1 auto-rows-min gap-8"),w(V,"class","grid grid-cols-1 auto-rows-min gap-8"),w(e,"class","grid gap-8 grid-auto-max svelte-2pmst8")},m($,M){R($,e,M),a(e,l),a(l,t),a(t,s),a(s,i),a(t,d),U&&U.m(t,null),a(t,u),a(t,f),ee.m(f,null),a(l,_),x[n].m(l,null),a(e,L),a(e,V),fe(g,V,null),a(V,b),fe(O,V,null),a(V,B),fe(C,V,null),a(V,q),fe(S,V,null),R($,A,M),fe(k,$,M),R($,E,M),fe(F,$,M),X=!0,Z||(se=Ie(f,"click",o[14]),Z=!0)},p($,M){(!X||M&4)&&r!==(r=$[2].data.getMod.name+"")&&Y(i,r),$[6]?U?U.p($,M):(U=rt($),U.c(),U.m(t,u)):U&&(U.d(1),U=null),re!==(re=oe($))&&(ee.d(1),ee=re($),ee&&(ee.c(),ee.m(f,null)));let G=n;n=he($),n===G?x[n].p($,M):(Ve(),Q(x[G],1,1,()=>{x[G]=null}),De(),h=x[n],h?h.p($,M):(h=x[n]=le[n]($),h.c()),z(h,1),h.m(l,null));const P={};M&4&&(P.modLogo=$[2].data.getMod.logo),M&4&&(P.modName=$[2].data.getMod.name),g.$set(P);const K={};M&4&&(K.mod=$[2].data.getMod),O.$set(K);const H={};M&4&&(H.modId=$[2].data.getMod.id),M&4&&(H.latestVersions=$[2].data.getMod.latestVersions),C.$set(H);const te={};M&4&&(te.authors=$[2].data.getMod.authors),S.$set(te);const _e={};M&1048576&&(_e.$$scope={dirty:M,ctx:$}),!y&&M&128&&(y=!0,_e.open=$[7],Ke(()=>y=!1)),k.$set(_e);const ge={};M&1048592&&(ge.$$scope={dirty:M,ctx:$}),!W&&M&32&&(W=!0,ge.running=$[5],Ke(()=>W=!1)),F.$set(ge)},i($){X||(z(h),z(g.$$.fragment,$),z(O.$$.fragment,$),z(C.$$.fragment,$),z(S.$$.fragment,$),z(k.$$.fragment,$),z(F.$$.fragment,$),X=!0)},o($){Q(h),Q(g.$$.fragment,$),Q(O.$$.fragment,$),Q(C.$$.fragment,$),Q(S.$$.fragment,$),Q(k.$$.fragment,$),Q(F.$$.fragment,$),X=!1},d($){$&&c(e),U&&U.d(),ee.d(),x[n].d(),ce(g),ce(O),ce(C),ce(S),$&&c(A),ce(k,$),$&&c(E),ce(F,$),Z=!1,se()}}}function el(o){let e,l,t=o[2].error.message+"",s;return{c(){e=m("p"),l=D("Oh no... "),s=D(t)},l(r){e=v(r,"P",{});var i=p(e);l=I(i,"Oh no... "),s=I(i,t),i.forEach(c)},m(r,i){R(r,e,i),a(e,l),a(e,s)},p(r,i){i&4&&t!==(t=r[2].error.message+"")&&Y(s,t)},i:j,o:j,d(r){r&&c(e)}}}function tl(o){let e,l;return{c(){e=m("p"),l=D("Loading...")},l(t){e=v(t,"P",{});var s=p(e);l=I(s,"Loading..."),s.forEach(c)},m(t,s){R(t,e,s),a(e,l)},p:j,i:j,o:j,d(t){t&&c(e)}}}function rt(o){let e,l,t,s,r,i,d,u,f,_;return{c(){e=m("button"),l=D("Edit"),t=N(),s=m("button"),r=D("Delete"),i=N(),d=m("button"),u=D("New Version"),this.h()},l(n){e=v(n,"BUTTON",{class:!0});var h=p(e);l=I(h,"Edit"),h.forEach(c),t=T(n),s=v(n,"BUTTON",{class:!0});var L=p(s);r=I(L,"Delete"),L.forEach(c),i=T(n),d=v(n,"BUTTON",{class:!0});var V=p(d);u=I(V,"New Version"),V.forEach(c),this.h()},h(){w(e,"class","py-2 px-4 rounded text-base bg-yellow-600"),w(s,"class","py-2 px-4 rounded text-base bg-red-500"),w(d,"class","py-2 px-4 rounded text-base bg-green-600")},m(n,h){R(n,e,h),a(e,l),R(n,t,h),R(n,s,h),a(s,r),R(n,i,h),R(n,d,h),a(d,u),f||(_=[Ie(e,"click",o[11]),Ie(s,"click",o[12]),Ie(d,"click",o[13])],f=!0)},p:j,d(n){n&&c(e),n&&c(t),n&&c(s),n&&c(i),n&&c(d),f=!1,Qe(_)}}}function ll(o){let e;return{c(){e=D("Description")},l(l){e=I(l,"Description")},m(l,t){R(l,e,t)},d(l){l&&c(e)}}}function ol(o){let e;return{c(){e=D("Versions")},l(l){e=I(l,"Versions")},m(l,t){R(l,e,t)},d(l){l&&c(e)}}}function sl(o){let e,l;return e=new Yt({props:{modId:o[2].data.getMod.id}}),{c(){ie(e.$$.fragment)},l(t){de(e.$$.fragment,t)},m(t,s){fe(e,t,s),l=!0},p(t,s){const r={};s&4&&(r.modId=t[2].data.getMod.id),e.$set(r)},i(t){l||(z(e.$$.fragment,t),l=!0)},o(t){Q(e.$$.fragment,t),l=!1},d(t){ce(e,t)}}}function rl(o){let e,l;return e=new Gt({props:{mod:o[2].data.getMod}}),{c(){ie(e.$$.fragment)},l(t){de(e.$$.fragment,t)},m(t,s){fe(e,t,s),l=!0},p(t,s){const r={};s&4&&(r.mod=t[2].data.getMod),e.$set(r)},i(t){l||(z(e.$$.fragment,t),l=!0)},o(t){Q(e.$$.fragment,t),l=!1},d(t){ce(e,t)}}}function al(o){let e,l,t,s,r,i,d,u,f,_,n,h,L,V;return{c(){e=m("div"),l=m("h3"),t=D("Delete Mod?"),s=N(),r=m("span"),i=D("Are you sure you wish to delete this mod"),d=N(),u=m("button"),f=D("Cancel"),_=N(),n=m("button"),h=D("Delete"),this.h()},l(g){e=v(g,"DIV",{class:!0});var b=p(e);l=v(b,"H3",{class:!0});var O=p(l);t=I(O,"Delete Mod?"),O.forEach(c),s=T(b),r=v(b,"SPAN",{});var B=p(r);i=I(B,"Are you sure you wish to delete this mod"),B.forEach(c),d=T(b),u=v(b,"BUTTON",{class:!0});var C=p(u);f=I(C,"Cancel"),C.forEach(c),_=T(b),n=v(b,"BUTTON",{class:!0});var q=p(n);h=I(q,"Delete"),q.forEach(c),b.forEach(c),this.h()},h(){w(l,"class","text-2xl font-bold"),w(u,"class","py-1 px-4 rounded text-base bg-yellow-600"),w(n,"class","py-1 px-4 rounded text-base bg-red-500"),w(e,"class","grid grid-flow-row gap-4")},m(g,b){R(g,e,b),a(e,l),a(l,t),a(e,s),a(e,r),a(r,i),a(e,d),a(e,u),a(u,f),a(e,_),a(e,n),a(n,h),L||(V=[Ie(u,"click",o[15]),Ie(n,"click",o[16])],L=!0)},p:j,d(g){g&&c(e),L=!1,Qe(V)}}}function nl(o){let e,l;return{c(){e=m("span"),l=D(o[4])},l(t){e=v(t,"SPAN",{});var s=p(e);l=I(s,o[4]),s.forEach(c)},m(t,s){R(t,e,s),a(e,l)},p(t,s){s&16&&Y(l,t[4])},d(t){t&&c(e)}}}function il(o){let e,l,t,s,r,i,d=!o[2].fetching&&!o[2].error&&o[2].data.getMod&&st(o);const u=[tl,el,xt,Zt],f=[];function _(n,h){return n[2].fetching?0:n[2].error?1:n[2].data.getMod?2:3}return t=_(o),s=f[t]=u[t](o),{c(){d&&d.c(),e=ne(),l=N(),s.c(),r=ne()},l(n){const h=ut('[data-svelte="svelte-10sikv1"]',document.head);d&&d.l(h),e=ne(),h.forEach(c),l=T(n),s.l(n),r=ne()},m(n,h){d&&d.m(document.head,null),a(document.head,e),R(n,l,h),f[t].m(n,h),R(n,r,h),i=!0},p(n,[h]){!n[2].fetching&&!n[2].error&&n[2].data.getMod?d?(d.p(n,h),h&4&&z(d,1)):(d=st(n),d.c(),z(d,1),d.m(e.parentNode,e)):d&&(Ve(),Q(d,1,1,()=>{d=null}),De());let L=t;t=_(n),t===L?f[t].p(n,h):(Ve(),Q(f[L],1,1,()=>{f[L]=null}),De(),s=f[t],s?s.p(n,h):(s=f[t]=u[t](n),s.c()),z(s,1),s.m(r.parentNode,r))},i(n){i||(z(d),z(s),i=!0)},o(n){Q(d),Q(s),i=!1},d(n){d&&d.d(n),c(e),n&&c(l),f[t].d(n),n&&c(r)}}}const at=ze(bt,{mod:void 0}),Vl=$t(async o=>(at.variables.mod=o.page.params.modId,gt({mod:at})(o)));function dl(o,e,l){let t,s,r,i=j,d=()=>(i(),i=_t(_,E=>l(2,r=E)),_),u;je(o,wt,E=>l(10,s=E)),o.$$.on_destroy.push(()=>i());let{modId:f}=e,{mod:_}=e;d();let n=!1,h="",L=!1;const V=ht({query:kt}),g=mt(!1);je(o,g,E=>l(7,u=E));const b=()=>{V({modId:f}).then(E=>{E.error?(console.error(E.error.message),l(4,h="Error deleting mod: "+E.error.message),l(5,L=!0)):Be(me+"/mods")})};Fe(_);const O=()=>Be(me+"/mod/"+f+"/edit"),B=()=>g.set(!0),C=()=>Be(me+"/mod/"+f+"/new-version"),q=()=>l(3,n=!n),S=()=>g.set(!1),A=()=>b();function k(E){u=E,g.set(u)}function y(E){L=E,l(5,L)}return o.$$set=E=>{"modId"in E&&l(0,f=E.modId),"mod"in E&&d(l(1,_=E.mod))},o.$$.update=()=>{o.$$.dirty&1028&&l(6,t=s?.roles?.deleteContent||r?.data?.getMod?.authors?.findIndex(E=>E.user_id==s?.id)>=0)},[f,_,r,n,h,L,t,u,g,b,s,O,B,C,q,S,A,k,y]}class Dl extends $e{constructor(e){super();we(this,e,dl,il,Ee,{modId:0,mod:1})}}export{Dl as default,Vl as load};
//# sourceMappingURL=index.svelte-6ba836cc.js.map
