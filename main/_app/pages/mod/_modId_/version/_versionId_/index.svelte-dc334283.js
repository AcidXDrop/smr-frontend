import{S as Ie,i as Se,s as Ne,ap as qe,j as H,m as z,o as U,x as N,u as j,v as F,aq as Ge,ay as He,e as d,c as _,a as g,d as f,b as K,f as P,az as xe,V as R,t as h,k as E,g as v,n as D,R as a,h as ee,N as et,l as be,_ as tt,w as Te,M as ze,aC as nt,Q as st,O as ot,r as je,C as rt,aa as ke,J as Ue,K as Fe,L as Qe,ad as at,ae as lt,U as We,W as it}from"../../../../../chunks/vendor-5e5b2079.js";import{M as ft}from"../../../../../chunks/MetaDescriptors-20105bba.js";import{l as ct}from"../../../../../chunks/gql-7e09f6ed.js";import{z as ut,B as dt}from"../../../../../chunks/graphql-8fe081d6.js";import{p as _t}from"../../../../../chunks/routing-1d144003.js";import{m as Je}from"../../../../../chunks/markdown-e6b630bd.js";import{b as Ke}from"../../../../../chunks/api-82c76902.js";import{a as mt}from"../../../../../chunks/user-ba47f179.js";import{T as $t}from"../../../../../chunks/Toast-c7c36427.js";import{D as pt}from"../../../../../chunks/Dialog-9cd5ee7b.js";import{g as Xe}from"../../../../../chunks/navigation-51f4a605.js";import{b as Oe}from"../../../../../chunks/paths-6758d194.js";import"../../../../../chunks/stores-0968c272.js";import"../../../../../chunks/singletons-12a22614.js";function gt(r){return{c:R,l:R,m:R,p:R,d:R}}function ht(r){let e,n=r[1]+"";return{c(){e=d("p")},l(t){e=_(t,"P",{});var s=g(e);s.forEach(f)},m(t,s){P(t,e,s),e.innerHTML=n},p(t,s){s&1&&n!==(n=t[1]+"")&&(e.innerHTML=n)},d(t){t&&f(e)}}}function vt(r){return{c:R,l:R,m:R,p:R,d:R}}function bt(r){let e,n,t={ctx:r,current:null,token:null,hasCatch:!1,pending:vt,then:ht,catch:gt,value:1};return He(n=Je(r[0]),t),{c(){e=d("div"),t.block.c(),this.h()},l(s){e=_(s,"DIV",{class:!0});var o=g(e);t.block.l(o),o.forEach(f),this.h()},h(){K(e,"class","markdown-content")},m(s,o){P(s,e,o),t.block.m(e,t.anchor=null),t.mount=()=>e,t.anchor=null},p(s,o){r=s,t.ctx=r,o&1&&n!==(n=Je(r[0]))&&He(n,t)||xe(t,r,o)},d(s){s&&f(e),t.block.d(),t.token=null,t=null}}}function kt(r){let e,n;return e=new Ge({props:{$$slots:{default:[bt]},$$scope:{ctx:r}}}),{c(){H(e.$$.fragment)},l(t){z(e.$$.fragment,t)},m(t,s){U(e,t,s),n=!0},p(t,s){const o={};s&5&&(o.$$scope={dirty:s,ctx:t}),e.$set(o)},i(t){n||(N(e.$$.fragment,t),n=!0)},o(t){j(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function wt(r){let e,n;return e=new qe({props:{$$slots:{default:[kt]},$$scope:{ctx:r}}}),{c(){H(e.$$.fragment)},l(t){z(e.$$.fragment,t)},m(t,s){U(e,t,s),n=!0},p(t,[s]){const o={};s&5&&(o.$$scope={dirty:s,ctx:t}),e.$set(o)},i(t){n||(N(e.$$.fragment,t),n=!0)},o(t){j(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function Vt(r,e,n){let{changelog:t}=e;return r.$$set=s=>{"changelog"in s&&n(0,t=s.changelog)},[t]}class Et extends Ie{constructor(e){super();Se(this,e,Vt,wt,Ne,{changelog:0})}}function Dt(r){let e,n,t,s,o,c,u,$,k=r[0].created_at+"",O,l,w,b,Q,I,T,M=r[0].downloads+"",J,B,A,W,C,p,ne,L=r[0].sml_version+"",se,y,S,te,oe,ie,le,i=r[0].stability+"",m,X,Z,q,G,x,re,fe=r[0].size+"",de,we,Ve,ae,ce,Ee,De,ue=r[0].hash+"",_e;return{c(){e=d("div"),n=d("h3"),t=h("Info"),s=E(),o=d("span"),c=d("strong"),u=h("Created:"),$=E(),O=h(k),l=d("br"),w=E(),b=d("span"),Q=d("strong"),I=h("Downloads:"),T=E(),J=h(M),B=d("br"),A=E(),W=d("span"),C=d("strong"),p=h("SML Version:"),ne=E(),se=h(L),y=d("br"),S=E(),te=d("span"),oe=d("strong"),ie=h("Stability:"),le=E(),m=h(i),X=d("br"),Z=E(),q=d("span"),G=d("strong"),x=h("Size:"),re=E(),de=h(fe),we=d("br"),Ve=E(),ae=d("span"),ce=d("strong"),Ee=h("Hash:"),De=E(),_e=h(ue),this.h()},l(Y){e=_(Y,"DIV",{class:!0});var V=g(e);n=_(V,"H3",{class:!0});var Pe=g(n);t=v(Pe,"Info"),Pe.forEach(f),s=D(V),o=_(V,"SPAN",{});var me=g(o);c=_(me,"STRONG",{});var Re=g(c);u=v(Re,"Created:"),Re.forEach(f),$=D(me),O=v(me,k),me.forEach(f),l=_(V,"BR",{}),w=D(V),b=_(V,"SPAN",{});var $e=g(b);Q=_($e,"STRONG",{});var Me=g(Q);I=v(Me,"Downloads:"),Me.forEach(f),T=D($e),J=v($e,M),$e.forEach(f),B=_(V,"BR",{}),A=D(V),W=_(V,"SPAN",{});var pe=g(W);C=_(pe,"STRONG",{});var Ae=g(C);p=v(Ae,"SML Version:"),Ae.forEach(f),ne=D(pe),se=v(pe,L),pe.forEach(f),y=_(V,"BR",{}),S=D(V),te=_(V,"SPAN",{});var ge=g(te);oe=_(ge,"STRONG",{});var Ce=g(oe);ie=v(Ce,"Stability:"),Ce.forEach(f),le=D(ge),m=v(ge,i),ge.forEach(f),X=_(V,"BR",{}),Z=D(V),q=_(V,"SPAN",{});var he=g(q);G=_(he,"STRONG",{});var Be=g(G);x=v(Be,"Size:"),Be.forEach(f),re=D(he),de=v(he,fe),he.forEach(f),we=_(V,"BR",{}),Ve=D(V),ae=_(V,"SPAN",{});var ve=g(ae);ce=_(ve,"STRONG",{});var Le=g(ce);Ee=v(Le,"Hash:"),Le.forEach(f),De=D(ve),_e=v(ve,ue),ve.forEach(f),V.forEach(f),this.h()},h(){K(n,"class","text-2xl my-4 font-bold"),K(e,"class","text-lg")},m(Y,V){P(Y,e,V),a(e,n),a(n,t),a(e,s),a(e,o),a(o,c),a(c,u),a(o,$),a(o,O),a(e,l),a(e,w),a(e,b),a(b,Q),a(Q,I),a(b,T),a(b,J),a(e,B),a(e,A),a(e,W),a(W,C),a(C,p),a(W,ne),a(W,se),a(e,y),a(e,S),a(e,te),a(te,oe),a(oe,ie),a(te,le),a(te,m),a(e,X),a(e,Z),a(e,q),a(q,G),a(G,x),a(q,re),a(q,de),a(e,we),a(e,Ve),a(e,ae),a(ae,ce),a(ce,Ee),a(ae,De),a(ae,_e)},p(Y,V){V&1&&k!==(k=Y[0].created_at+"")&&ee(O,k),V&1&&M!==(M=Y[0].downloads+"")&&ee(J,M),V&1&&L!==(L=Y[0].sml_version+"")&&ee(se,L),V&1&&i!==(i=Y[0].stability+"")&&ee(m,i),V&1&&fe!==(fe=Y[0].size+"")&&ee(de,fe),V&1&&ue!==(ue=Y[0].hash+"")&&ee(_e,ue)},d(Y){Y&&f(e)}}}function It(r){let e,n;return e=new Ge({props:{$$slots:{default:[Dt]},$$scope:{ctx:r}}}),{c(){H(e.$$.fragment)},l(t){z(e.$$.fragment,t)},m(t,s){U(e,t,s),n=!0},p(t,s){const o={};s&3&&(o.$$scope={dirty:s,ctx:t}),e.$set(o)},i(t){n||(N(e.$$.fragment,t),n=!0)},o(t){j(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function St(r){let e,n;return e=new qe({props:{$$slots:{default:[It]},$$scope:{ctx:r}}}),{c(){H(e.$$.fragment)},l(t){z(e.$$.fragment,t)},m(t,s){U(e,t,s),n=!0},p(t,[s]){const o={};s&3&&(o.$$scope={dirty:s,ctx:t}),e.$set(o)},i(t){n||(N(e.$$.fragment,t),n=!0)},o(t){j(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function Nt(r,e,n){let{version:t}=e;return r.$$set=s=>{"version"in s&&n(0,t=s.version)},[t]}class Tt extends Ie{constructor(e){super();Se(this,e,Nt,St,Ne,{version:0})}}function Ye(r){let e,n;return e=new ft({props:{description:"Information for mod version "+r[3].data.getVersion.mod.name+" "+r[3].data.getVersion.version,title:"Mod version "+r[3].data.getVersion.mod.name+" "+r[3].data.getVersion.version}}),{c(){H(e.$$.fragment)},l(t){z(e.$$.fragment,t)},m(t,s){U(e,t,s),n=!0},p(t,s){const o={};s&8&&(o.description="Information for mod version "+t[3].data.getVersion.mod.name+" "+t[3].data.getVersion.version),s&8&&(o.title="Mod version "+t[3].data.getVersion.mod.name+" "+t[3].data.getVersion.version),e.$set(o)},i(t){n||(N(e.$$.fragment,t),n=!0)},o(t){j(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function jt(r){let e;return{c(){e=h("404")},l(n){e=v(n,"404")},m(n,t){P(n,e,t)},p:R,i:R,o:R,d(n){n&&f(e)}}}function Ot(r){let e,n,t,s,o=r[3].data.getVersion.mod.name+"",c,u,$=r[3].data.getVersion.version+"",k,O,l,w,b,Q,I,T,M,J,B,A,W,C,p,ne,L,se,y,S=r[6]&&Ze(r);b=new ke({props:{variant:"outlined",href:Ke+"/mod/"+r[0]+"/versions/"+r[1]+"/download",$$slots:{default:[Ct]},$$scope:{ctx:r}}}),I=new ke({props:{variant:"outlined",href:Oe,$$slots:{default:[qt]},$$scope:{ctx:r}}}),M=new Et({props:{changelog:r[3].data.getVersion.changelog}}),A=new Tt({props:{version:r[3].data.getVersion}});function te(i){r[15](i)}let oe={$$slots:{default:[Gt]},$$scope:{ctx:r}};r[7]!==void 0&&(oe.open=r[7]),C=new pt({props:oe}),Ue.push(()=>Fe(C,"open",te));function ie(i){r[16](i)}let le={$$slots:{default:[Ht]},$$scope:{ctx:r}};return r[5]!==void 0&&(le.running=r[5]),L=new $t({props:le}),Ue.push(()=>Fe(L,"running",ie)),{c(){e=d("div"),n=d("div"),t=d("div"),s=d("h1"),c=h(o),u=h(`
          Version `),k=h($),O=E(),l=d("div"),S&&S.c(),w=E(),H(b.$$.fragment),Q=E(),H(I.$$.fragment),T=E(),H(M.$$.fragment),J=E(),B=d("div"),H(A.$$.fragment),W=E(),H(C.$$.fragment),ne=E(),H(L.$$.fragment),this.h()},l(i){e=_(i,"DIV",{class:!0});var m=g(e);n=_(m,"DIV",{class:!0});var X=g(n);t=_(X,"DIV",{class:!0});var Z=g(t);s=_(Z,"H1",{class:!0});var q=g(s);c=v(q,o),u=v(q,`
          Version `),k=v(q,$),q.forEach(f),O=D(Z),l=_(Z,"DIV",{class:!0});var G=g(l);S&&S.l(G),w=D(G),z(b.$$.fragment,G),Q=D(G),z(I.$$.fragment,G),G.forEach(f),Z.forEach(f),T=D(X),z(M.$$.fragment,X),X.forEach(f),J=D(m),B=_(m,"DIV",{class:!0});var x=g(B);z(A.$$.fragment,x),x.forEach(f),m.forEach(f),W=D(i),z(C.$$.fragment,i),ne=D(i),z(L.$$.fragment,i),this.h()},h(){K(s,"class","text-4xl my-4 font-bold"),K(l,"class","grid grid-flow-col gap-4"),K(t,"class","grid grid-flow-col grid-auto-max h-auto items-center svelte-1ug5acc"),K(n,"class","grid grid-cols-1 auto-rows-min gap-8"),K(B,"class","grid grid-cols-1 auto-rows-min gap-8"),K(e,"class","grid gap-8 grid-auto-max svelte-1ug5acc")},m(i,m){P(i,e,m),a(e,n),a(n,t),a(t,s),a(s,c),a(s,u),a(s,k),a(t,O),a(t,l),S&&S.m(l,null),a(l,w),U(b,l,null),a(l,Q),U(I,l,null),a(n,T),U(M,n,null),a(e,J),a(e,B),U(A,B,null),P(i,W,m),U(C,i,m),P(i,ne,m),U(L,i,m),y=!0},p(i,m){(!y||m&8)&&o!==(o=i[3].data.getVersion.mod.name+"")&&ee(c,o),(!y||m&8)&&$!==($=i[3].data.getVersion.version+"")&&ee(k,$),i[6]?S?(S.p(i,m),m&64&&N(S,1)):(S=Ze(i),S.c(),N(S,1),S.m(l,w)):S&&(je(),j(S,1,1,()=>{S=null}),Te());const X={};m&3&&(X.href=Ke+"/mod/"+i[0]+"/versions/"+i[1]+"/download"),m&262144&&(X.$$scope={dirty:m,ctx:i}),b.$set(X);const Z={};m&262144&&(Z.$$scope={dirty:m,ctx:i}),I.$set(Z);const q={};m&8&&(q.changelog=i[3].data.getVersion.changelog),M.$set(q);const G={};m&8&&(G.version=i[3].data.getVersion),A.$set(G);const x={};m&262144&&(x.$$scope={dirty:m,ctx:i}),!p&&m&128&&(p=!0,x.open=i[7],Qe(()=>p=!1)),C.$set(x);const re={};m&262160&&(re.$$scope={dirty:m,ctx:i}),!se&&m&32&&(se=!0,re.running=i[5],Qe(()=>se=!1)),L.$set(re)},i(i){y||(N(S),N(b.$$.fragment,i),N(I.$$.fragment,i),N(M.$$.fragment,i),N(A.$$.fragment,i),N(C.$$.fragment,i),N(L.$$.fragment,i),y=!0)},o(i){j(S),j(b.$$.fragment,i),j(I.$$.fragment,i),j(M.$$.fragment,i),j(A.$$.fragment,i),j(C.$$.fragment,i),j(L.$$.fragment,i),y=!1},d(i){i&&f(e),S&&S.d(),F(b),F(I),F(M),F(A),i&&f(W),F(C,i),i&&f(ne),F(L,i)}}}function Pt(r){let e,n,t=r[3].error.message+"",s;return{c(){e=d("p"),n=h("Oh no... "),s=h(t)},l(o){e=_(o,"P",{});var c=g(e);n=v(c,"Oh no... "),s=v(c,t),c.forEach(f)},m(o,c){P(o,e,c),a(e,n),a(e,s)},p(o,c){c&8&&t!==(t=o[3].error.message+"")&&ee(s,t)},i:R,o:R,d(o){o&&f(e)}}}function Rt(r){let e,n;return{c(){e=d("p"),n=h("Loading...")},l(t){e=_(t,"P",{});var s=g(e);n=v(s,"Loading..."),s.forEach(f)},m(t,s){P(t,e,s),a(e,n)},p:R,i:R,o:R,d(t){t&&f(e)}}}function Ze(r){let e,n,t,s;return e=new ke({props:{variant:"outlined",$$slots:{default:[Mt]},$$scope:{ctx:r}}}),e.$on("click",r[11]),t=new ke({props:{variant:"outlined",$$slots:{default:[At]},$$scope:{ctx:r}}}),t.$on("click",r[12]),{c(){H(e.$$.fragment),n=E(),H(t.$$.fragment)},l(o){z(e.$$.fragment,o),n=D(o),z(t.$$.fragment,o)},m(o,c){U(e,o,c),P(o,n,c),U(t,o,c),s=!0},p(o,c){const u={};c&262144&&(u.$$scope={dirty:c,ctx:o}),e.$set(u);const $={};c&262144&&($.$$scope={dirty:c,ctx:o}),t.$set($)},i(o){s||(N(e.$$.fragment,o),N(t.$$.fragment,o),s=!0)},o(o){j(e.$$.fragment,o),j(t.$$.fragment,o),s=!1},d(o){F(e,o),o&&f(n),F(t,o)}}}function Mt(r){let e;return{c(){e=h("Edit")},l(n){e=v(n,"Edit")},m(n,t){P(n,e,t)},d(n){n&&f(e)}}}function At(r){let e;return{c(){e=h("Delete")},l(n){e=v(n,"Delete")},m(n,t){P(n,e,t)},d(n){n&&f(e)}}}function Ct(r){let e;return{c(){e=h("Download")},l(n){e=v(n,"Download")},m(n,t){P(n,e,t)},d(n){n&&f(e)}}}function Bt(r){let e;return{c(){e=h("Install")},l(n){e=v(n,"Install")},m(n,t){P(n,e,t)},d(n){n&&f(e)}}}function Lt(r){let e;return{c(){e=h("download")},l(n){e=v(n,"download")},m(n,t){P(n,e,t)},d(n){n&&f(e)}}}function qt(r){let e,n,t,s;return e=new at({props:{$$slots:{default:[Bt]},$$scope:{ctx:r}}}),t=new lt({props:{class:"material-icons",$$slots:{default:[Lt]},$$scope:{ctx:r}}}),{c(){H(e.$$.fragment),n=E(),H(t.$$.fragment)},l(o){z(e.$$.fragment,o),n=D(o),z(t.$$.fragment,o)},m(o,c){U(e,o,c),P(o,n,c),U(t,o,c),s=!0},p(o,c){const u={};c&262144&&(u.$$scope={dirty:c,ctx:o}),e.$set(u);const $={};c&262144&&($.$$scope={dirty:c,ctx:o}),t.$set($)},i(o){s||(N(e.$$.fragment,o),N(t.$$.fragment,o),s=!0)},o(o){j(e.$$.fragment,o),j(t.$$.fragment,o),s=!1},d(o){F(e,o),o&&f(n),F(t,o)}}}function Gt(r){let e,n,t,s,o,c,u,$,k,O,l,w,b,Q;return{c(){e=d("div"),n=d("h3"),t=h("Delete Version?"),s=E(),o=d("span"),c=h("Are you sure you wish to delete this version"),u=E(),$=d("button"),k=h("Cancel"),O=E(),l=d("button"),w=h("Delete"),this.h()},l(I){e=_(I,"DIV",{class:!0});var T=g(e);n=_(T,"H3",{class:!0});var M=g(n);t=v(M,"Delete Version?"),M.forEach(f),s=D(T),o=_(T,"SPAN",{});var J=g(o);c=v(J,"Are you sure you wish to delete this version"),J.forEach(f),u=D(T),$=_(T,"BUTTON",{class:!0});var B=g($);k=v(B,"Cancel"),B.forEach(f),O=D(T),l=_(T,"BUTTON",{class:!0});var A=g(l);w=v(A,"Delete"),A.forEach(f),T.forEach(f),this.h()},h(){K(n,"class","text-2xl font-bold"),K($,"class","py-1 px-4 rounded text-base bg-yellow-600"),K(l,"class","py-1 px-4 rounded text-base bg-red-500"),K(e,"class","grid grid-flow-row gap-4")},m(I,T){P(I,e,T),a(e,n),a(n,t),a(e,s),a(e,o),a(o,c),a(e,u),a(e,$),a($,k),a(e,O),a(e,l),a(l,w),b||(Q=[We($,"click",r[13]),We(l,"click",r[14])],b=!0)},p:R,d(I){I&&f(e),b=!1,it(Q)}}}function Ht(r){let e,n;return{c(){e=d("span"),n=h(r[4])},l(t){e=_(t,"SPAN",{});var s=g(e);n=v(s,r[4]),s.forEach(f)},m(t,s){P(t,e,s),a(e,n)},p(t,s){s&16&&ee(n,t[4])},d(t){t&&f(e)}}}function zt(r){let e,n,t,s,o,c,u=!r[3].fetching&&!r[3].error&&r[3].data.getVersion&&Ye(r);const $=[Rt,Pt,Ot,jt],k=[];function O(l,w){return l[3].fetching?0:l[3].error?1:l[3].data.getVersion?2:3}return t=O(r),s=k[t]=$[t](r),{c(){u&&u.c(),e=be(),n=E(),s.c(),o=be()},l(l){const w=tt('[data-svelte="svelte-1c60p3b"]',document.head);u&&u.l(w),e=be(),w.forEach(f),n=D(l),s.l(l),o=be()},m(l,w){u&&u.m(document.head,null),a(document.head,e),P(l,n,w),k[t].m(l,w),P(l,o,w),c=!0},p(l,[w]){!l[3].fetching&&!l[3].error&&l[3].data.getVersion?u?(u.p(l,w),w&8&&N(u,1)):(u=Ye(l),u.c(),N(u,1),u.m(e.parentNode,e)):u&&(je(),j(u,1,1,()=>{u=null}),Te());let b=t;t=O(l),t===b?k[t].p(l,w):(je(),j(k[b],1,1,()=>{k[b]=null}),Te(),s=k[t],s?s.p(l,w):(s=k[t]=$[t](l),s.c()),N(s,1),s.m(o.parentNode,o))},i(l){c||(N(u),N(s),c=!0)},o(l){j(u),j(s),c=!1},d(l){u&&u.d(l),f(e),l&&f(n),k[t].d(l),l&&f(o)}}}const ye=et(ut,{version:void 0}),on=_t(async r=>(ye.variables.version=r.page.params.versionId,ct({version:ye})(r)));function Ut(r,e,n){let t,s,o,c=R,u=()=>(c(),c=nt(l,p=>n(3,o=p)),l),$;ze(r,mt,p=>n(10,s=p)),r.$$.on_destroy.push(()=>c());let{modId:k}=e,{versionId:O}=e,{version:l}=e;u();let w="",b=!1;const Q=st({query:dt}),I=rt(!1);ze(r,I,p=>n(7,$=p));const T=()=>{Q({versionId:O}).then(p=>{p.error?(console.error(p.error.message),n(4,w="Error deleting version: "+p.error.message),n(5,b=!0)):Xe(Oe+"/mod/"+k)})};ot(l);const M=()=>Xe(Oe+"/mod/"+k+"/version/"+O+"/edit"),J=()=>I.set(!0),B=()=>I.set(!1),A=()=>T();function W(p){$=p,I.set($)}function C(p){b=p,n(5,b)}return r.$$set=p=>{"modId"in p&&n(0,k=p.modId),"versionId"in p&&n(1,O=p.versionId),"version"in p&&u(n(2,l=p.version))},r.$$.update=()=>{r.$$.dirty&1032&&n(6,t=s?.roles?.deleteContent||o?.data?.getVersion.mod?.authors?.findIndex(p=>p.user_id==s?.id)>=0)},[k,O,l,o,w,b,t,$,I,T,s,M,J,B,A,W,C]}class rn extends Ie{constructor(e){super();Se(this,e,Ut,zt,Ne,{modId:0,versionId:1,version:2})}}export{rn as default,on as load};
//# sourceMappingURL=index.svelte-dc334283.js.map
