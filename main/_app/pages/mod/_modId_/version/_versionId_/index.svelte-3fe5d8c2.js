import{S as Ie,i as Se,s as Ne,am as Be,e as d,c as f,a as h,d as i,b as A,f as R,an as Ye,X as w,t as b,k as D,g as k,n as I,R as o,h as te,N as Ze,j as fe,m as ue,o as _e,x as Y,u as se,v as pe,l as we,$ as xe,w as Ce,M as He,ac as et,Q as tt,O as st,r as Ge,C as nt,W as De,Y as Le,T as ot,af as rt,J as qe,K as Ue,L as ze}from"../../../../../chunks/vendor-bd04eeb5.js";import{M as at}from"../../../../../chunks/MetaDescriptors-99b66b31.js";import{l as lt}from"../../../../../chunks/gql-eaa81b41.js";import{B as it,H as ct}from"../../../../../chunks/graphql-44245247.js";import{p as dt}from"../../../../../chunks/routing-1d144003.js";import{m as Fe}from"../../../../../chunks/markdown-b0181a82.js";import{b as Qe}from"../../../../../chunks/api-82c76902.js";import{a as ft}from"../../../../../chunks/user-3938001f.js";import{T as ut}from"../../../../../chunks/Toast-cf8cd1a0.js";import{D as _t}from"../../../../../chunks/Dialog-12b5db89.js";import{g as We}from"../../../../../chunks/navigation-51f4a605.js";import{b as Te}from"../../../../../chunks/paths-6758d194.js";import"../../../../../chunks/stores-44ecde00.js";import"../../../../../chunks/singletons-12a22614.js";function pt(r){return{c:w,l:w,m:w,p:w,d:w}}function mt(r){let e,n=r[1]+"";return{c(){e=d("p")},l(t){e=f(t,"P",{});var s=h(e);s.forEach(i)},m(t,s){R(t,e,s),e.innerHTML=n},p(t,s){s&1&&n!==(n=t[1]+"")&&(e.innerHTML=n)},d(t){t&&i(e)}}}function gt(r){return{c:w,l:w,m:w,p:w,d:w}}function ht(r){let e,n,t={ctx:r,current:null,token:null,hasCatch:!1,pending:gt,then:mt,catch:pt,value:1};return Be(n=Fe(r[0]),t),{c(){e=d("div"),t.block.c(),this.h()},l(s){e=f(s,"DIV",{class:!0});var l=h(e);t.block.l(l),l.forEach(i),this.h()},h(){A(e,"class","markdown-content")},m(s,l){R(s,e,l),t.block.m(e,t.anchor=null),t.mount=()=>e,t.anchor=null},p(s,[l]){r=s,t.ctx=r,l&1&&n!==(n=Fe(r[0]))&&Be(n,t)||Ye(t,r,l)},i:w,o:w,d(s){s&&i(e),t.block.d(),t.token=null,t=null}}}function vt(r,e,n){let{changelog:t}=e;return r.$$set=s=>{"changelog"in s&&n(0,t=s.changelog)},[t]}class bt extends Ie{constructor(e){super();Se(this,e,vt,ht,Ne,{changelog:0})}}function kt(r){let e,n,t,s,l,p,u,_,m=r[0].created_at+"",S,a,$,v,M,j,N,O=r[0].downloads+"",y,U,z,P,K,g,ae,F=r[0].sml_version+"",C,oe,H,X,Z,G,le,L=r[0].stability+"",T,me,ie,ne,re,c,V,q=r[0].size+"",Q,W,B,x,ee,ce,de,ge=r[0].hash+"",he;return{c(){e=d("div"),n=d("h3"),t=b("Info"),s=D(),l=d("span"),p=d("strong"),u=b("Created:"),_=D(),S=b(m),a=d("br"),$=D(),v=d("span"),M=d("strong"),j=b("Downloads:"),N=D(),y=b(O),U=d("br"),z=D(),P=d("span"),K=d("strong"),g=b("SML Version:"),ae=D(),C=b(F),oe=d("br"),H=D(),X=d("span"),Z=d("strong"),G=b("Stability:"),le=D(),T=b(L),me=d("br"),ie=D(),ne=d("span"),re=d("strong"),c=b("Size:"),V=D(),Q=b(q),W=d("br"),B=D(),x=d("span"),ee=d("strong"),ce=b("Hash:"),de=D(),he=b(ge),this.h()},l(J){e=f(J,"DIV",{class:!0});var E=h(e);n=f(E,"H3",{class:!0});var je=h(n);t=k(je,"Info"),je.forEach(i),s=I(E),l=f(E,"SPAN",{});var ve=h(l);p=f(ve,"STRONG",{});var Oe=h(p);u=k(Oe,"Created:"),Oe.forEach(i),_=I(ve),S=k(ve,m),ve.forEach(i),a=f(E,"BR",{}),$=I(E),v=f(E,"SPAN",{});var be=h(v);M=f(be,"STRONG",{});var Ae=h(M);j=k(Ae,"Downloads:"),Ae.forEach(i),N=I(be),y=k(be,O),be.forEach(i),U=f(E,"BR",{}),z=I(E),P=f(E,"SPAN",{});var ke=h(P);K=f(ke,"STRONG",{});var Pe=h(K);g=k(Pe,"SML Version:"),Pe.forEach(i),ae=I(ke),C=k(ke,F),ke.forEach(i),oe=f(E,"BR",{}),H=I(E),X=f(E,"SPAN",{});var $e=h(X);Z=f($e,"STRONG",{});var Re=h(Z);G=k(Re,"Stability:"),Re.forEach(i),le=I($e),T=k($e,L),$e.forEach(i),me=f(E,"BR",{}),ie=I(E),ne=f(E,"SPAN",{});var Ee=h(ne);re=f(Ee,"STRONG",{});var ye=h(re);c=k(ye,"Size:"),ye.forEach(i),V=I(Ee),Q=k(Ee,q),Ee.forEach(i),W=f(E,"BR",{}),B=I(E),x=f(E,"SPAN",{});var Ve=h(x);ee=f(Ve,"STRONG",{});var Me=h(ee);ce=k(Me,"Hash:"),Me.forEach(i),de=I(Ve),he=k(Ve,ge),Ve.forEach(i),E.forEach(i),this.h()},h(){A(n,"class","text-2xl my-4 font-bold"),A(e,"class","text-lg")},m(J,E){R(J,e,E),o(e,n),o(n,t),o(e,s),o(e,l),o(l,p),o(p,u),o(l,_),o(l,S),o(e,a),o(e,$),o(e,v),o(v,M),o(M,j),o(v,N),o(v,y),o(e,U),o(e,z),o(e,P),o(P,K),o(K,g),o(P,ae),o(P,C),o(e,oe),o(e,H),o(e,X),o(X,Z),o(Z,G),o(X,le),o(X,T),o(e,me),o(e,ie),o(e,ne),o(ne,re),o(re,c),o(ne,V),o(ne,Q),o(e,W),o(e,B),o(e,x),o(x,ee),o(ee,ce),o(x,de),o(x,he)},p(J,[E]){E&1&&m!==(m=J[0].created_at+"")&&te(S,m),E&1&&O!==(O=J[0].downloads+"")&&te(y,O),E&1&&F!==(F=J[0].sml_version+"")&&te(C,F),E&1&&L!==(L=J[0].stability+"")&&te(T,L),E&1&&q!==(q=J[0].size+"")&&te(Q,q),E&1&&ge!==(ge=J[0].hash+"")&&te(he,ge)},i:w,o:w,d(J){J&&i(e)}}}function $t(r,e,n){let{version:t}=e;return r.$$set=s=>{"version"in s&&n(0,t=s.version)},[t]}class Et extends Ie{constructor(e){super();Se(this,e,$t,kt,Ne,{version:0})}}function Je(r){let e,n;return e=new at({props:{description:"Information for mod version "+r[3].data.getVersion.mod.name+" "+r[3].data.getVersion.version,title:"Mod version "+r[3].data.getVersion.mod.name+" "+r[3].data.getVersion.version}}),{c(){fe(e.$$.fragment)},l(t){ue(e.$$.fragment,t)},m(t,s){_e(e,t,s),n=!0},p(t,s){const l={};s&8&&(l.description="Information for mod version "+t[3].data.getVersion.mod.name+" "+t[3].data.getVersion.version),s&8&&(l.title="Mod version "+t[3].data.getVersion.mod.name+" "+t[3].data.getVersion.version),e.$set(l)},i(t){n||(Y(e.$$.fragment,t),n=!0)},o(t){se(e.$$.fragment,t),n=!1},d(t){pe(e,t)}}}function Vt(r){let e;return{c(){e=b("404")},l(n){e=k(n,"404")},m(n,t){R(n,e,t)},p:w,i:w,o:w,d(n){n&&i(e)}}}function wt(r){let e,n,t,s,l=r[3].data.getVersion.mod.name+"",p,u,_=r[3].data.getVersion.version+"",m,S,a,$,v,M,j,N,O,y,U,z,P,K,g,ae,F,C,oe,H,X,Z,G,le,L,T=r[6]&&Ke(r);P=new ot({props:{icon:rt,inline:!0,class:"inline-block"}}),g=new bt({props:{changelog:r[3].data.getVersion.changelog}}),C=new Et({props:{version:r[3].data.getVersion}});function me(c){r[15](c)}let ie={$$slots:{default:[St]},$$scope:{ctx:r}};r[7]!==void 0&&(ie.open=r[7]),H=new _t({props:ie}),qe.push(()=>Ue(H,"open",me));function ne(c){r[16](c)}let re={$$slots:{default:[Nt]},$$scope:{ctx:r}};return r[5]!==void 0&&(re.running=r[5]),G=new ut({props:re}),qe.push(()=>Ue(G,"running",ne)),{c(){e=d("div"),n=d("div"),t=d("div"),s=d("h1"),p=b(l),u=b(`
          Version `),m=b(_),S=D(),a=d("div"),T&&T.c(),$=D(),v=d("a"),M=b("Download"),N=D(),O=d("a"),y=d("span"),U=b("Install"),z=D(),fe(P.$$.fragment),K=D(),fe(g.$$.fragment),ae=D(),F=d("div"),fe(C.$$.fragment),oe=D(),fe(H.$$.fragment),Z=D(),fe(G.$$.fragment),this.h()},l(c){e=f(c,"DIV",{class:!0});var V=h(e);n=f(V,"DIV",{class:!0});var q=h(n);t=f(q,"DIV",{class:!0});var Q=h(t);s=f(Q,"H1",{class:!0});var W=h(s);p=k(W,l),u=k(W,`
          Version `),m=k(W,_),W.forEach(i),S=I(Q),a=f(Q,"DIV",{class:!0});var B=h(a);T&&T.l(B),$=I(B),v=f(B,"A",{href:!0,class:!0});var x=h(v);M=k(x,"Download"),x.forEach(i),N=I(B),O=f(B,"A",{href:!0,class:!0});var ee=h(O);y=f(ee,"SPAN",{});var ce=h(y);U=k(ce,"Install"),ce.forEach(i),z=I(ee),ue(P.$$.fragment,ee),ee.forEach(i),B.forEach(i),Q.forEach(i),K=I(q),ue(g.$$.fragment,q),q.forEach(i),ae=I(V),F=f(V,"DIV",{class:!0});var de=h(F);ue(C.$$.fragment,de),de.forEach(i),V.forEach(i),oe=I(c),ue(H.$$.fragment,c),Z=I(c),ue(G.$$.fragment,c),this.h()},h(){A(s,"class","text-4xl my-4 font-bold"),A(v,"href",j=Qe+"/mod/"+r[0]+"/versions/"+r[1]+"/download"),A(v,"class","py-2 px-4 rounded text-base bg-green-600 text-center"),A(O,"href",Te),A(O,"class","py-2 px-4 rounded text-base bg-blue-600 text-center"),A(a,"class","grid grid-flow-col gap-4"),A(t,"class","grid grid-flow-col grid-auto-max h-auto items-center svelte-1ug5acc"),A(n,"class","grid grid-cols-1 auto-rows-min gap-8"),A(F,"class","grid grid-cols-1 auto-rows-min gap-8"),A(e,"class","grid gap-8 grid-auto-max svelte-1ug5acc")},m(c,V){R(c,e,V),o(e,n),o(n,t),o(t,s),o(s,p),o(s,u),o(s,m),o(t,S),o(t,a),T&&T.m(a,null),o(a,$),o(a,v),o(v,M),o(a,N),o(a,O),o(O,y),o(y,U),o(O,z),_e(P,O,null),o(n,K),_e(g,n,null),o(e,ae),o(e,F),_e(C,F,null),R(c,oe,V),_e(H,c,V),R(c,Z,V),_e(G,c,V),L=!0},p(c,V){(!L||V&8)&&l!==(l=c[3].data.getVersion.mod.name+"")&&te(p,l),(!L||V&8)&&_!==(_=c[3].data.getVersion.version+"")&&te(m,_),c[6]?T?T.p(c,V):(T=Ke(c),T.c(),T.m(a,$)):T&&(T.d(1),T=null),(!L||V&3&&j!==(j=Qe+"/mod/"+c[0]+"/versions/"+c[1]+"/download"))&&A(v,"href",j);const q={};V&8&&(q.changelog=c[3].data.getVersion.changelog),g.$set(q);const Q={};V&8&&(Q.version=c[3].data.getVersion),C.$set(Q);const W={};V&262144&&(W.$$scope={dirty:V,ctx:c}),!X&&V&128&&(X=!0,W.open=c[7],ze(()=>X=!1)),H.$set(W);const B={};V&262160&&(B.$$scope={dirty:V,ctx:c}),!le&&V&32&&(le=!0,B.running=c[5],ze(()=>le=!1)),G.$set(B)},i(c){L||(Y(P.$$.fragment,c),Y(g.$$.fragment,c),Y(C.$$.fragment,c),Y(H.$$.fragment,c),Y(G.$$.fragment,c),L=!0)},o(c){se(P.$$.fragment,c),se(g.$$.fragment,c),se(C.$$.fragment,c),se(H.$$.fragment,c),se(G.$$.fragment,c),L=!1},d(c){c&&i(e),T&&T.d(),pe(P),pe(g),pe(C),c&&i(oe),pe(H,c),c&&i(Z),pe(G,c)}}}function Dt(r){let e,n,t=r[3].error.message+"",s;return{c(){e=d("p"),n=b("Oh no... "),s=b(t)},l(l){e=f(l,"P",{});var p=h(e);n=k(p,"Oh no... "),s=k(p,t),p.forEach(i)},m(l,p){R(l,e,p),o(e,n),o(e,s)},p(l,p){p&8&&t!==(t=l[3].error.message+"")&&te(s,t)},i:w,o:w,d(l){l&&i(e)}}}function It(r){let e,n;return{c(){e=d("p"),n=b("Loading...")},l(t){e=f(t,"P",{});var s=h(e);n=k(s,"Loading..."),s.forEach(i)},m(t,s){R(t,e,s),o(e,n)},p:w,i:w,o:w,d(t){t&&i(e)}}}function Ke(r){let e,n,t,s,l,p,u;return{c(){e=d("button"),n=b("Edit"),t=D(),s=d("button"),l=b("Delete"),this.h()},l(_){e=f(_,"BUTTON",{class:!0});var m=h(e);n=k(m,"Edit"),m.forEach(i),t=I(_),s=f(_,"BUTTON",{class:!0});var S=h(s);l=k(S,"Delete"),S.forEach(i),this.h()},h(){A(e,"class","py-2 px-4 rounded text-base bg-yellow-600"),A(s,"class","py-2 px-4 rounded text-base bg-red-500")},m(_,m){R(_,e,m),o(e,n),R(_,t,m),R(_,s,m),o(s,l),p||(u=[De(e,"click",r[11]),De(s,"click",r[12])],p=!0)},p:w,d(_){_&&i(e),_&&i(t),_&&i(s),p=!1,Le(u)}}}function St(r){let e,n,t,s,l,p,u,_,m,S,a,$,v,M;return{c(){e=d("div"),n=d("h3"),t=b("Delete Version?"),s=D(),l=d("span"),p=b("Are you sure you wish to delete this version"),u=D(),_=d("button"),m=b("Cancel"),S=D(),a=d("button"),$=b("Delete"),this.h()},l(j){e=f(j,"DIV",{class:!0});var N=h(e);n=f(N,"H3",{class:!0});var O=h(n);t=k(O,"Delete Version?"),O.forEach(i),s=I(N),l=f(N,"SPAN",{});var y=h(l);p=k(y,"Are you sure you wish to delete this version"),y.forEach(i),u=I(N),_=f(N,"BUTTON",{class:!0});var U=h(_);m=k(U,"Cancel"),U.forEach(i),S=I(N),a=f(N,"BUTTON",{class:!0});var z=h(a);$=k(z,"Delete"),z.forEach(i),N.forEach(i),this.h()},h(){A(n,"class","text-2xl font-bold"),A(_,"class","py-1 px-4 rounded text-base bg-yellow-600"),A(a,"class","py-1 px-4 rounded text-base bg-red-500"),A(e,"class","grid grid-flow-row gap-4")},m(j,N){R(j,e,N),o(e,n),o(n,t),o(e,s),o(e,l),o(l,p),o(e,u),o(e,_),o(_,m),o(e,S),o(e,a),o(a,$),v||(M=[De(_,"click",r[13]),De(a,"click",r[14])],v=!0)},p:w,d(j){j&&i(e),v=!1,Le(M)}}}function Nt(r){let e,n;return{c(){e=d("span"),n=b(r[4])},l(t){e=f(t,"SPAN",{});var s=h(e);n=k(s,r[4]),s.forEach(i)},m(t,s){R(t,e,s),o(e,n)},p(t,s){s&16&&te(n,t[4])},d(t){t&&i(e)}}}function Tt(r){let e,n,t,s,l,p,u=!r[3].fetching&&!r[3].error&&r[3].data.getVersion&&Je(r);const _=[It,Dt,wt,Vt],m=[];function S(a,$){return a[3].fetching?0:a[3].error?1:a[3].data.getVersion?2:3}return t=S(r),s=m[t]=_[t](r),{c(){u&&u.c(),e=we(),n=D(),s.c(),l=we()},l(a){const $=xe('[data-svelte="svelte-1c60p3b"]',document.head);u&&u.l($),e=we(),$.forEach(i),n=I(a),s.l(a),l=we()},m(a,$){u&&u.m(document.head,null),o(document.head,e),R(a,n,$),m[t].m(a,$),R(a,l,$),p=!0},p(a,[$]){!a[3].fetching&&!a[3].error&&a[3].data.getVersion?u?(u.p(a,$),$&8&&Y(u,1)):(u=Je(a),u.c(),Y(u,1),u.m(e.parentNode,e)):u&&(Ge(),se(u,1,1,()=>{u=null}),Ce());let v=t;t=S(a),t===v?m[t].p(a,$):(Ge(),se(m[v],1,1,()=>{m[v]=null}),Ce(),s=m[t],s?s.p(a,$):(s=m[t]=_[t](a),s.c()),Y(s,1),s.m(l.parentNode,l))},i(a){p||(Y(u),Y(s),p=!0)},o(a){se(u),se(s),p=!1},d(a){u&&u.d(a),i(e),a&&i(n),m[t].d(a),a&&i(l)}}}const Xe=Ze(it,{version:void 0}),Ft=dt(async r=>(Xe.variables.version=r.page.params.versionId,lt({version:Xe})(r)));function jt(r,e,n){let t,s,l,p=w,u=()=>(p(),p=et(a,g=>n(3,l=g)),a),_;He(r,ft,g=>n(10,s=g)),r.$$.on_destroy.push(()=>p());let{modId:m}=e,{versionId:S}=e,{version:a}=e;u();let $="",v=!1;const M=tt({query:ct}),j=nt(!1);He(r,j,g=>n(7,_=g));const N=()=>{M({versionId:S}).then(g=>{g.error?(console.error(g.error.message),n(4,$="Error deleting version: "+g.error.message),n(5,v=!0)):We(Te+"/mod/"+m)})};st(a);const O=()=>We(Te+"/mod/"+m+"/version/"+S+"/edit"),y=()=>j.set(!0),U=()=>j.set(!1),z=()=>N();function P(g){_=g,j.set(_)}function K(g){v=g,n(5,v)}return r.$$set=g=>{"modId"in g&&n(0,m=g.modId),"versionId"in g&&n(1,S=g.versionId),"version"in g&&u(n(2,a=g.version))},r.$$.update=()=>{r.$$.dirty&1032&&n(6,t=s?.roles?.deleteContent||l?.data?.getVersion.mod?.authors?.findIndex(g=>g.user_id==s?.id)>=0)},[m,S,a,l,$,v,t,_,j,N,s,O,y,U,z,P,K]}class Qt extends Ie{constructor(e){super();Se(this,e,jt,Tt,Ne,{modId:0,versionId:1,version:2})}}export{Qt as default,Ft as load};
//# sourceMappingURL=index.svelte-3fe5d8c2.js.map
