import{S as e,i as n,s as r,al as s,e as o,c as a,a as t,d as i,b as c,f as l,am as d,X as u,t as f,k as h,g as m,n as g,R as v,h as p,N as $,j as b,m as E,o as x,x as V,u as w,v as k,l as y,$ as I,w as N,M as S,ac as D,Q as T,O as j,r as A,C as O,W as P,Y as R,T as B,af as M,J as H,K as C,L}from"../../../../../chunks/vendor-717a693c.js";import{M as G}from"../../../../../chunks/MetaDescriptors-a7f74224.js";import{l as _}from"../../../../../chunks/gql-8d1c163c.js";import{B as z,H as U}from"../../../../../chunks/graphql-7c12eb8b.js";import{p as q}from"../../../../../chunks/routing-1d144003.js";import{m as J}from"../../../../../chunks/markdown-5153303f.js";import{b as K}from"../../../../../chunks/api-82c76902.js";import{a as Q}from"../../../../../chunks/user-9208d706.js";import{T as W}from"../../../../../chunks/Toast-88c84b53.js";import{D as X}from"../../../../../chunks/Dialog-073f8cdd.js";import{g as Y}from"../../../../../chunks/navigation-51f4a605.js";import{b as F}from"../../../../../chunks/paths-6758d194.js";import"../../../../../chunks/stores-ef71dba6.js";import"../../../../../chunks/singletons-12a22614.js";function Z(e){return{c:u,l:u,m:u,p:u,d:u}}function ee(e){let n,r=e[1]+"";return{c(){n=o("p")},l(e){n=a(e,"P",{}),t(n).forEach(i)},m(e,s){l(e,n,s),n.innerHTML=r},p(e,s){1&s&&r!==(r=e[1]+"")&&(n.innerHTML=r)},d(e){e&&i(n)}}}function ne(e){return{c:u,l:u,m:u,p:u,d:u}}function re(e){let n,r,f={ctx:e,current:null,token:null,hasCatch:!1,pending:ne,then:ee,catch:Z,value:1};return s(r=J(e[0]),f),{c(){n=o("div"),f.block.c(),this.h()},l(e){n=a(e,"DIV",{class:!0});var r=t(n);f.block.l(r),r.forEach(i),this.h()},h(){c(n,"class","markdown-content")},m(e,r){l(e,n,r),f.block.m(n,f.anchor=null),f.mount=()=>n,f.anchor=null},p(n,[o]){e=n,f.ctx=e,1&o&&r!==(r=J(e[0]))&&s(r,f)||d(f,e,o)},i:u,o:u,d(e){e&&i(n),f.block.d(),f.token=null,f=null}}}function se(e,n,r){let{changelog:s}=n;return e.$$set=e=>{"changelog"in e&&r(0,s=e.changelog)},[s]}class oe extends e{constructor(e){super(),n(this,e,se,re,r,{changelog:0})}}function ae(e){let n,r,s,d,$,b,E,x,V,w,k,y,I,N,S,D,T,j,A,O,P,R,B,M,H,C,L,G,_,z,U,q,J,K,Q,W,X,Y,F,Z,ee,ne,re,se,oe=e[0].created_at+"",ae=e[0].downloads+"",te=e[0].sml_version+"",ie=e[0].stability+"",ce=e[0].size+"",le=e[0].hash+"";return{c(){n=o("div"),r=o("h3"),s=f("Info"),d=h(),$=o("span"),b=o("strong"),E=f("Created:"),x=h(),V=f(oe),w=o("br"),k=h(),y=o("span"),I=o("strong"),N=f("Downloads:"),S=h(),D=f(ae),T=o("br"),j=h(),A=o("span"),O=o("strong"),P=f("SML Version:"),R=h(),B=f(te),M=o("br"),H=h(),C=o("span"),L=o("strong"),G=f("Stability:"),_=h(),z=f(ie),U=o("br"),q=h(),J=o("span"),K=o("strong"),Q=f("Size:"),W=h(),X=f(ce),Y=o("br"),F=h(),Z=o("span"),ee=o("strong"),ne=f("Hash:"),re=h(),se=f(le),this.h()},l(e){n=a(e,"DIV",{class:!0});var o=t(n);r=a(o,"H3",{class:!0});var c=t(r);s=m(c,"Info"),c.forEach(i),d=g(o),$=a(o,"SPAN",{});var l=t($);b=a(l,"STRONG",{});var u=t(b);E=m(u,"Created:"),u.forEach(i),x=g(l),V=m(l,oe),l.forEach(i),w=a(o,"BR",{}),k=g(o),y=a(o,"SPAN",{});var f=t(y);I=a(f,"STRONG",{});var h=t(I);N=m(h,"Downloads:"),h.forEach(i),S=g(f),D=m(f,ae),f.forEach(i),T=a(o,"BR",{}),j=g(o),A=a(o,"SPAN",{});var v=t(A);O=a(v,"STRONG",{});var p=t(O);P=m(p,"SML Version:"),p.forEach(i),R=g(v),B=m(v,te),v.forEach(i),M=a(o,"BR",{}),H=g(o),C=a(o,"SPAN",{});var de=t(C);L=a(de,"STRONG",{});var ue=t(L);G=m(ue,"Stability:"),ue.forEach(i),_=g(de),z=m(de,ie),de.forEach(i),U=a(o,"BR",{}),q=g(o),J=a(o,"SPAN",{});var fe=t(J);K=a(fe,"STRONG",{});var he=t(K);Q=m(he,"Size:"),he.forEach(i),W=g(fe),X=m(fe,ce),fe.forEach(i),Y=a(o,"BR",{}),F=g(o),Z=a(o,"SPAN",{});var me=t(Z);ee=a(me,"STRONG",{});var ge=t(ee);ne=m(ge,"Hash:"),ge.forEach(i),re=g(me),se=m(me,le),me.forEach(i),o.forEach(i),this.h()},h(){c(r,"class","text-2xl my-4 font-bold"),c(n,"class","text-lg")},m(e,o){l(e,n,o),v(n,r),v(r,s),v(n,d),v(n,$),v($,b),v(b,E),v($,x),v($,V),v(n,w),v(n,k),v(n,y),v(y,I),v(I,N),v(y,S),v(y,D),v(n,T),v(n,j),v(n,A),v(A,O),v(O,P),v(A,R),v(A,B),v(n,M),v(n,H),v(n,C),v(C,L),v(L,G),v(C,_),v(C,z),v(n,U),v(n,q),v(n,J),v(J,K),v(K,Q),v(J,W),v(J,X),v(n,Y),v(n,F),v(n,Z),v(Z,ee),v(ee,ne),v(Z,re),v(Z,se)},p(e,[n]){1&n&&oe!==(oe=e[0].created_at+"")&&p(V,oe),1&n&&ae!==(ae=e[0].downloads+"")&&p(D,ae),1&n&&te!==(te=e[0].sml_version+"")&&p(B,te),1&n&&ie!==(ie=e[0].stability+"")&&p(z,ie),1&n&&ce!==(ce=e[0].size+"")&&p(X,ce),1&n&&le!==(le=e[0].hash+"")&&p(se,le)},i:u,o:u,d(e){e&&i(n)}}}function te(e,n,r){let{version:s}=n;return e.$$set=e=>{"version"in e&&r(0,s=e.version)},[s]}class ie extends e{constructor(e){super(),n(this,e,te,ae,r,{version:0})}}function ce(e){let n,r;return n=new G({props:{description:"Information for mod version "+e[3].data.getVersion.mod.name+" "+e[3].data.getVersion.version,title:"Mod version "+e[3].data.getVersion.mod.name+" "+e[3].data.getVersion.version}}),{c(){b(n.$$.fragment)},l(e){E(n.$$.fragment,e)},m(e,s){x(n,e,s),r=!0},p(e,r){const s={};8&r&&(s.description="Information for mod version "+e[3].data.getVersion.mod.name+" "+e[3].data.getVersion.version),8&r&&(s.title="Mod version "+e[3].data.getVersion.mod.name+" "+e[3].data.getVersion.version),n.$set(s)},i(e){r||(V(n.$$.fragment,e),r=!0)},o(e){w(n.$$.fragment,e),r=!1},d(e){k(n,e)}}}function le(e){let n;return{c(){n=f("404")},l(e){n=m(e,"404")},m(e,r){l(e,n,r)},p:u,i:u,o:u,d(e){e&&i(n)}}}function de(e){let n,r,s,d,u,$,y,I,N,S,D,T,j,A,O,P,R,G,_,z,U,q,J,Q,Y,Z,ee,ne,re,se,ae,te=e[3].data.getVersion.mod.name+"",ce=e[3].data.getVersion.version+"",le=e[6]&&he(e);function de(n){e[19](n)}_=new B({props:{icon:M,inline:!0,class:"inline-block"}}),U=new oe({props:{changelog:e[3].data.getVersion.changelog}}),Q=new ie({props:{version:e[3].data.getVersion}});let ue={$$slots:{default:[me]},$$scope:{ctx:e}};function fe(n){e[20](n)}void 0!==e[7]&&(ue.open=e[7]),Z=new X({props:ue}),H.push((()=>C(Z,"open",de)));let ve={$$slots:{default:[ge]},$$scope:{ctx:e}};return void 0!==e[5]&&(ve.running=e[5]),re=new W({props:ve}),H.push((()=>C(re,"running",fe))),{c(){n=o("div"),r=o("div"),s=o("div"),d=o("h1"),u=f(te),$=f("\n          Version "),y=f(ce),I=h(),N=o("div"),le&&le.c(),S=h(),D=o("a"),T=f("Download"),A=h(),O=o("a"),P=o("span"),R=f("Install"),G=h(),b(_.$$.fragment),z=h(),b(U.$$.fragment),q=h(),J=o("div"),b(Q.$$.fragment),Y=h(),b(Z.$$.fragment),ne=h(),b(re.$$.fragment),this.h()},l(e){n=a(e,"DIV",{class:!0});var o=t(n);r=a(o,"DIV",{class:!0});var c=t(r);s=a(c,"DIV",{class:!0});var l=t(s);d=a(l,"H1",{class:!0});var f=t(d);u=m(f,te),$=m(f,"\n          Version "),y=m(f,ce),f.forEach(i),I=g(l),N=a(l,"DIV",{class:!0});var h=t(N);le&&le.l(h),S=g(h),D=a(h,"A",{href:!0,class:!0});var v=t(D);T=m(v,"Download"),v.forEach(i),A=g(h),O=a(h,"A",{href:!0,class:!0});var p=t(O);P=a(p,"SPAN",{});var b=t(P);R=m(b,"Install"),b.forEach(i),G=g(p),E(_.$$.fragment,p),p.forEach(i),h.forEach(i),l.forEach(i),z=g(c),E(U.$$.fragment,c),c.forEach(i),q=g(o),J=a(o,"DIV",{class:!0});var x=t(J);E(Q.$$.fragment,x),x.forEach(i),o.forEach(i),Y=g(e),E(Z.$$.fragment,e),ne=g(e),E(re.$$.fragment,e),this.h()},h(){c(d,"class","text-4xl my-4 font-bold"),c(D,"href",j=K+"/mod/"+e[0]+"/versions/"+e[1]+"/download"),c(D,"class","py-2 px-4 rounded text-base bg-green-600 text-center"),c(O,"href",F),c(O,"class","py-2 px-4 rounded text-base bg-blue-600 text-center"),c(N,"class","grid grid-flow-col gap-4"),c(s,"class","grid grid-flow-col grid-auto-max h-auto items-center svelte-1ug5acc"),c(r,"class","grid grid-cols-1 auto-rows-min gap-8"),c(J,"class","grid grid-cols-1 auto-rows-min gap-8"),c(n,"class","grid gap-8 grid-auto-max svelte-1ug5acc")},m(e,o){l(e,n,o),v(n,r),v(r,s),v(s,d),v(d,u),v(d,$),v(d,y),v(s,I),v(s,N),le&&le.m(N,null),v(N,S),v(N,D),v(D,T),v(N,A),v(N,O),v(O,P),v(P,R),v(O,G),x(_,O,null),v(r,z),x(U,r,null),v(n,q),v(n,J),x(Q,J,null),l(e,Y,o),x(Z,e,o),l(e,ne,o),x(re,e,o),ae=!0},p(e,n){(!ae||8&n)&&te!==(te=e[3].data.getVersion.mod.name+"")&&p(u,te),(!ae||8&n)&&ce!==(ce=e[3].data.getVersion.version+"")&&p(y,ce),e[6]?le?le.p(e,n):(le=he(e),le.c(),le.m(N,S)):le&&(le.d(1),le=null),(!ae||3&n&&j!==(j=K+"/mod/"+e[0]+"/versions/"+e[1]+"/download"))&&c(D,"href",j);const r={};8&n&&(r.changelog=e[3].data.getVersion.changelog),U.$set(r);const s={};8&n&&(s.version=e[3].data.getVersion),Q.$set(s);const o={};4194304&n&&(o.$$scope={dirty:n,ctx:e}),!ee&&128&n&&(ee=!0,o.open=e[7],L((()=>ee=!1))),Z.$set(o);const a={};4194320&n&&(a.$$scope={dirty:n,ctx:e}),!se&&32&n&&(se=!0,a.running=e[5],L((()=>se=!1))),re.$set(a)},i(e){ae||(V(_.$$.fragment,e),V(U.$$.fragment,e),V(Q.$$.fragment,e),V(Z.$$.fragment,e),V(re.$$.fragment,e),ae=!0)},o(e){w(_.$$.fragment,e),w(U.$$.fragment,e),w(Q.$$.fragment,e),w(Z.$$.fragment,e),w(re.$$.fragment,e),ae=!1},d(e){e&&i(n),le&&le.d(),k(_),k(U),k(Q),e&&i(Y),k(Z,e),e&&i(ne),k(re,e)}}}function ue(e){let n,r,s,c=e[3].error.message+"";return{c(){n=o("p"),r=f("Oh no... "),s=f(c)},l(e){n=a(e,"P",{});var o=t(n);r=m(o,"Oh no... "),s=m(o,c),o.forEach(i)},m(e,o){l(e,n,o),v(n,r),v(n,s)},p(e,n){8&n&&c!==(c=e[3].error.message+"")&&p(s,c)},i:u,o:u,d(e){e&&i(n)}}}function fe(e){let n,r;return{c(){n=o("p"),r=f("Loading...")},l(e){n=a(e,"P",{});var s=t(n);r=m(s,"Loading..."),s.forEach(i)},m(e,s){l(e,n,s),v(n,r)},p:u,i:u,o:u,d(e){e&&i(n)}}}function he(e){let n,r,s,d,p,$,b;return{c(){n=o("button"),r=f("Edit"),s=h(),d=o("button"),p=f("Delete"),this.h()},l(e){n=a(e,"BUTTON",{class:!0});var o=t(n);r=m(o,"Edit"),o.forEach(i),s=g(e),d=a(e,"BUTTON",{class:!0});var c=t(d);p=m(c,"Delete"),c.forEach(i),this.h()},h(){c(n,"class","py-2 px-4 rounded text-base bg-yellow-600"),c(d,"class","py-2 px-4 rounded text-base bg-red-500")},m(o,a){l(o,n,a),v(n,r),l(o,s,a),l(o,d,a),v(d,p),$||(b=[P(n,"click",e[15]),P(d,"click",e[16])],$=!0)},p:u,d(e){e&&i(n),e&&i(s),e&&i(d),$=!1,R(b)}}}function me(e){let n,r,s,d,p,$,b,E,x,V,w,k,y,I;return{c(){n=o("div"),r=o("h3"),s=f("Delete Version?"),d=h(),p=o("span"),$=f("Are you sure you wish to delete this version"),b=h(),E=o("button"),x=f("Cancel"),V=h(),w=o("button"),k=f("Delete"),this.h()},l(e){n=a(e,"DIV",{class:!0});var o=t(n);r=a(o,"H3",{class:!0});var c=t(r);s=m(c,"Delete Version?"),c.forEach(i),d=g(o),p=a(o,"SPAN",{});var l=t(p);$=m(l,"Are you sure you wish to delete this version"),l.forEach(i),b=g(o),E=a(o,"BUTTON",{class:!0});var u=t(E);x=m(u,"Cancel"),u.forEach(i),V=g(o),w=a(o,"BUTTON",{class:!0});var f=t(w);k=m(f,"Delete"),f.forEach(i),o.forEach(i),this.h()},h(){c(r,"class","text-2xl font-bold"),c(E,"class","py-1 px-4 rounded text-base bg-yellow-600"),c(w,"class","py-1 px-4 rounded text-base bg-red-500"),c(n,"class","grid grid-flow-row gap-4")},m(o,a){l(o,n,a),v(n,r),v(r,s),v(n,d),v(n,p),v(p,$),v(n,b),v(n,E),v(E,x),v(n,V),v(n,w),v(w,k),y||(I=[P(E,"click",e[17]),P(w,"click",e[18])],y=!0)},p:u,d(e){e&&i(n),y=!1,R(I)}}}function ge(e){let n,r;return{c(){n=o("span"),r=f(e[4])},l(s){n=a(s,"SPAN",{});var o=t(n);r=m(o,e[4]),o.forEach(i)},m(e,s){l(e,n,s),v(n,r)},p(e,n){16&n&&p(r,e[4])},d(e){e&&i(n)}}}function ve(e){let n,r,s,o,a,t,c=!e[3].fetching&&!e[3].error&&e[3].data.getVersion&&ce(e);const d=[fe,ue,de,le],u=[];function f(e,n){return e[3].fetching?0:e[3].error?1:e[3].data.getVersion?2:3}return s=f(e),o=u[s]=d[s](e),{c(){c&&c.c(),n=y(),r=h(),o.c(),a=y()},l(e){const s=I('[data-svelte="svelte-7zfw29"]',document.head);c&&c.l(s),n=y(),s.forEach(i),r=g(e),o.l(e),a=y()},m(e,o){c&&c.m(document.head,null),v(document.head,n),l(e,r,o),u[s].m(e,o),l(e,a,o),t=!0},p(e,[r]){e[3].fetching||e[3].error||!e[3].data.getVersion?c&&(A(),w(c,1,1,(()=>{c=null})),N()):c?(c.p(e,r),8&r&&V(c,1)):(c=ce(e),c.c(),V(c,1),c.m(n.parentNode,n));let t=s;s=f(e),s===t?u[s].p(e,r):(A(),w(u[t],1,1,(()=>{u[t]=null})),N(),o=u[s],o?o.p(e,r):(o=u[s]=d[s](e),o.c()),V(o,1),o.m(a.parentNode,a))},i(e){t||(V(c),V(o),t=!0)},o(e){w(c),w(o),t=!1},d(e){c&&c.d(e),i(n),e&&i(r),u[s].d(e),e&&i(a)}}}var pe=function(e,n,r,s){return new(r||(r=Promise))((function(o,a){function t(e){try{c(s.next(e))}catch(n){a(n)}}function i(e){try{c(s.throw(e))}catch(n){a(n)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof r?n:new r((function(e){e(n)}))).then(t,i)}c((s=s.apply(e,n||[])).next())}))};const $e=$(z,{version:void 0}),be=q((e=>pe(void 0,void 0,void 0,(function*(){return $e.variables.version=e.page.params.versionId,_({version:$e})(e)}))));function Ee(e,n,r){let s,o,a,t,i=u,c=()=>(i(),i=D(v,(e=>r(3,a=e))),v);var l,d,f,h;S(e,Q,(e=>r(14,o=e))),e.$$.on_destroy.push((()=>i()));let{modId:m}=n,{versionId:g}=n,{version:v}=n;c();let p="",$=!1;const b=T({query:U}),E=O(!1);S(e,E,(e=>r(7,t=e)));const x=()=>{b({versionId:g}).then((e=>{e.error?(console.error(e.error.message),r(4,p="Error deleting version: "+e.error.message),r(5,$=!0)):Y(F+"/mod/"+m)}))};j(v);return e.$$set=e=>{"modId"in e&&r(0,m=e.modId),"versionId"in e&&r(1,g=e.versionId),"version"in e&&c(r(2,v=e.version))},e.$$.update=()=>{31752&e.$$.dirty&&r(6,s=(null===r(10,l=null==o?void 0:o.roles)||void 0===l?void 0:l.deleteContent)||(null===r(13,h=null===r(12,f=null===r(11,d=null==a?void 0:a.data)||void 0===d?void 0:d.getVersion.mod)||void 0===f?void 0:f.authors)||void 0===h?void 0:h.findIndex((e=>e.user_id==(null==o?void 0:o.id))))>=0)},[m,g,v,a,p,$,s,t,E,x,l,d,f,h,o,()=>Y(F+"/mod/"+m+"/version/"+g+"/edit"),()=>E.set(!0),()=>E.set(!1),()=>x(),function(e){t=e,E.set(t)},function(e){$=e,r(5,$)}]}class xe extends e{constructor(e){super(),n(this,e,Ee,ve,r,{modId:0,versionId:1,version:2})}}export{xe as default,be as load};
//# sourceMappingURL=index.svelte-136692c0.js.map
