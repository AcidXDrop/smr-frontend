import{S as s,i as r,s as n,J as t,K as e,j as a,k as o,e as i,t as c,$ as m,m as u,d,n as l,c as f,a as p,g as $,b as h,o as g,f as V,R as j,u as v,w as k,x as b,L as S,v as E,N as L,M,Q as x,O as I,r as w,h as y,X as O}from"../../../../chunks/vendor-717a693c.js";import{p as q}from"../../../../chunks/routing-1d144003.js";import{p as D,q as N}from"../../../../chunks/graphql-7c12eb8b.js";import{T as P}from"../../../../chunks/Toast-88c84b53.js";import{g as T}from"../../../../chunks/navigation-51f4a605.js";import{S as A}from"../../../../chunks/SMLVersionForm-3c9ecab5.js";import{b as F}from"../../../../chunks/paths-6758d194.js";import{M as H}from"../../../../chunks/MetaDescriptors-a7f74224.js";import"../../../../chunks/singletons-12a22614.js";import"../../../../chunks/forms-8d025218.js";import"../../../../chunks/markdown-5153303f.js";import"../../../../chunks/stores-ef71dba6.js";function J(s){let r,n;return r=new A({props:{onSubmit:s[5],initialValues:s[3],submitText:"Save"}}),{c(){a(r.$$.fragment)},l(s){u(r.$$.fragment,s)},m(s,t){g(r,s,t),n=!0},p(s,n){const t={};8&n&&(t.initialValues=s[3]),r.$set(t)},i(s){n||(b(r.$$.fragment,s),n=!0)},o(s){v(r.$$.fragment,s),n=!1},d(s){E(r,s)}}}function K(s){let r,n,t,e=s[1].error.message+"";return{c(){r=i("p"),n=c("Oh no... "),t=c(e)},l(s){r=f(s,"P",{});var a=p(r);n=$(a,"Oh no... "),t=$(a,e),a.forEach(d)},m(s,e){V(s,r,e),j(r,n),j(r,t)},p(s,r){2&r&&e!==(e=s[1].error.message+"")&&y(t,e)},i:O,o:O,d(s){s&&d(r)}}}function Q(s){let r,n;return{c(){r=i("p"),n=c("Loading...")},l(s){r=f(s,"P",{});var t=p(r);n=$(t,"Loading..."),t.forEach(d)},m(s,t){V(s,r,t),j(r,n)},p:O,i:O,o:O,d(s){s&&d(r)}}}function R(s){let r,n;return{c(){r=i("span"),n=c(s[2])},l(t){r=f(t,"SPAN",{});var e=p(r);n=$(e,s[2]),e.forEach(d)},m(s,t){V(s,r,t),j(r,n)},p(s,r){4&r&&y(n,s[2])},d(s){s&&d(r)}}}function X(s){let r,n,L,M,x,I,y,O,q,D,N;r=new H({props:{description:"Edit SML Version",title:"Admin: Edit SML Version"}});const T=[Q,K,J],A=[];function F(s,r){return s[1].fetching?0:s[1].error?1:2}function X(r){s[7](r)}I=F(s),y=A[I]=T[I](s);let z={$$slots:{default:[R]},$$scope:{ctx:s}};return void 0!==s[0]&&(z.running=s[0]),q=new P({props:z}),t.push((()=>e(q,"running",X))),{c(){a(r.$$.fragment),n=o(),L=i("h1"),M=c("Edit SMLVersion"),x=o(),y.c(),O=o(),a(q.$$.fragment),this.h()},l(s){const t=m('[data-svelte="svelte-7e9nlv"]',document.head);u(r.$$.fragment,t),t.forEach(d),n=l(s),L=f(s,"H1",{class:!0});var e=p(L);M=$(e,"Edit SMLVersion"),e.forEach(d),x=l(s),y.l(s),O=l(s),u(q.$$.fragment,s),this.h()},h(){h(L,"class","text-4xl my-4 font-bold")},m(s,t){g(r,document.head,null),V(s,n,t),V(s,L,t),j(L,M),V(s,x,t),A[I].m(s,t),V(s,O,t),g(q,s,t),N=!0},p(s,[r]){let n=I;I=F(s),I===n?A[I].p(s,r):(w(),v(A[n],1,1,(()=>{A[n]=null})),k(),y=A[I],y?y.p(s,r):(y=A[I]=T[I](s),y.c()),b(y,1),y.m(O.parentNode,O));const t={};516&r&&(t.$$scope={dirty:r,ctx:s}),!D&&1&r&&(D=!0,t.running=s[0],S((()=>D=!1))),q.$set(t)},i(s){N||(b(r.$$.fragment,s),b(y),b(q.$$.fragment,s),N=!0)},o(s){v(r.$$.fragment,s),v(y),v(q.$$.fragment,s),N=!1},d(s){E(r),s&&d(n),s&&d(L),s&&d(x),A[I].d(s),s&&d(O),E(q,s)}}}const z=q();function B(s,r,n){let t,e,{smlVersionId:a}=r,o="",i=!1;const c=L(D,{smlVersionID:a});M(s,c,(s=>n(1,e=s)));const m=x({query:N});return I(c),s.$$set=s=>{"smlVersionId"in s&&n(6,a=s.smlVersionId)},s.$$.update=()=>{1&s.$$.dirty&&(i||n(2,o="")),2&s.$$.dirty&&n(3,t=e.data?Object.assign(Object.assign({},e.data.getSMLVersion),{logo:void 0}):void 0)},[i,e,o,t,c,s=>{m({smlVersionID:a,smlVersion:s}).then((s=>{s.error?(console.error(s.error.message),n(2,o="Error editing sMLVersion: "+s.error.message),n(0,i=!0)):T(F+"/admin/sml-versions")}))},a,function(s){i=s,n(0,i)}]}class C extends s{constructor(s){super(),r(this,s,B,X,n,{smlVersionId:6})}}export{C as default,z as load};
//# sourceMappingURL=edit.svelte-51f72c95.js.map
