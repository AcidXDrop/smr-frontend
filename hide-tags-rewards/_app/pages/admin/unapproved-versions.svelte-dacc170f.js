import{S as e,i as s,s as t,e as a,j as r,c as o,a as n,m as c,d as l,b as i,f as d,o as u,x as f,u as h,v as m,k as p,l as v,$ as g,n as $,w as b,N as D,M as V,aj as x,Q as E,O as w,r as I,C as j,t as y,g as k,R as P,W as M,h as U,Y as A,ad as N,X as _}from"../../chunks/vendor-717a693c.js";import{i as O,A as T,D as q}from"../../chunks/graphql-7c12eb8b.js";import{P as L}from"../../chunks/PageControls-bebdb22a.js";import{b as R}from"../../chunks/api-82c76902.js";import"../../chunks/user-9208d706.js";import{b as B}from"../../chunks/paths-6758d194.js";import{M as C}from"../../chunks/MetaDescriptors-a7f74224.js";import"../../chunks/stores-ef71dba6.js";function H(e,s,t){const a=e.slice();return a[12]=s[t],a}function Q(e){let s,t,p;return t=new L({props:{totalPages:Math.ceil(e[1]/G),currentPage:e[3]}}),{c(){s=a("div"),r(t.$$.fragment),this.h()},l(e){s=o(e,"DIV",{class:!0});var a=n(s);c(t.$$.fragment,a),a.forEach(l),this.h()},h(){i(s,"class","mt-5 ml-auto flex justify-end")},m(e,a){d(e,s,a),u(t,s,null),p=!0},p(e,s){const a={};2&s&&(a.totalPages=Math.ceil(e[1]/G)),t.$set(a)},i(e){p||(f(t.$$.fragment,e),p=!0)},o(e){h(t.$$.fragment,e),p=!1},d(e){e&&l(s),m(t)}}}function S(e){let s,t,r,c,u,f,h,m,v,g,b,D,V=e[0].data.getUnapprovedVersions.versions,x=[];for(let a=0;a<V.length;a+=1)x[a]=Y(H(e,V,a));return{c(){s=a("div"),t=a("div"),r=y("Mod"),c=p(),u=a("div"),f=y("Version"),h=p(),m=a("div"),v=y("Release Date"),g=p(),b=a("div"),D=p();for(let e=0;e<x.length;e+=1)x[e].c();this.h()},l(e){s=o(e,"DIV",{class:!0});var a=n(s);t=o(a,"DIV",{});var i=n(t);r=k(i,"Mod"),i.forEach(l),c=$(a),u=o(a,"DIV",{});var d=n(u);f=k(d,"Version"),d.forEach(l),h=$(a),m=o(a,"DIV",{});var p=n(m);v=k(p,"Release Date"),p.forEach(l),g=$(a),b=o(a,"DIV",{}),n(b).forEach(l),D=$(a);for(let s=0;s<x.length;s+=1)x[s].l(a);a.forEach(l),this.h()},h(){i(s,"class","grid grid-cols-6 itemList svelte-uwb2eg")},m(e,a){d(e,s,a),P(s,t),P(t,r),P(s,c),P(s,u),P(u,f),P(s,h),P(s,m),P(m,v),P(s,g),P(s,b),P(s,D);for(let t=0;t<x.length;t+=1)x[t].m(s,null)},p(e,t){if(49&t){let a;for(V=e[0].data.getUnapprovedVersions.versions,a=0;a<V.length;a+=1){const r=H(e,V,a);x[a]?x[a].p(r,t):(x[a]=Y(r),x[a].c(),x[a].m(s,null))}for(;a<x.length;a+=1)x[a].d(1);x.length=V.length}},d(e){e&&l(s),N(x,e)}}}function W(e){let s,t,r,c=e[0].error.message+"";return{c(){s=a("p"),t=y("Oh no... "),r=y(c)},l(e){s=o(e,"P",{});var a=n(s);t=k(a,"Oh no... "),r=k(a,c),a.forEach(l)},m(e,a){d(e,s,a),P(s,t),P(s,r)},p(e,s){1&s&&c!==(c=e[0].error.message+"")&&U(r,c)},d(e){e&&l(s)}}}function X(e){let s,t;return{c(){s=a("p"),t=y("Loading...")},l(e){s=o(e,"P",{});var a=n(s);t=k(a,"Loading..."),a.forEach(l)},m(e,a){d(e,s,a),P(s,t)},p:_,d(e){e&&l(s)}}}function Y(e){let s,t,r,c,u,f,h,m,v,g,b,D,V,x,E,w,I,j,N,_,O,T,q,L,C,H,Q,S=e[12].mod.name+"",W=e[12].version+"",X=e[12].created_at+"";function Y(){return e[8](e[12])}function z(){return e[9](e[12])}return{c(){s=a("div"),t=a("div"),r=y(S),c=p(),u=a("div"),f=y(W),h=p(),m=a("div"),v=y(X),g=p(),b=a("div"),D=a("button"),V=y("Approve"),x=p(),E=a("button"),w=y("Deny"),I=p(),j=a("a"),N=y("Download"),O=p(),T=a("a"),q=y("View"),C=p(),this.h()},l(e){s=o(e,"DIV",{class:!0});var a=n(s);t=o(a,"DIV",{class:!0});var i=n(t);r=k(i,S),i.forEach(l),c=$(a),u=o(a,"DIV",{class:!0});var d=n(u);f=k(d,W),d.forEach(l),h=$(a),m=o(a,"DIV",{class:!0});var p=n(m);v=k(p,X),p.forEach(l),g=$(a),b=o(a,"DIV",{class:!0});var y=n(b);D=o(y,"BUTTON",{class:!0});var P=n(D);V=k(P,"Approve"),P.forEach(l),x=$(y),E=o(y,"BUTTON",{class:!0});var M=n(E);w=k(M,"Deny"),M.forEach(l),I=$(y),j=o(y,"A",{href:!0,class:!0});var U=n(j);N=k(U,"Download"),U.forEach(l),O=$(y),T=o(y,"A",{href:!0,class:!0});var A=n(T);q=k(A,"View"),A.forEach(l),y.forEach(l),C=$(a),a.forEach(l),this.h()},h(){i(t,"class","svelte-uwb2eg"),i(u,"class","svelte-uwb2eg"),i(m,"class","svelte-uwb2eg"),i(D,"class","py-1 px-4 rounded text-base bg-green-600 text-center cursor-pointer"),i(E,"class","py-1 px-4 rounded text-base bg-red-600 text-center cursor-pointer"),i(j,"href",_=R+"/mod/"+e[12].mod_id+"/versions/"+e[12].id+"/download"),i(j,"class","py-1 px-4 rounded text-base bg-yellow-600 text-center cursor-pointer"),i(T,"href",L=B+"/mod/"+e[12].mod_id+"/version/"+e[12].id),i(T,"class","py-1 px-4 rounded text-base bg-blue-500 text-center cursor-pointer"),i(b,"class","grid grid-flow-col gap-4 svelte-uwb2eg"),i(s,"class","contents itemHeader svelte-uwb2eg")},m(e,a){d(e,s,a),P(s,t),P(t,r),P(s,c),P(s,u),P(u,f),P(s,h),P(s,m),P(m,v),P(s,g),P(s,b),P(b,D),P(D,V),P(b,x),P(b,E),P(E,w),P(b,I),P(b,j),P(j,N),P(b,O),P(b,T),P(T,q),P(s,C),H||(Q=[M(D,"click",Y),M(E,"click",z)],H=!0)},p(s,t){e=s,1&t&&S!==(S=e[12].mod.name+"")&&U(r,S),1&t&&W!==(W=e[12].version+"")&&U(f,W),1&t&&X!==(X=e[12].created_at+"")&&U(v,X),1&t&&_!==(_=R+"/mod/"+e[12].mod_id+"/versions/"+e[12].id+"/download")&&i(j,"href",_),1&t&&L!==(L=B+"/mod/"+e[12].mod_id+"/version/"+e[12].id)&&i(T,"href",L)},d(e){e&&l(s),H=!1,A(Q)}}}function z(e){let s,t,p;return t=new L({props:{totalPages:Math.ceil(e[1]/G),currentPage:e[3]}}),{c(){s=a("div"),r(t.$$.fragment),this.h()},l(e){s=o(e,"DIV",{class:!0});var a=n(s);c(t.$$.fragment,a),a.forEach(l),this.h()},h(){i(s,"class","mt-5 ml-auto flex justify-end")},m(e,a){d(e,s,a),u(t,s,null),p=!0},p(e,s){const a={};2&s&&(a.totalPages=Math.ceil(e[1]/G)),t.$set(a)},i(e){p||(f(t.$$.fragment,e),p=!0)},o(e){h(t.$$.fragment,e),p=!1},d(e){e&&l(s),m(t)}}}function F(e){let s,t,a,o,n,i;s=new C({props:{description:"Unapproved mod versions",title:"Admin: Unapproved Versions"}});let D=e[1]&&Q(e);function V(e,s){return e[0].fetching?X:e[0].error?W:S}let x=V(e),E=x(e),w=e[1]&&z(e);return{c(){r(s.$$.fragment),t=p(),D&&D.c(),a=p(),E.c(),o=p(),w&&w.c(),n=v()},l(e){const r=g('[data-svelte="svelte-c87g9p"]',document.head);c(s.$$.fragment,r),r.forEach(l),t=$(e),D&&D.l(e),a=$(e),E.l(e),o=$(e),w&&w.l(e),n=v()},m(e,r){u(s,document.head,null),d(e,t,r),D&&D.m(e,r),d(e,a,r),E.m(e,r),d(e,o,r),w&&w.m(e,r),d(e,n,r),i=!0},p(e,[s]){e[1]?D?(D.p(e,s),2&s&&f(D,1)):(D=Q(e),D.c(),f(D,1),D.m(a.parentNode,a)):D&&(I(),h(D,1,1,(()=>{D=null})),b()),x===(x=V(e))&&E?E.p(e,s):(E.d(1),E=x(e),E&&(E.c(),E.m(o.parentNode,o))),e[1]?w?(w.p(e,s),2&s&&f(w,1)):(w=z(e),w.c(),f(w,1),w.m(n.parentNode,n)):w&&(I(),h(w,1,1,(()=>{w=null})),b())},i(e){i||(f(s.$$.fragment,e),f(D),f(w),i=!0)},o(e){h(s.$$.fragment,e),h(D),h(w),i=!1},d(e){m(s),e&&l(t),D&&D.d(e),e&&l(a),E.d(e),e&&l(o),w&&w.d(e),e&&l(n)}}}const G=20;function J(e,s,t){let a;var r,o;const n=D(O,{filter:{offset:0,limit:G}});V(e,n,(e=>t(0,a=e)));const c=j(1);let l;c.subscribe((e=>x(n,a.variables.filter.offset=(e-1)*G,a)));const i=E({query:T}),d=e=>{i({versionId:e}).then((()=>{n.reexecute()}))},u=E({query:q}),f=e=>{u({versionId:e}).then((()=>{n.reexecute()}))};w(n);return e.$$.update=()=>{193&e.$$.dirty&&t(1,l=null===t(7,o=null===t(6,r=null==a?void 0:a.data)||void 0===r?void 0:r.getUnapprovedVersions)||void 0===o?void 0:o.count)},[a,l,n,c,d,f,r,o,e=>d(e.id),e=>f(e.id)]}class K extends e{constructor(e){super(),s(this,e,J,F,t,{})}}export{K as default};
//# sourceMappingURL=unapproved-versions.svelte-dacc170f.js.map
