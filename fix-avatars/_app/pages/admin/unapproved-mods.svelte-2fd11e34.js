import{S as e,i as t,s as a,e as s,j as r,c as o,a as n,m as c,d as l,b as i,f as d,o as u,x as f,u as h,v as p,k as m,l as g,$ as v,n as $,w as b,N as D,M as E,ak as x,Q as I,O as V,r as w,C as M,t as j,g as k,R as y,W as P,h as U,Y as N,ad as O,X as A}from"../../chunks/vendor-ae42b6a0.js";import{j as T,k as _,l as q}from"../../chunks/graphql-53becde4.js";import{P as L}from"../../chunks/PageControls-c61a9da0.js";import{b as R}from"../../chunks/paths-6758d194.js";import{M as B}from"../../chunks/MetaDescriptors-acbf38a9.js";import"../../chunks/stores-fc868ea7.js";function C(e,t,a){const s=e.slice();return s[12]=t[a],s}function H(e){let t,a,m;return a=new L({props:{totalPages:Math.ceil(e[1]/F),currentPage:e[3]}}),{c(){t=s("div"),r(a.$$.fragment),this.h()},l(e){t=o(e,"DIV",{class:!0});var s=n(t);c(a.$$.fragment,s),s.forEach(l),this.h()},h(){i(t,"class","mt-5 ml-auto flex justify-end")},m(e,s){d(e,t,s),u(a,t,null),m=!0},p(e,t){const s={};2&t&&(s.totalPages=Math.ceil(e[1]/F)),a.$set(s)},i(e){m||(f(a.$$.fragment,e),m=!0)},o(e){h(a.$$.fragment,e),m=!1},d(e){e&&l(t),p(a)}}}function Q(e){let t,a,r,c,u,f,h,p,g,v,b,D,E=e[0].data.getUnapprovedMods.mods,x=[];for(let s=0;s<E.length;s+=1)x[s]=X(C(e,E,s));return{c(){t=s("div"),a=s("div"),r=j("Mod"),c=m(),u=s("div"),f=j("Description"),h=m(),p=s("div"),g=j("Release Date"),v=m(),b=s("div"),D=m();for(let e=0;e<x.length;e+=1)x[e].c();this.h()},l(e){t=o(e,"DIV",{class:!0});var s=n(t);a=o(s,"DIV",{});var i=n(a);r=k(i,"Mod"),i.forEach(l),c=$(s),u=o(s,"DIV",{});var d=n(u);f=k(d,"Description"),d.forEach(l),h=$(s),p=o(s,"DIV",{});var m=n(p);g=k(m,"Release Date"),m.forEach(l),v=$(s),b=o(s,"DIV",{}),n(b).forEach(l),D=$(s);for(let t=0;t<x.length;t+=1)x[t].l(s);s.forEach(l),this.h()},h(){i(t,"class","grid grid-cols-6 itemList svelte-uwb2eg")},m(e,s){d(e,t,s),y(t,a),y(a,r),y(t,c),y(t,u),y(u,f),y(t,h),y(t,p),y(p,g),y(t,v),y(t,b),y(t,D);for(let a=0;a<x.length;a+=1)x[a].m(t,null)},p(e,a){if(49&a){let s;for(E=e[0].data.getUnapprovedMods.mods,s=0;s<E.length;s+=1){const r=C(e,E,s);x[s]?x[s].p(r,a):(x[s]=X(r),x[s].c(),x[s].m(t,null))}for(;s<x.length;s+=1)x[s].d(1);x.length=E.length}},d(e){e&&l(t),O(x,e)}}}function S(e){let t,a,r,c=e[0].error.message+"";return{c(){t=s("p"),a=j("Oh no... "),r=j(c)},l(e){t=o(e,"P",{});var s=n(t);a=k(s,"Oh no... "),r=k(s,c),s.forEach(l)},m(e,s){d(e,t,s),y(t,a),y(t,r)},p(e,t){1&t&&c!==(c=e[0].error.message+"")&&U(r,c)},d(e){e&&l(t)}}}function W(e){let t,a;return{c(){t=s("p"),a=j("Loading...")},l(e){t=o(e,"P",{});var s=n(t);a=k(s,"Loading..."),s.forEach(l)},m(e,s){d(e,t,s),y(t,a)},p:A,d(e){e&&l(t)}}}function X(e){let t,a,r,c,u,f,h,p,g,v,b,D,E,x,I,V,w,M,O,A,T,_,q,L=e[12].name+"",B=e[12].short_description+"",C=e[12].created_at+"";function H(){return e[8](e[12])}function Q(){return e[9](e[12])}return{c(){t=s("div"),a=s("div"),r=j(L),c=m(),u=s("div"),f=j(B),h=m(),p=s("div"),g=j(C),v=m(),b=s("div"),D=s("button"),E=j("Approve"),x=m(),I=s("button"),V=j("Deny"),w=m(),M=s("a"),O=j("View"),T=m(),this.h()},l(e){t=o(e,"DIV",{class:!0});var s=n(t);a=o(s,"DIV",{class:!0});var i=n(a);r=k(i,L),i.forEach(l),c=$(s),u=o(s,"DIV",{class:!0});var d=n(u);f=k(d,B),d.forEach(l),h=$(s),p=o(s,"DIV",{class:!0});var m=n(p);g=k(m,C),m.forEach(l),v=$(s),b=o(s,"DIV",{class:!0});var j=n(b);D=o(j,"BUTTON",{class:!0});var y=n(D);E=k(y,"Approve"),y.forEach(l),x=$(j),I=o(j,"BUTTON",{class:!0});var P=n(I);V=k(P,"Deny"),P.forEach(l),w=$(j),M=o(j,"A",{href:!0,class:!0});var U=n(M);O=k(U,"View"),U.forEach(l),j.forEach(l),T=$(s),s.forEach(l),this.h()},h(){i(a,"class","svelte-uwb2eg"),i(u,"class","svelte-uwb2eg"),i(p,"class","svelte-uwb2eg"),i(D,"class","py-1 px-4 rounded text-base bg-green-600 text-center cursor-pointer"),i(I,"class","py-1 px-4 rounded text-base bg-red-600 text-center cursor-pointer"),i(M,"href",A=R+"/mod/"+e[12].id),i(M,"class","py-1 px-4 rounded text-base bg-blue-500 text-center cursor-pointer"),i(b,"class","grid grid-flow-col gap-4 svelte-uwb2eg"),i(t,"class","contents itemHeader svelte-uwb2eg")},m(e,s){d(e,t,s),y(t,a),y(a,r),y(t,c),y(t,u),y(u,f),y(t,h),y(t,p),y(p,g),y(t,v),y(t,b),y(b,D),y(D,E),y(b,x),y(b,I),y(I,V),y(b,w),y(b,M),y(M,O),y(t,T),_||(q=[P(D,"click",H),P(I,"click",Q)],_=!0)},p(t,a){e=t,1&a&&L!==(L=e[12].name+"")&&U(r,L),1&a&&B!==(B=e[12].short_description+"")&&U(f,B),1&a&&C!==(C=e[12].created_at+"")&&U(g,C),1&a&&A!==(A=R+"/mod/"+e[12].id)&&i(M,"href",A)},d(e){e&&l(t),_=!1,N(q)}}}function Y(e){let t,a,m;return a=new L({props:{totalPages:Math.ceil(e[1]/F),currentPage:e[3]}}),{c(){t=s("div"),r(a.$$.fragment),this.h()},l(e){t=o(e,"DIV",{class:!0});var s=n(t);c(a.$$.fragment,s),s.forEach(l),this.h()},h(){i(t,"class","mt-5 ml-auto flex justify-end")},m(e,s){d(e,t,s),u(a,t,null),m=!0},p(e,t){const s={};2&t&&(s.totalPages=Math.ceil(e[1]/F)),a.$set(s)},i(e){m||(f(a.$$.fragment,e),m=!0)},o(e){h(a.$$.fragment,e),m=!1},d(e){e&&l(t),p(a)}}}function z(e){let t,a,s,o,n,i;t=new B({props:{description:"Unapproved mods",title:"Admin: Unapproved Mods"}});let D=e[1]&&H(e);function E(e,t){return e[0].fetching?W:e[0].error?S:Q}let x=E(e),I=x(e),V=e[1]&&Y(e);return{c(){r(t.$$.fragment),a=m(),D&&D.c(),s=m(),I.c(),o=m(),V&&V.c(),n=g()},l(e){const r=v('[data-svelte="svelte-g9j975"]',document.head);c(t.$$.fragment,r),r.forEach(l),a=$(e),D&&D.l(e),s=$(e),I.l(e),o=$(e),V&&V.l(e),n=g()},m(e,r){u(t,document.head,null),d(e,a,r),D&&D.m(e,r),d(e,s,r),I.m(e,r),d(e,o,r),V&&V.m(e,r),d(e,n,r),i=!0},p(e,[t]){e[1]?D?(D.p(e,t),2&t&&f(D,1)):(D=H(e),D.c(),f(D,1),D.m(s.parentNode,s)):D&&(w(),h(D,1,1,(()=>{D=null})),b()),x===(x=E(e))&&I?I.p(e,t):(I.d(1),I=x(e),I&&(I.c(),I.m(o.parentNode,o))),e[1]?V?(V.p(e,t),2&t&&f(V,1)):(V=Y(e),V.c(),f(V,1),V.m(n.parentNode,n)):V&&(w(),h(V,1,1,(()=>{V=null})),b())},i(e){i||(f(t.$$.fragment,e),f(D),f(V),i=!0)},o(e){h(t.$$.fragment,e),h(D),h(V),i=!1},d(e){p(t),e&&l(a),D&&D.d(e),e&&l(s),I.d(e),e&&l(o),V&&V.d(e),e&&l(n)}}}const F=20;function G(e,t,a){let s;var r,o;const n=D(T,{filter:{offset:0,limit:F}});E(e,n,(e=>a(0,s=e)));const c=M(1);let l;c.subscribe((e=>x(n,s.variables.filter.offset=(e-1)*F,s)));const i=I({query:_}),d=e=>{i({modId:e}).then((()=>{n.reexecute()}))},u=I({query:q}),f=e=>{u({modId:e}).then((()=>{n.reexecute()}))};V(n);return e.$$.update=()=>{193&e.$$.dirty&&a(1,l=null===a(7,o=null===a(6,r=null==s?void 0:s.data)||void 0===r?void 0:r.getUnapprovedMods)||void 0===o?void 0:o.count)},[s,l,n,c,d,f,r,o,e=>d(e.id),e=>f(e.id)]}class J extends e{constructor(e){super(),t(this,e,G,z,a,{})}}export{J as default};
//# sourceMappingURL=unapproved-mods.svelte-2fd11e34.js.map
